"use strict";var ZenFS=(()=>{var gd=Object.create;var Ni=Object.defineProperty;var wd=Object.getOwnPropertyDescriptor;var Sd=Object.getOwnPropertyNames;var Ed=Object.getPrototypeOf,_d=Object.prototype.hasOwnProperty;var ta=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),ia=e=>{throw TypeError(e)};var s=(e,t)=>Ni(e,"name",{value:t,configurable:!0});var R=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Fn=(e,t)=>{for(var i in t)Ni(e,i,{get:t[i],enumerable:!0})},na=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Sd(t))!_d.call(e,r)&&r!==i&&Ni(e,r,{get:()=>t[r],enumerable:!(n=wd(t,r))||n.enumerable});return e};var Li=(e,t,i)=>(i=e!=null?gd(Ed(e)):{},na(t||!e||!e.__esModule?Ni(i,"default",{value:e,enumerable:!0}):i,e)),xd=e=>na(Ni({},"__esModule",{value:!0}),e);var w=(e,t,i)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&ia("Object expected");var n;i&&(n=t[ta("asyncDispose")]),n===void 0&&(n=t[ta("dispose")]),typeof n!="function"&&ia("Object not disposable"),e.push([i,n,t])}else i&&e.push([i]);return t},E=(e,t,i)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,c,l,f){return f=Error(l),f.name="SuppressedError",f.error=a,f.suppressed=c,f},r=a=>t=i?new n(a,t,"An error was suppressed during disposal"):(i=!0,a),o=a=>{for(;a=e.pop();)try{var c=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(c).then(o,l=>(r(l),o()))}catch(l){r(l)}if(i)throw t};return o()};var ca=R(Pn=>{"use strict";Pn.byteLength=Pd;Pn.toByteArray=Rd;Pn.fromByteArray=Cd;var We=[],ke=[],Od=typeof Uint8Array<"u"?Uint8Array:Array,$r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Lt=0,oa=$r.length;Lt<oa;++Lt)We[Lt]=$r[Lt],ke[$r.charCodeAt(Lt)]=Lt;var Lt,oa;ke[45]=62;ke[95]=63;function aa(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");i===-1&&(i=t);var n=i===t?0:4-i%4;return[i,n]}s(aa,"getLens");function Pd(e){var t=aa(e),i=t[0],n=t[1];return(i+n)*3/4-n}s(Pd,"byteLength");function Td(e,t,i){return(t+i)*3/4-i}s(Td,"_byteLength");function Rd(e){var t,i=aa(e),n=i[0],r=i[1],o=new Od(Td(e,n,r)),a=0,c=r>0?n-4:n,l;for(l=0;l<c;l+=4)t=ke[e.charCodeAt(l)]<<18|ke[e.charCodeAt(l+1)]<<12|ke[e.charCodeAt(l+2)]<<6|ke[e.charCodeAt(l+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return r===2&&(t=ke[e.charCodeAt(l)]<<2|ke[e.charCodeAt(l+1)]>>4,o[a++]=t&255),r===1&&(t=ke[e.charCodeAt(l)]<<10|ke[e.charCodeAt(l+1)]<<4|ke[e.charCodeAt(l+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}s(Rd,"toByteArray");function Nd(e){return We[e>>18&63]+We[e>>12&63]+We[e>>6&63]+We[e&63]}s(Nd,"tripletToBase64");function Ld(e,t,i){for(var n,r=[],o=t;o<i;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),r.push(Nd(n));return r.join("")}s(Ld,"encodeChunk");function Cd(e){for(var t,i=e.length,n=i%3,r=[],o=16383,a=0,c=i-n;a<c;a+=o)r.push(Ld(e,a,a+o>c?c:a+o));return n===1?(t=e[i-1],r.push(We[t>>2]+We[t<<4&63]+"==")):n===2&&(t=(e[i-2]<<8)+e[i-1],r.push(We[t>>10]+We[t>>4&63]+We[t<<2&63]+"=")),r.join("")}s(Cd,"fromByteArray")});var la=R(zr=>{zr.read=function(e,t,i,n,r){var o,a,c=r*8-n-1,l=(1<<c)-1,f=l>>1,d=-7,h=i?r-1:0,b=i?-1:1,y=e[t+h];for(h+=b,o=y&(1<<-d)-1,y>>=-d,d+=c;d>0;o=o*256+e[t+h],h+=b,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=n;d>0;a=a*256+e[t+h],h+=b,d-=8);if(o===0)o=1-f;else{if(o===l)return a?NaN:(y?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-f}return(y?-1:1)*a*Math.pow(2,o-n)};zr.write=function(e,t,i,n,r,o){var a,c,l,f=o*8-r-1,d=(1<<f)-1,h=d>>1,b=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:o-1,S=n?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?t+=b/l:t+=b*Math.pow(2,1-h),t*l>=2&&(a++,l/=2),a+h>=d?(c=0,a=d):a+h>=1?(c=(t*l-1)*Math.pow(2,r),a=a+h):(c=t*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;e[i+y]=c&255,y+=S,c/=256,r-=8);for(a=a<<r|c,f+=r;f>0;e[i+y]=a&255,y+=S,a/=256,f-=8);e[i+y-S]|=g*128}});var ve=R(si=>{"use strict";var Vr=ca(),ni=la(),fa=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;si.Buffer=m;si.SlowBuffer=jd;si.INSPECT_MAX_BYTES=50;var Tn=2147483647;si.kMaxLength=Tn;m.TYPED_ARRAY_SUPPORT=Bd();!m.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Bd(){try{let e=new Uint8Array(1),t={foo:s(function(){return 42},"foo")};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}s(Bd,"typedArraySupport");Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:s(function(){if(m.isBuffer(this))return this.buffer},"get")});Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:s(function(){if(m.isBuffer(this))return this.byteOffset},"get")});function st(e){if(e>Tn)throw new RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,m.prototype),t}s(st,"createBuffer");function m(e,t,i){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Yr(e)}return pa(e,t,i)}s(m,"Buffer");m.poolSize=8192;function pa(e,t,i){if(typeof e=="string")return Md(e,t);if(ArrayBuffer.isView(e))return Wd(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Ue(e,ArrayBuffer)||e&&Ue(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ue(e,SharedArrayBuffer)||e&&Ue(e.buffer,SharedArrayBuffer)))return Kr(e,t,i);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return m.from(n,t,i);let r=Ud(e);if(r)return r;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return m.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}s(pa,"from");m.from=function(e,t,i){return pa(e,t,i)};Object.setPrototypeOf(m.prototype,Uint8Array.prototype);Object.setPrototypeOf(m,Uint8Array);function ya(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}s(ya,"assertSize");function Dd(e,t,i){return ya(e),e<=0?st(e):t!==void 0?typeof i=="string"?st(e).fill(t,i):st(e).fill(t):st(e)}s(Dd,"alloc");m.alloc=function(e,t,i){return Dd(e,t,i)};function Yr(e){return ya(e),st(e<0?0:Xr(e)|0)}s(Yr,"allocUnsafe");m.allocUnsafe=function(e){return Yr(e)};m.allocUnsafeSlow=function(e){return Yr(e)};function Md(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!m.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let i=ma(e,t)|0,n=st(i),r=n.write(e,t);return r!==i&&(n=n.slice(0,r)),n}s(Md,"fromString");function Hr(e){let t=e.length<0?0:Xr(e.length)|0,i=st(t);for(let n=0;n<t;n+=1)i[n]=e[n]&255;return i}s(Hr,"fromArrayLike");function Wd(e){if(Ue(e,Uint8Array)){let t=new Uint8Array(e);return Kr(t.buffer,t.byteOffset,t.byteLength)}return Hr(e)}s(Wd,"fromArrayView");function Kr(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');let n;return t===void 0&&i===void 0?n=new Uint8Array(e):i===void 0?n=new Uint8Array(e,t):n=new Uint8Array(e,t,i),Object.setPrototypeOf(n,m.prototype),n}s(Kr,"fromArrayBuffer");function Ud(e){if(m.isBuffer(e)){let t=Xr(e.length)|0,i=st(t);return i.length===0||e.copy(i,0,0,t),i}if(e.length!==void 0)return typeof e.length!="number"||Qr(e.length)?st(0):Hr(e);if(e.type==="Buffer"&&Array.isArray(e.data))return Hr(e.data)}s(Ud,"fromObject");function Xr(e){if(e>=Tn)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Tn.toString(16)+" bytes");return e|0}s(Xr,"checked");function jd(e){return+e!=e&&(e=0),m.alloc(+e)}s(jd,"SlowBuffer");m.isBuffer=s(function(t){return t!=null&&t._isBuffer===!0&&t!==m.prototype},"isBuffer");m.compare=s(function(t,i){if(Ue(t,Uint8Array)&&(t=m.from(t,t.offset,t.byteLength)),Ue(i,Uint8Array)&&(i=m.from(i,i.offset,i.byteLength)),!m.isBuffer(t)||!m.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===i)return 0;let n=t.length,r=i.length;for(let o=0,a=Math.min(n,r);o<a;++o)if(t[o]!==i[o]){n=t[o],r=i[o];break}return n<r?-1:r<n?1:0},"compare");m.isEncoding=s(function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding");m.concat=s(function(t,i){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return m.alloc(0);let n;if(i===void 0)for(i=0,n=0;n<t.length;++n)i+=t[n].length;let r=m.allocUnsafe(i),o=0;for(n=0;n<t.length;++n){let a=t[n];if(Ue(a,Uint8Array))o+a.length>r.length?(m.isBuffer(a)||(a=m.from(a)),a.copy(r,o)):Uint8Array.prototype.set.call(r,a,o);else if(m.isBuffer(a))a.copy(r,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=a.length}return r},"concat");function ma(e,t){if(m.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Ue(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let i=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&i===0)return 0;let r=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return Gr(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return va(e).length;default:if(r)return n?-1:Gr(e).length;t=(""+t).toLowerCase(),r=!0}}s(ma,"byteLength");m.byteLength=ma;function qd(e,t,i){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,t>>>=0,i<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return Qd(this,t,i);case"utf8":case"utf-8":return ga(this,t,i);case"ascii":return Xd(this,t,i);case"latin1":case"binary":return Jd(this,t,i);case"base64":return Gd(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zd(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}s(qd,"slowToString");m.prototype._isBuffer=!0;function Ct(e,t,i){let n=e[t];e[t]=e[i],e[i]=n}s(Ct,"swap");m.prototype.swap16=s(function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<t;i+=2)Ct(this,i,i+1);return this},"swap16");m.prototype.swap32=s(function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<t;i+=4)Ct(this,i,i+3),Ct(this,i+1,i+2);return this},"swap32");m.prototype.swap64=s(function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<t;i+=8)Ct(this,i,i+7),Ct(this,i+1,i+6),Ct(this,i+2,i+5),Ct(this,i+3,i+4);return this},"swap64");m.prototype.toString=s(function(){let t=this.length;return t===0?"":arguments.length===0?ga(this,0,t):qd.apply(this,arguments)},"toString");m.prototype.toLocaleString=m.prototype.toString;m.prototype.equals=s(function(t){if(!m.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:m.compare(this,t)===0},"equals");m.prototype.inspect=s(function(){let t="",i=si.INSPECT_MAX_BYTES;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},"inspect");fa&&(m.prototype[fa]=m.prototype.inspect);m.prototype.compare=s(function(t,i,n,r,o){if(Ue(t,Uint8Array)&&(t=m.from(t,t.offset,t.byteLength)),!m.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(i===void 0&&(i=0),n===void 0&&(n=t?t.length:0),r===void 0&&(r=0),o===void 0&&(o=this.length),i<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&i>=n)return 0;if(r>=o)return-1;if(i>=n)return 1;if(i>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;let a=o-r,c=n-i,l=Math.min(a,c),f=this.slice(r,o),d=t.slice(i,n);for(let h=0;h<l;++h)if(f[h]!==d[h]){a=f[h],c=d[h];break}return a<c?-1:c<a?1:0},"compare");function ba(e,t,i,n,r){if(e.length===0)return-1;if(typeof i=="string"?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,Qr(i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0)if(r)i=0;else return-1;if(typeof t=="string"&&(t=m.from(t,n)),m.isBuffer(t))return t.length===0?-1:ua(e,t,i,n,r);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):ua(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}s(ba,"bidirectionalIndexOf");function ua(e,t,i,n,r){let o=1,a=e.length,c=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;o=2,a/=2,c/=2,i/=2}function l(d,h){return o===1?d[h]:d.readUInt16BE(h*o)}s(l,"read");let f;if(r){let d=-1;for(f=i;f<a;f++)if(l(e,f)===l(t,d===-1?0:f-d)){if(d===-1&&(d=f),f-d+1===c)return d*o}else d!==-1&&(f-=f-d),d=-1}else for(i+c>a&&(i=a-c),f=i;f>=0;f--){let d=!0;for(let h=0;h<c;h++)if(l(e,f+h)!==l(t,h)){d=!1;break}if(d)return f}return-1}s(ua,"arrayIndexOf");m.prototype.includes=s(function(t,i,n){return this.indexOf(t,i,n)!==-1},"includes");m.prototype.indexOf=s(function(t,i,n){return ba(this,t,i,n,!0)},"indexOf");m.prototype.lastIndexOf=s(function(t,i,n){return ba(this,t,i,n,!1)},"lastIndexOf");function $d(e,t,i,n){i=Number(i)||0;let r=e.length-i;n?(n=Number(n),n>r&&(n=r)):n=r;let o=t.length;n>o/2&&(n=o/2);let a;for(a=0;a<n;++a){let c=parseInt(t.substr(a*2,2),16);if(Qr(c))return a;e[i+a]=c}return a}s($d,"hexWrite");function zd(e,t,i,n){return Rn(Gr(t,e.length-i),e,i,n)}s(zd,"utf8Write");function Vd(e,t,i,n){return Rn(nh(t),e,i,n)}s(Vd,"asciiWrite");function Hd(e,t,i,n){return Rn(va(t),e,i,n)}s(Hd,"base64Write");function Kd(e,t,i,n){return Rn(rh(t,e.length-i),e,i,n)}s(Kd,"ucs2Write");m.prototype.write=s(function(t,i,n,r){if(i===void 0)r="utf8",n=this.length,i=0;else if(n===void 0&&typeof i=="string")r=i,n=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(n)?(n=n>>>0,r===void 0&&(r="utf8")):(r=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-i;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let a=!1;for(;;)switch(r){case"hex":return $d(this,t,i,n);case"utf8":case"utf-8":return zd(this,t,i,n);case"ascii":case"latin1":case"binary":return Vd(this,t,i,n);case"base64":return Hd(this,t,i,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kd(this,t,i,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},"write");m.prototype.toJSON=s(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function Gd(e,t,i){return t===0&&i===e.length?Vr.fromByteArray(e):Vr.fromByteArray(e.slice(t,i))}s(Gd,"base64Slice");function ga(e,t,i){i=Math.min(e.length,i);let n=[],r=t;for(;r<i;){let o=e[r],a=null,c=o>239?4:o>223?3:o>191?2:1;if(r+c<=i){let l,f,d,h;switch(c){case 1:o<128&&(a=o);break;case 2:l=e[r+1],(l&192)===128&&(h=(o&31)<<6|l&63,h>127&&(a=h));break;case 3:l=e[r+1],f=e[r+2],(l&192)===128&&(f&192)===128&&(h=(o&15)<<12|(l&63)<<6|f&63,h>2047&&(h<55296||h>57343)&&(a=h));break;case 4:l=e[r+1],f=e[r+2],d=e[r+3],(l&192)===128&&(f&192)===128&&(d&192)===128&&(h=(o&15)<<18|(l&63)<<12|(f&63)<<6|d&63,h>65535&&h<1114112&&(a=h))}}a===null?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),r+=c}return Yd(n)}s(ga,"utf8Slice");var da=4096;function Yd(e){let t=e.length;if(t<=da)return String.fromCharCode.apply(String,e);let i="",n=0;for(;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=da));return i}s(Yd,"decodeCodePointsArray");function Xd(e,t,i){let n="";i=Math.min(e.length,i);for(let r=t;r<i;++r)n+=String.fromCharCode(e[r]&127);return n}s(Xd,"asciiSlice");function Jd(e,t,i){let n="";i=Math.min(e.length,i);for(let r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}s(Jd,"latin1Slice");function Qd(e,t,i){let n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);let r="";for(let o=t;o<i;++o)r+=sh[e[o]];return r}s(Qd,"hexSlice");function Zd(e,t,i){let n=e.slice(t,i),r="";for(let o=0;o<n.length-1;o+=2)r+=String.fromCharCode(n[o]+n[o+1]*256);return r}s(Zd,"utf16leSlice");m.prototype.slice=s(function(t,i){let n=this.length;t=~~t,i=i===void 0?n:~~i,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),i<0?(i+=n,i<0&&(i=0)):i>n&&(i=n),i<t&&(i=t);let r=this.subarray(t,i);return Object.setPrototypeOf(r,m.prototype),r},"slice");function te(e,t,i){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}s(te,"checkOffset");m.prototype.readUintLE=m.prototype.readUIntLE=s(function(t,i,n){t=t>>>0,i=i>>>0,n||te(t,i,this.length);let r=this[t],o=1,a=0;for(;++a<i&&(o*=256);)r+=this[t+a]*o;return r},"readUIntLE");m.prototype.readUintBE=m.prototype.readUIntBE=s(function(t,i,n){t=t>>>0,i=i>>>0,n||te(t,i,this.length);let r=this[t+--i],o=1;for(;i>0&&(o*=256);)r+=this[t+--i]*o;return r},"readUIntBE");m.prototype.readUint8=m.prototype.readUInt8=s(function(t,i){return t=t>>>0,i||te(t,1,this.length),this[t]},"readUInt8");m.prototype.readUint16LE=m.prototype.readUInt16LE=s(function(t,i){return t=t>>>0,i||te(t,2,this.length),this[t]|this[t+1]<<8},"readUInt16LE");m.prototype.readUint16BE=m.prototype.readUInt16BE=s(function(t,i){return t=t>>>0,i||te(t,2,this.length),this[t]<<8|this[t+1]},"readUInt16BE");m.prototype.readUint32LE=m.prototype.readUInt32LE=s(function(t,i){return t=t>>>0,i||te(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},"readUInt32LE");m.prototype.readUint32BE=m.prototype.readUInt32BE=s(function(t,i){return t=t>>>0,i||te(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},"readUInt32BE");m.prototype.readBigUInt64LE=wt(s(function(t){t=t>>>0,ri(t,"offset");let i=this[t],n=this[t+7];(i===void 0||n===void 0)&&Di(t,this.length-8);let r=i+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,o=this[++t]+this[++t]*2**8+this[++t]*2**16+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))},"readBigUInt64LE"));m.prototype.readBigUInt64BE=wt(s(function(t){t=t>>>0,ri(t,"offset");let i=this[t],n=this[t+7];(i===void 0||n===void 0)&&Di(t,this.length-8);let r=i*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],o=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n;return(BigInt(r)<<BigInt(32))+BigInt(o)},"readBigUInt64BE"));m.prototype.readIntLE=s(function(t,i,n){t=t>>>0,i=i>>>0,n||te(t,i,this.length);let r=this[t],o=1,a=0;for(;++a<i&&(o*=256);)r+=this[t+a]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*i)),r},"readIntLE");m.prototype.readIntBE=s(function(t,i,n){t=t>>>0,i=i>>>0,n||te(t,i,this.length);let r=i,o=1,a=this[t+--r];for(;r>0&&(o*=256);)a+=this[t+--r]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*i)),a},"readIntBE");m.prototype.readInt8=s(function(t,i){return t=t>>>0,i||te(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},"readInt8");m.prototype.readInt16LE=s(function(t,i){t=t>>>0,i||te(t,2,this.length);let n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n},"readInt16LE");m.prototype.readInt16BE=s(function(t,i){t=t>>>0,i||te(t,2,this.length);let n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n},"readInt16BE");m.prototype.readInt32LE=s(function(t,i){return t=t>>>0,i||te(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},"readInt32LE");m.prototype.readInt32BE=s(function(t,i){return t=t>>>0,i||te(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},"readInt32BE");m.prototype.readBigInt64LE=wt(s(function(t){t=t>>>0,ri(t,"offset");let i=this[t],n=this[t+7];(i===void 0||n===void 0)&&Di(t,this.length-8);let r=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(i+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)},"readBigInt64LE"));m.prototype.readBigInt64BE=wt(s(function(t){t=t>>>0,ri(t,"offset");let i=this[t],n=this[t+7];(i===void 0||n===void 0)&&Di(t,this.length-8);let r=(i<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n)},"readBigInt64BE"));m.prototype.readFloatLE=s(function(t,i){return t=t>>>0,i||te(t,4,this.length),ni.read(this,t,!0,23,4)},"readFloatLE");m.prototype.readFloatBE=s(function(t,i){return t=t>>>0,i||te(t,4,this.length),ni.read(this,t,!1,23,4)},"readFloatBE");m.prototype.readDoubleLE=s(function(t,i){return t=t>>>0,i||te(t,8,this.length),ni.read(this,t,!0,52,8)},"readDoubleLE");m.prototype.readDoubleBE=s(function(t,i){return t=t>>>0,i||te(t,8,this.length),ni.read(this,t,!1,52,8)},"readDoubleBE");function ue(e,t,i,n,r,o){if(!m.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}s(ue,"checkInt");m.prototype.writeUintLE=m.prototype.writeUIntLE=s(function(t,i,n,r){if(t=+t,i=i>>>0,n=n>>>0,!r){let c=Math.pow(2,8*n)-1;ue(this,t,i,n,c,0)}let o=1,a=0;for(this[i]=t&255;++a<n&&(o*=256);)this[i+a]=t/o&255;return i+n},"writeUIntLE");m.prototype.writeUintBE=m.prototype.writeUIntBE=s(function(t,i,n,r){if(t=+t,i=i>>>0,n=n>>>0,!r){let c=Math.pow(2,8*n)-1;ue(this,t,i,n,c,0)}let o=n-1,a=1;for(this[i+o]=t&255;--o>=0&&(a*=256);)this[i+o]=t/a&255;return i+n},"writeUIntBE");m.prototype.writeUint8=m.prototype.writeUInt8=s(function(t,i,n){return t=+t,i=i>>>0,n||ue(this,t,i,1,255,0),this[i]=t&255,i+1},"writeUInt8");m.prototype.writeUint16LE=m.prototype.writeUInt16LE=s(function(t,i,n){return t=+t,i=i>>>0,n||ue(this,t,i,2,65535,0),this[i]=t&255,this[i+1]=t>>>8,i+2},"writeUInt16LE");m.prototype.writeUint16BE=m.prototype.writeUInt16BE=s(function(t,i,n){return t=+t,i=i>>>0,n||ue(this,t,i,2,65535,0),this[i]=t>>>8,this[i+1]=t&255,i+2},"writeUInt16BE");m.prototype.writeUint32LE=m.prototype.writeUInt32LE=s(function(t,i,n){return t=+t,i=i>>>0,n||ue(this,t,i,4,4294967295,0),this[i+3]=t>>>24,this[i+2]=t>>>16,this[i+1]=t>>>8,this[i]=t&255,i+4},"writeUInt32LE");m.prototype.writeUint32BE=m.prototype.writeUInt32BE=s(function(t,i,n){return t=+t,i=i>>>0,n||ue(this,t,i,4,4294967295,0),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=t&255,i+4},"writeUInt32BE");function wa(e,t,i,n,r){ka(t,n,r,e,i,7);let o=Number(t&BigInt(4294967295));e[i++]=o,o=o>>8,e[i++]=o,o=o>>8,e[i++]=o,o=o>>8,e[i++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[i++]=a,a=a>>8,e[i++]=a,a=a>>8,e[i++]=a,a=a>>8,e[i++]=a,i}s(wa,"wrtBigUInt64LE");function Sa(e,t,i,n,r){ka(t,n,r,e,i,7);let o=Number(t&BigInt(4294967295));e[i+7]=o,o=o>>8,e[i+6]=o,o=o>>8,e[i+5]=o,o=o>>8,e[i+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[i+3]=a,a=a>>8,e[i+2]=a,a=a>>8,e[i+1]=a,a=a>>8,e[i]=a,i+8}s(Sa,"wrtBigUInt64BE");m.prototype.writeBigUInt64LE=wt(s(function(t,i=0){return wa(this,t,i,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE"));m.prototype.writeBigUInt64BE=wt(s(function(t,i=0){return Sa(this,t,i,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE"));m.prototype.writeIntLE=s(function(t,i,n,r){if(t=+t,i=i>>>0,!r){let l=Math.pow(2,8*n-1);ue(this,t,i,n,l-1,-l)}let o=0,a=1,c=0;for(this[i]=t&255;++o<n&&(a*=256);)t<0&&c===0&&this[i+o-1]!==0&&(c=1),this[i+o]=(t/a>>0)-c&255;return i+n},"writeIntLE");m.prototype.writeIntBE=s(function(t,i,n,r){if(t=+t,i=i>>>0,!r){let l=Math.pow(2,8*n-1);ue(this,t,i,n,l-1,-l)}let o=n-1,a=1,c=0;for(this[i+o]=t&255;--o>=0&&(a*=256);)t<0&&c===0&&this[i+o+1]!==0&&(c=1),this[i+o]=(t/a>>0)-c&255;return i+n},"writeIntBE");m.prototype.writeInt8=s(function(t,i,n){return t=+t,i=i>>>0,n||ue(this,t,i,1,127,-128),t<0&&(t=255+t+1),this[i]=t&255,i+1},"writeInt8");m.prototype.writeInt16LE=s(function(t,i,n){return t=+t,i=i>>>0,n||ue(this,t,i,2,32767,-32768),this[i]=t&255,this[i+1]=t>>>8,i+2},"writeInt16LE");m.prototype.writeInt16BE=s(function(t,i,n){return t=+t,i=i>>>0,n||ue(this,t,i,2,32767,-32768),this[i]=t>>>8,this[i+1]=t&255,i+2},"writeInt16BE");m.prototype.writeInt32LE=s(function(t,i,n){return t=+t,i=i>>>0,n||ue(this,t,i,4,2147483647,-2147483648),this[i]=t&255,this[i+1]=t>>>8,this[i+2]=t>>>16,this[i+3]=t>>>24,i+4},"writeInt32LE");m.prototype.writeInt32BE=s(function(t,i,n){return t=+t,i=i>>>0,n||ue(this,t,i,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=t&255,i+4},"writeInt32BE");m.prototype.writeBigInt64LE=wt(s(function(t,i=0){return wa(this,t,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE"));m.prototype.writeBigInt64BE=wt(s(function(t,i=0){return Sa(this,t,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function Ea(e,t,i,n,r,o){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}s(Ea,"checkIEEE754");function _a(e,t,i,n,r){return t=+t,i=i>>>0,r||Ea(e,t,i,4,34028234663852886e22,-34028234663852886e22),ni.write(e,t,i,n,23,4),i+4}s(_a,"writeFloat");m.prototype.writeFloatLE=s(function(t,i,n){return _a(this,t,i,!0,n)},"writeFloatLE");m.prototype.writeFloatBE=s(function(t,i,n){return _a(this,t,i,!1,n)},"writeFloatBE");function xa(e,t,i,n,r){return t=+t,i=i>>>0,r||Ea(e,t,i,8,17976931348623157e292,-17976931348623157e292),ni.write(e,t,i,n,52,8),i+8}s(xa,"writeDouble");m.prototype.writeDoubleLE=s(function(t,i,n){return xa(this,t,i,!0,n)},"writeDoubleLE");m.prototype.writeDoubleBE=s(function(t,i,n){return xa(this,t,i,!1,n)},"writeDoubleBE");m.prototype.copy=s(function(t,i,n,r){if(!m.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!r&&r!==0&&(r=this.length),i>=t.length&&(i=t.length),i||(i=0),r>0&&r<n&&(r=n),r===n||t.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-i<r-n&&(r=t.length-i+n);let o=r-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),i),o},"copy");m.prototype.fill=s(function(t,i,n,r){if(typeof t=="string"){if(typeof i=="string"?(r=i,i=0,n=this.length):typeof n=="string"&&(r=n,n=this.length),r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!m.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(t.length===1){let a=t.charCodeAt(0);(r==="utf8"&&a<128||r==="latin1")&&(t=a)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(i<0||this.length<i||this.length<n)throw new RangeError("Out of range index");if(n<=i)return this;i=i>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);let o;if(typeof t=="number")for(o=i;o<n;++o)this[o]=t;else{let a=m.isBuffer(t)?t:m.from(t,r),c=a.length;if(c===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-i;++o)this[o+i]=a[o%c]}return this},"fill");var ii={};function Jr(e,t,i){ii[e]=class extends i{static{s(this,"NodeError")}constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(r){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:r,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}s(Jr,"E");Jr("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Jr("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError);Jr("ERR_OUT_OF_RANGE",function(e,t,i){let n=`The value of "${e}" is out of range.`,r=i;return Number.isInteger(i)&&Math.abs(i)>2**32?r=ha(String(i)):typeof i=="bigint"&&(r=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(r=ha(r)),r+="n"),n+=` It must be ${t}. Received ${r}`,n},RangeError);function ha(e){let t="",i=e.length,n=e[0]==="-"?1:0;for(;i>=n+4;i-=3)t=`_${e.slice(i-3,i)}${t}`;return`${e.slice(0,i)}${t}`}s(ha,"addNumericalSeparator");function eh(e,t,i){ri(t,"offset"),(e[t]===void 0||e[t+i]===void 0)&&Di(t,e.length-(i+1))}s(eh,"checkBounds");function ka(e,t,i,n,r,o){if(e>i||e<t){let a=typeof t=="bigint"?"n":"",c;throw o>3?t===0||t===BigInt(0)?c=`>= 0${a} and < 2${a} ** ${(o+1)*8}${a}`:c=`>= -(2${a} ** ${(o+1)*8-1}${a}) and < 2 ** ${(o+1)*8-1}${a}`:c=`>= ${t}${a} and <= ${i}${a}`,new ii.ERR_OUT_OF_RANGE("value",c,e)}eh(n,r,o)}s(ka,"checkIntBI");function ri(e,t){if(typeof e!="number")throw new ii.ERR_INVALID_ARG_TYPE(t,"number",e)}s(ri,"validateNumber");function Di(e,t,i){throw Math.floor(e)!==e?(ri(e,i),new ii.ERR_OUT_OF_RANGE(i||"offset","an integer",e)):t<0?new ii.ERR_BUFFER_OUT_OF_BOUNDS:new ii.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${t}`,e)}s(Di,"boundsError");var th=/[^+/0-9A-Za-z-_]/g;function ih(e){if(e=e.split("=")[0],e=e.trim().replace(th,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}s(ih,"base64clean");function Gr(e,t){t=t||1/0;let i,n=e.length,r=null,o=[];for(let a=0;a<n;++a){if(i=e.charCodeAt(a),i>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),r=i;continue}i=(r-55296<<10|i-56320)+65536}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,i&63|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return o}s(Gr,"utf8ToBytes");function nh(e){let t=[];for(let i=0;i<e.length;++i)t.push(e.charCodeAt(i)&255);return t}s(nh,"asciiToBytes");function rh(e,t){let i,n,r,o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)i=e.charCodeAt(a),n=i>>8,r=i%256,o.push(r),o.push(n);return o}s(rh,"utf16leToBytes");function va(e){return Vr.toByteArray(ih(e))}s(va,"base64ToBytes");function Rn(e,t,i,n){let r;for(r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}s(Rn,"blitBuffer");function Ue(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}s(Ue,"isInstance");function Qr(e){return e!==e}s(Qr,"numberIsNaN");var sh=function(){let e="0123456789abcdef",t=new Array(256);for(let i=0;i<16;++i){let n=i*16;for(let r=0;r<16;++r)t[n+r]=e[i]+e[r]}return t}();function wt(e){return typeof BigInt>"u"?oh:e}s(wt,"defineBigIntMethod");function oh(){throw new Error("BigInt not supported")}s(oh,"BufferBigIntNotDefined")});var Ra=R((WS,os)=>{"use strict";var Ch=Object.prototype.hasOwnProperty,ae="~";function Zi(){}s(Zi,"Events");Object.create&&(Zi.prototype=Object.create(null),new Zi().__proto__||(ae=!1));function Bh(e,t,i){this.fn=e,this.context=t,this.once=i||!1}s(Bh,"EE");function Ta(e,t,i,n,r){if(typeof i!="function")throw new TypeError("The listener must be a function");var o=new Bh(i,n||e,r),a=ae?ae+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],o]:e._events[a].push(o):(e._events[a]=o,e._eventsCount++),e}s(Ta,"addListener");function Cn(e,t){--e._eventsCount===0?e._events=new Zi:delete e._events[t]}s(Cn,"clearEvent");function re(){this._events=new Zi,this._eventsCount=0}s(re,"EventEmitter");re.prototype.eventNames=s(function(){var t=[],i,n;if(this._eventsCount===0)return t;for(n in i=this._events)Ch.call(i,n)&&t.push(ae?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(i)):t},"eventNames");re.prototype.listeners=s(function(t){var i=ae?ae+t:t,n=this._events[i];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},"listeners");re.prototype.listenerCount=s(function(t){var i=ae?ae+t:t,n=this._events[i];return n?n.fn?1:n.length:0},"listenerCount");re.prototype.emit=s(function(t,i,n,r,o,a){var c=ae?ae+t:t;if(!this._events[c])return!1;var l=this._events[c],f=arguments.length,d,h;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,i),!0;case 3:return l.fn.call(l.context,i,n),!0;case 4:return l.fn.call(l.context,i,n,r),!0;case 5:return l.fn.call(l.context,i,n,r,o),!0;case 6:return l.fn.call(l.context,i,n,r,o,a),!0}for(h=1,d=new Array(f-1);h<f;h++)d[h-1]=arguments[h];l.fn.apply(l.context,d)}else{var b=l.length,y;for(h=0;h<b;h++)switch(l[h].once&&this.removeListener(t,l[h].fn,void 0,!0),f){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,i);break;case 3:l[h].fn.call(l[h].context,i,n);break;case 4:l[h].fn.call(l[h].context,i,n,r);break;default:if(!d)for(y=1,d=new Array(f-1);y<f;y++)d[y-1]=arguments[y];l[h].fn.apply(l[h].context,d)}}return!0},"emit");re.prototype.on=s(function(t,i,n){return Ta(this,t,i,n,!1)},"on");re.prototype.once=s(function(t,i,n){return Ta(this,t,i,n,!0)},"once");re.prototype.removeListener=s(function(t,i,n,r){var o=ae?ae+t:t;if(!this._events[o])return this;if(!i)return Cn(this,o),this;var a=this._events[o];if(a.fn)a.fn===i&&(!r||a.once)&&(!n||a.context===n)&&Cn(this,o);else{for(var c=0,l=[],f=a.length;c<f;c++)(a[c].fn!==i||r&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[o]=l.length===1?l[0]:l:Cn(this,o)}return this},"removeListener");re.prototype.removeAllListeners=s(function(t){var i;return t?(i=ae?ae+t:t,this._events[i]&&Cn(this,i)):(this._events=new Zi,this._eventsCount=0),this},"removeAllListeners");re.prototype.off=re.prototype.removeListener;re.prototype.addListener=re.prototype.on;re.prefixed=ae;re.EventEmitter=re;typeof os<"u"&&(os.exports=re)});var $=R((hE,ic)=>{"use strict";ic.exports={ArrayIsArray:s(function(e){return Array.isArray(e)},"ArrayIsArray"),ArrayPrototypeIncludes:s(function(e,t){return e.includes(t)},"ArrayPrototypeIncludes"),ArrayPrototypeIndexOf:s(function(e,t){return e.indexOf(t)},"ArrayPrototypeIndexOf"),ArrayPrototypeJoin:s(function(e,t){return e.join(t)},"ArrayPrototypeJoin"),ArrayPrototypeMap:s(function(e,t){return e.map(t)},"ArrayPrototypeMap"),ArrayPrototypePop:s(function(e,t){return e.pop(t)},"ArrayPrototypePop"),ArrayPrototypePush:s(function(e,t){return e.push(t)},"ArrayPrototypePush"),ArrayPrototypeSlice:s(function(e,t,i){return e.slice(t,i)},"ArrayPrototypeSlice"),Error,FunctionPrototypeCall:s(function(e,t,...i){return e.call(t,...i)},"FunctionPrototypeCall"),FunctionPrototypeSymbolHasInstance:s(function(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},"FunctionPrototypeSymbolHasInstance"),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:s(function(e,t){return Object.defineProperties(e,t)},"ObjectDefineProperties"),ObjectDefineProperty:s(function(e,t,i){return Object.defineProperty(e,t,i)},"ObjectDefineProperty"),ObjectGetOwnPropertyDescriptor:s(function(e,t){return Object.getOwnPropertyDescriptor(e,t)},"ObjectGetOwnPropertyDescriptor"),ObjectKeys:s(function(e){return Object.keys(e)},"ObjectKeys"),ObjectSetPrototypeOf:s(function(e,t){return Object.setPrototypeOf(e,t)},"ObjectSetPrototypeOf"),Promise,PromisePrototypeCatch:s(function(e,t){return e.catch(t)},"PromisePrototypeCatch"),PromisePrototypeThen:s(function(e,t,i){return e.then(t,i)},"PromisePrototypeThen"),PromiseReject:s(function(e){return Promise.reject(e)},"PromiseReject"),PromiseResolve:s(function(e){return Promise.resolve(e)},"PromiseResolve"),ReflectApply:Reflect.apply,RegExpPrototypeTest:s(function(e,t){return e.test(t)},"RegExpPrototypeTest"),SafeSet:Set,String,StringPrototypeSlice:s(function(e,t,i){return e.slice(t,i)},"StringPrototypeSlice"),StringPrototypeToLowerCase:s(function(e){return e.toLowerCase()},"StringPrototypeToLowerCase"),StringPrototypeToUpperCase:s(function(e){return e.toUpperCase()},"StringPrototypeToUpperCase"),StringPrototypeTrim:s(function(e){return e.trim()},"StringPrototypeTrim"),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:s(function(e,t,i){return e.set(t,i)},"TypedArrayPrototypeSet"),Boolean,Uint8Array}});var hi=R((yE,zn)=>{"use strict";var{AbortController:nc,AbortSignal:Wh}=typeof self<"u"?self:typeof window<"u"?window:void 0;zn.exports=nc;zn.exports.AbortSignal=Wh;zn.exports.default=nc});var rn=R((mE,ys)=>{"use strict";var pi=typeof Reflect=="object"?Reflect:null,rc=pi&&typeof pi.apply=="function"?pi.apply:s(function(t,i,n){return Function.prototype.apply.call(t,i,n)},"ReflectApply"),Vn;pi&&typeof pi.ownKeys=="function"?Vn=pi.ownKeys:Object.getOwnPropertySymbols?Vn=s(function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))},"ReflectOwnKeys"):Vn=s(function(t){return Object.getOwnPropertyNames(t)},"ReflectOwnKeys");function Uh(e){console&&console.warn&&console.warn(e)}s(Uh,"ProcessEmitWarning");var oc=Number.isNaN||s(function(t){return t!==t},"NumberIsNaN");function L(){L.init.call(this)}s(L,"EventEmitter");ys.exports=L;ys.exports.once=zh;L.EventEmitter=L;L.prototype._events=void 0;L.prototype._eventsCount=0;L.prototype._maxListeners=void 0;var sc=10;function Hn(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}s(Hn,"checkListener");Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:s(function(){return sc},"get"),set:s(function(e){if(typeof e!="number"||e<0||oc(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");sc=e},"set")});L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};L.prototype.setMaxListeners=s(function(t){if(typeof t!="number"||t<0||oc(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},"setMaxListeners");function ac(e){return e._maxListeners===void 0?L.defaultMaxListeners:e._maxListeners}s(ac,"_getMaxListeners");L.prototype.getMaxListeners=s(function(){return ac(this)},"getMaxListeners");L.prototype.emit=s(function(t){for(var i=[],n=1;n<arguments.length;n++)i.push(arguments[n]);var r=t==="error",o=this._events;if(o!==void 0)r=r&&o.error===void 0;else if(!r)return!1;if(r){var a;if(i.length>0&&(a=i[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var l=o[t];if(l===void 0)return!1;if(typeof l=="function")rc(l,this,i);else for(var f=l.length,d=dc(l,f),n=0;n<f;++n)rc(d[n],this,i);return!0},"emit");function cc(e,t,i,n){var r,o,a;if(Hn(i),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,i.listener?i.listener:i),o=e._events),a=o[t]),a===void 0)a=o[t]=i,++e._eventsCount;else if(typeof a=="function"?a=o[t]=n?[i,a]:[a,i]:n?a.unshift(i):a.push(i),r=ac(e),r>0&&a.length>r&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,Uh(c)}return e}s(cc,"_addListener");L.prototype.addListener=s(function(t,i){return cc(this,t,i,!1)},"addListener");L.prototype.on=L.prototype.addListener;L.prototype.prependListener=s(function(t,i){return cc(this,t,i,!0)},"prependListener");function jh(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}s(jh,"onceWrapper");function lc(e,t,i){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},r=jh.bind(n);return r.listener=i,n.wrapFn=r,r}s(lc,"_onceWrap");L.prototype.once=s(function(t,i){return Hn(i),this.on(t,lc(this,t,i)),this},"once");L.prototype.prependOnceListener=s(function(t,i){return Hn(i),this.prependListener(t,lc(this,t,i)),this},"prependOnceListener");L.prototype.removeListener=s(function(t,i){var n,r,o,a,c;if(Hn(i),r=this._events,r===void 0)return this;if(n=r[t],n===void 0)return this;if(n===i||n.listener===i)--this._eventsCount===0?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||i));else if(typeof n!="function"){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===i||n[a].listener===i){c=n[a].listener,o=a;break}if(o<0)return this;o===0?n.shift():qh(n,o),n.length===1&&(r[t]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",t,c||i)}return this},"removeListener");L.prototype.off=L.prototype.removeListener;L.prototype.removeAllListeners=s(function(t){var i,n,r;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var o=Object.keys(n),a;for(r=0;r<o.length;++r)a=o[r],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=n[t],typeof i=="function")this.removeListener(t,i);else if(i!==void 0)for(r=i.length-1;r>=0;r--)this.removeListener(t,i[r]);return this},"removeAllListeners");function fc(e,t,i){var n=e._events;if(n===void 0)return[];var r=n[t];return r===void 0?[]:typeof r=="function"?i?[r.listener||r]:[r]:i?$h(r):dc(r,r.length)}s(fc,"_listeners");L.prototype.listeners=s(function(t){return fc(this,t,!0)},"listeners");L.prototype.rawListeners=s(function(t){return fc(this,t,!1)},"rawListeners");L.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):uc.call(e,t)};L.prototype.listenerCount=uc;function uc(e){var t=this._events;if(t!==void 0){var i=t[e];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}s(uc,"listenerCount");L.prototype.eventNames=s(function(){return this._eventsCount>0?Vn(this._events):[]},"eventNames");function dc(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e[n];return i}s(dc,"arrayClone");function qh(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}s(qh,"spliceOne");function $h(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}s($h,"unwrapListeners");function zh(e,t){return new Promise(function(i,n){function r(a){e.removeListener(t,o),n(a)}s(r,"errorListener");function o(){typeof e.removeListener=="function"&&e.removeListener("error",r),i([].slice.call(arguments))}s(o,"resolver"),hc(e,t,o,{once:!0}),t!=="error"&&Vh(e,r,{once:!0})})}s(zh,"once");function Vh(e,t,i){typeof e.on=="function"&&hc(e,"error",t,i)}s(Vh,"addErrorHandlerIfEventEmitter");function hc(e,t,i,n){if(typeof e.on=="function")n.once?e.once(t,i):e.on(t,i);else if(typeof e.addEventListener=="function")e.addEventListener(t,s(function r(o){n.once&&e.removeEventListener(t,r),i(o)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}s(hc,"eventTargetAgnosticAddListener")});var se=R((gE,bs)=>{"use strict";var Hh=ve(),{kResistStopPropagation:Kh,SymbolDispose:Gh}=$(),Yh=globalThis.AbortSignal||hi().AbortSignal,Xh=globalThis.AbortController||hi().AbortController,Jh=Object.getPrototypeOf(async function(){}).constructor,pc=globalThis.Blob||Hh.Blob,Qh=s(typeof pc<"u"?function(t){return t instanceof pc}:function(t){return!1},"isBlob"),yc=s((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new ERR_INVALID_ARG_TYPE(t,"AbortSignal",e)},"validateAbortSignal"),Zh=s((e,t)=>{if(typeof e!="function")throw new ERR_INVALID_ARG_TYPE(t,"Function",e)},"validateFunction"),ms=class extends Error{static{s(this,"AggregateError")}constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);let i="";for(let n=0;n<t.length;n++)i+=`    ${t[n].stack}
`;super(i),this.name="AggregateError",this.errors=t}};bs.exports={AggregateError:ms,kEmptyObject:Object.freeze({}),once:s(function(e){let t=!1;return function(...i){t||(t=!0,e.apply(this,i))}},"once"),createDeferredPromise:s(function(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}},"createDeferredPromise"),promisify:s(function(e){return new Promise((t,i)=>{e((n,...r)=>n?i(n):t(...r))})},"promisify"),debuglog:s(function(){return function(){}},"debuglog"),format:s(function(e,...t){return e.replace(/%([sdifj])/g,function(...[i,n]){let r=t.shift();return n==="f"?r.toFixed(6):n==="j"?JSON.stringify(r):n==="s"&&typeof r=="object"?`${r.constructor!==Object?r.constructor.name:""} {}`.trim():r.toString()})},"format"),inspect:s(function(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},"inspect"),types:{isAsyncFunction:s(function(e){return e instanceof Jh},"isAsyncFunction"),isArrayBufferView:s(function(e){return ArrayBuffer.isView(e)},"isArrayBufferView")},isBlob:Qh,deprecate:s(function(e,t){return e},"deprecate"),addAbortListener:rn().addAbortListener||s(function(t,i){if(t===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",t);yc(t,"signal"),Zh(i,"listener");let n;return t.aborted?queueMicrotask(()=>i()):(t.addEventListener("abort",i,{__proto__:null,once:!0,[Kh]:!0}),n=s(()=>{t.removeEventListener("abort",i)},"removeEventListener")),{__proto__:null,[Gh](){var r;(r=n)===null||r===void 0||r()}}},"addAbortListener"),AbortSignalAny:Yh.any||s(function(t){if(t.length===1)return t[0];let i=new Xh,n=s(()=>i.abort(),"abort");return t.forEach(r=>{yc(r,"signals"),r.addEventListener("abort",n,{once:!0})}),i.signal.addEventListener("abort",()=>{t.forEach(r=>r.removeEventListener("abort",n))},{once:!0}),i.signal},"AbortSignalAny")};bs.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var ce=R((SE,gc)=>{"use strict";var{format:ep,inspect:Kn,AggregateError:tp}=se(),ip=globalThis.AggregateError||tp,np=Symbol("kIsNodeError"),rp=["string","function","number","object","Function","Object","boolean","bigint","symbol"],sp=/^([A-Z][a-z0-9]*)+$/,op="__node_internal_",Gn={};function jt(e,t){if(!e)throw new Gn.ERR_INTERNAL_ASSERTION(t)}s(jt,"assert");function mc(e){let t="",i=e.length,n=e[0]==="-"?1:0;for(;i>=n+4;i-=3)t=`_${e.slice(i-3,i)}${t}`;return`${e.slice(0,i)}${t}`}s(mc,"addNumericalSeparator");function ap(e,t,i){if(typeof t=="function")return jt(t.length<=i.length,`Code: ${e}; The provided arguments length (${i.length}) does not match the required ones (${t.length}).`),t(...i);let n=(t.match(/%[dfijoOs]/g)||[]).length;return jt(n===i.length,`Code: ${e}; The provided arguments length (${i.length}) does not match the required ones (${n}).`),i.length===0?t:ep(t,...i)}s(ap,"getMessage");function ne(e,t,i){i||(i=Error);class n extends i{static{s(this,"NodeError")}constructor(...o){super(ap(e,t,o))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:i.name,writable:!0,enumerable:!1,configurable:!0},toString:{value:s(function(){return`${this.name} [${e}]: ${this.message}`},"value"),writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[np]=!0,Gn[e]=n}s(ne,"E");function bc(e){let t=op+e.name;return Object.defineProperty(e,"name",{value:t}),e}s(bc,"hideStackFrames");function cp(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let i=new ip([t,e],t.message);return i.code=t.code,i}return e||t}s(cp,"aggregateTwoErrors");var gs=class extends Error{static{s(this,"AbortError")}constructor(t="The operation was aborted",i=void 0){if(i!==void 0&&typeof i!="object")throw new Gn.ERR_INVALID_ARG_TYPE("options","Object",i);super(t,i),this.code="ABORT_ERR",this.name="AbortError"}};ne("ERR_ASSERTION","%s",Error);ne("ERR_INVALID_ARG_TYPE",(e,t,i)=>{jt(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let r=[],o=[],a=[];for(let l of t)jt(typeof l=="string","All expected entries have to be of type string"),rp.includes(l)?r.push(l.toLowerCase()):sp.test(l)?o.push(l):(jt(l!=="object",'The value "object" should be written as "Object"'),a.push(l));if(o.length>0){let l=r.indexOf("object");l!==-1&&(r.splice(r,l,1),o.push("Object"))}if(r.length>0){switch(r.length){case 1:n+=`of type ${r[0]}`;break;case 2:n+=`one of type ${r[0]} or ${r[1]}`;break;default:{let l=r.pop();n+=`one of type ${r.join(", ")}, or ${l}`}}(o.length>0||a.length>0)&&(n+=" or ")}if(o.length>0){switch(o.length){case 1:n+=`an instance of ${o[0]}`;break;case 2:n+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`an instance of ${o.join(", ")}, or ${l}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{let l=a.pop();n+=`one of ${a.join(", ")}, or ${l}`}}if(i==null)n+=`. Received ${i}`;else if(typeof i=="function"&&i.name)n+=`. Received function ${i.name}`;else if(typeof i=="object"){var c;if((c=i.constructor)!==null&&c!==void 0&&c.name)n+=`. Received an instance of ${i.constructor.name}`;else{let l=Kn(i,{depth:-1});n+=`. Received ${l}`}}else{let l=Kn(i,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof i} (${l})`}return n},TypeError);ne("ERR_INVALID_ARG_VALUE",(e,t,i="is invalid")=>{let n=Kn(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${i}. Received ${n}`},TypeError);ne("ERR_INVALID_RETURN_VALUE",(e,t,i)=>{var n;let r=i!=null&&(n=i.constructor)!==null&&n!==void 0&&n.name?`instance of ${i.constructor.name}`:`type ${typeof i}`;return`Expected ${e} to be returned from the "${t}" function but got ${r}.`},TypeError);ne("ERR_MISSING_ARGS",(...e)=>{jt(e.length>0,"At least one arg needs to be specified");let t,i=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),i){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError);ne("ERR_OUT_OF_RANGE",(e,t,i)=>{jt(t,'Missing "range" argument');let n;return Number.isInteger(i)&&Math.abs(i)>2**32?n=mc(String(i)):typeof i=="bigint"?(n=String(i),(i>2n**32n||i<-(2n**32n))&&(n=mc(n)),n+="n"):n=Kn(i),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError);ne("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ne("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ne("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ne("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ne("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ne("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ne("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ne("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ne("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ne("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ne("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);gc.exports={AbortError:gs,aggregateTwoErrors:bc(cp),hideStackFrames:bc,codes:Gn}});var mi=R((_E,Ac)=>{"use strict";var{ArrayIsArray:Ss,ArrayPrototypeIncludes:_c,ArrayPrototypeJoin:xc,ArrayPrototypeMap:lp,NumberIsInteger:Es,NumberIsNaN:fp,NumberMAX_SAFE_INTEGER:up,NumberMIN_SAFE_INTEGER:dp,NumberParseInt:hp,ObjectPrototypeHasOwnProperty:pp,RegExpPrototypeExec:kc,String:yp,StringPrototypeToUpperCase:mp,StringPrototypeTrim:bp}=$(),{hideStackFrames:Pe,codes:{ERR_SOCKET_BAD_PORT:gp,ERR_INVALID_ARG_TYPE:oe,ERR_INVALID_ARG_VALUE:yi,ERR_OUT_OF_RANGE:qt,ERR_UNKNOWN_SIGNAL:wc}}=ce(),{normalizeEncoding:wp}=se(),{isAsyncFunction:Sp,isArrayBufferView:Ep}=se().types,Sc={};function _p(e){return e===(e|0)}s(_p,"isInt32");function xp(e){return e===e>>>0}s(xp,"isUint32");var kp=/^[0-7]+$/,vp="must be a 32-bit unsigned integer or an octal string";function Fp(e,t,i){if(typeof e>"u"&&(e=i),typeof e=="string"){if(kc(kp,e)===null)throw new yi(t,e,vp);e=hp(e,8)}return vc(e,t),e}s(Fp,"parseFileMode");var Ip=Pe((e,t,i=dp,n=up)=>{if(typeof e!="number")throw new oe(t,"number",e);if(!Es(e))throw new qt(t,"an integer",e);if(e<i||e>n)throw new qt(t,`>= ${i} && <= ${n}`,e)}),Ap=Pe((e,t,i=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new oe(t,"number",e);if(!Es(e))throw new qt(t,"an integer",e);if(e<i||e>n)throw new qt(t,`>= ${i} && <= ${n}`,e)}),vc=Pe((e,t,i=!1)=>{if(typeof e!="number")throw new oe(t,"number",e);if(!Es(e))throw new qt(t,"an integer",e);let n=i?1:0,r=4294967295;if(e<n||e>r)throw new qt(t,`>= ${n} && <= ${r}`,e)});function _s(e,t){if(typeof e!="string")throw new oe(t,"string",e)}s(_s,"validateString");function Op(e,t,i=void 0,n){if(typeof e!="number")throw new oe(t,"number",e);if(i!=null&&e<i||n!=null&&e>n||(i!=null||n!=null)&&fp(e))throw new qt(t,`${i!=null?`>= ${i}`:""}${i!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}s(Op,"validateNumber");var Pp=Pe((e,t,i)=>{if(!_c(i,e)){let r="must be one of: "+xc(lp(i,o=>typeof o=="string"?`'${o}'`:yp(o)),", ");throw new yi(t,e,r)}});function Fc(e,t){if(typeof e!="boolean")throw new oe(t,"boolean",e)}s(Fc,"validateBoolean");function ws(e,t,i){return e==null||!pp(e,t)?i:e[t]}s(ws,"getOwnPropertyValueOrDefault");var Tp=Pe((e,t,i=null)=>{let n=ws(i,"allowArray",!1),r=ws(i,"allowFunction",!1);if(!ws(i,"nullable",!1)&&e===null||!n&&Ss(e)||typeof e!="object"&&(!r||typeof e!="function"))throw new oe(t,"Object",e)}),Rp=Pe((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new oe(t,"a dictionary",e)}),Yn=Pe((e,t,i=0)=>{if(!Ss(e))throw new oe(t,"Array",e);if(e.length<i){let n=`must be longer than ${i}`;throw new yi(t,e,n)}});function Np(e,t){Yn(e,t);for(let i=0;i<e.length;i++)_s(e[i],`${t}[${i}]`)}s(Np,"validateStringArray");function Lp(e,t){Yn(e,t);for(let i=0;i<e.length;i++)Fc(e[i],`${t}[${i}]`)}s(Lp,"validateBooleanArray");function Cp(e,t){Yn(e,t);for(let i=0;i<e.length;i++){let n=e[i],r=`${t}[${i}]`;if(n==null)throw new oe(r,"AbortSignal",n);Ic(n,r)}}s(Cp,"validateAbortSignalArray");function Bp(e,t="signal"){if(_s(e,t),Sc[e]===void 0)throw Sc[mp(e)]!==void 0?new wc(e+" (signals must use all capital letters)"):new wc(e)}s(Bp,"validateSignalName");var Dp=Pe((e,t="buffer")=>{if(!Ep(e))throw new oe(t,["Buffer","TypedArray","DataView"],e)});function Mp(e,t){let i=wp(t),n=e.length;if(i==="hex"&&n%2!==0)throw new yi("encoding",t,`is invalid for data of length ${n}`)}s(Mp,"validateEncoding");function Wp(e,t="Port",i=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&bp(e).length===0||+e!==+e>>>0||e>65535||e===0&&!i)throw new gp(t,e,i);return e|0}s(Wp,"validatePort");var Ic=Pe((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new oe(t,"AbortSignal",e)}),Up=Pe((e,t)=>{if(typeof e!="function")throw new oe(t,"Function",e)}),jp=Pe((e,t)=>{if(typeof e!="function"||Sp(e))throw new oe(t,"Function",e)}),qp=Pe((e,t)=>{if(e!==void 0)throw new oe(t,"undefined",e)});function $p(e,t,i){if(!_c(i,e))throw new oe(t,`('${xc(i,"|")}')`,e)}s($p,"validateUnion");var zp=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Ec(e,t){if(typeof e>"u"||!kc(zp,e))throw new yi(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}s(Ec,"validateLinkHeaderFormat");function Vp(e){if(typeof e=="string")return Ec(e,"hints"),e;if(Ss(e)){let t=e.length,i="";if(t===0)return i;for(let n=0;n<t;n++){let r=e[n];Ec(r,"hints"),i+=r,n!==t-1&&(i+=", ")}return i}throw new yi("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}s(Vp,"validateLinkHeaderValue");Ac.exports={isInt32:_p,isUint32:xp,parseFileMode:Fp,validateArray:Yn,validateStringArray:Np,validateBooleanArray:Lp,validateAbortSignalArray:Cp,validateBoolean:Fc,validateBuffer:Dp,validateDictionary:Rp,validateEncoding:Mp,validateFunction:Up,validateInt32:Ap,validateInteger:Ip,validateNumber:Op,validateObject:Tp,validateOneOf:Pp,validatePlainFunction:jp,validatePort:Wp,validateSignalName:Bp,validateString:_s,validateUint32:vc,validateUndefined:qp,validateUnion:$p,validateAbortSignal:Ic,validateLinkHeaderValue:Vp}});var Ft=R((kE,Rc)=>{var H=Rc.exports={},Ye,Xe;function xs(){throw new Error("setTimeout has not been defined")}s(xs,"defaultSetTimout");function ks(){throw new Error("clearTimeout has not been defined")}s(ks,"defaultClearTimeout");(function(){try{typeof setTimeout=="function"?Ye=setTimeout:Ye=xs}catch{Ye=xs}try{typeof clearTimeout=="function"?Xe=clearTimeout:Xe=ks}catch{Xe=ks}})();function Oc(e){if(Ye===setTimeout)return setTimeout(e,0);if((Ye===xs||!Ye)&&setTimeout)return Ye=setTimeout,setTimeout(e,0);try{return Ye(e,0)}catch{try{return Ye.call(null,e,0)}catch{return Ye.call(this,e,0)}}}s(Oc,"runTimeout");function Hp(e){if(Xe===clearTimeout)return clearTimeout(e);if((Xe===ks||!Xe)&&clearTimeout)return Xe=clearTimeout,clearTimeout(e);try{return Xe(e)}catch{try{return Xe.call(null,e)}catch{return Xe.call(this,e)}}}s(Hp,"runClearTimeout");var ut=[],bi=!1,$t,Xn=-1;function Kp(){!bi||!$t||(bi=!1,$t.length?ut=$t.concat(ut):Xn=-1,ut.length&&Pc())}s(Kp,"cleanUpNextTick");function Pc(){if(!bi){var e=Oc(Kp);bi=!0;for(var t=ut.length;t;){for($t=ut,ut=[];++Xn<t;)$t&&$t[Xn].run();Xn=-1,t=ut.length}$t=null,bi=!1,Hp(e)}}s(Pc,"drainQueue");H.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];ut.push(new Tc(e,t)),ut.length===1&&!bi&&Oc(Pc)};function Tc(e,t){this.fun=e,this.array=t}s(Tc,"Item");Tc.prototype.run=function(){this.fun.apply(null,this.array)};H.title="browser";H.browser=!0;H.env={};H.argv=[];H.version="";H.versions={};function dt(){}s(dt,"noop");H.on=dt;H.addListener=dt;H.once=dt;H.off=dt;H.removeListener=dt;H.removeAllListeners=dt;H.emit=dt;H.prependListener=dt;H.prependOnceListener=dt;H.listeners=function(e){return[]};H.binding=function(e){throw new Error("process.binding is not supported")};H.cwd=function(){return"/"};H.chdir=function(e){throw new Error("process.chdir is not supported")};H.umask=function(){return 0}});var Qe=R((FE,Kc)=>{"use strict";var{SymbolAsyncIterator:Nc,SymbolIterator:Lc,SymbolFor:zt}=$(),Cc=zt("nodejs.stream.destroyed"),Bc=zt("nodejs.stream.errored"),vs=zt("nodejs.stream.readable"),Fs=zt("nodejs.stream.writable"),Dc=zt("nodejs.stream.disturbed"),Gp=zt("nodejs.webstream.isClosedPromise"),Yp=zt("nodejs.webstream.controllerErrorFunction");function Jn(e,t=!1){var i;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((i=e._readableState)===null||i===void 0?void 0:i.readable)!==!1)&&(!e._writableState||e._readableState))}s(Jn,"isReadableNodeStream");function Qn(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}s(Qn,"isWritableNodeStream");function Xp(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}s(Xp,"isDuplexNodeStream");function Je(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}s(Je,"isNodeStream");function Mc(e){return!!(e&&!Je(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}s(Mc,"isReadableStream");function Wc(e){return!!(e&&!Je(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}s(Wc,"isWritableStream");function Uc(e){return!!(e&&!Je(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}s(Uc,"isTransformStream");function Jp(e){return Mc(e)||Wc(e)||Uc(e)}s(Jp,"isWebStream");function Qp(e,t){return e==null?!1:t===!0?typeof e[Nc]=="function":t===!1?typeof e[Lc]=="function":typeof e[Nc]=="function"||typeof e[Lc]=="function"}s(Qp,"isIterable");function Zn(e){if(!Je(e))return null;let t=e._writableState,i=e._readableState,n=t||i;return!!(e.destroyed||e[Cc]||n!=null&&n.destroyed)}s(Zn,"isDestroyed");function jc(e){if(!Qn(e))return null;if(e.writableEnded===!0)return!0;let t=e._writableState;return t!=null&&t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}s(jc,"isWritableEnded");function Zp(e,t){if(!Qn(e))return null;if(e.writableFinished===!0)return!0;let i=e._writableState;return i!=null&&i.errored?!1:typeof i?.finished!="boolean"?null:!!(i.finished||t===!1&&i.ended===!0&&i.length===0)}s(Zp,"isWritableFinished");function ey(e){if(!Jn(e))return null;if(e.readableEnded===!0)return!0;let t=e._readableState;return!t||t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}s(ey,"isReadableEnded");function qc(e,t){if(!Jn(e))return null;let i=e._readableState;return i!=null&&i.errored?!1:typeof i?.endEmitted!="boolean"?null:!!(i.endEmitted||t===!1&&i.ended===!0&&i.length===0)}s(qc,"isReadableFinished");function $c(e){return e&&e[vs]!=null?e[vs]:typeof e?.readable!="boolean"?null:Zn(e)?!1:Jn(e)&&e.readable&&!qc(e)}s($c,"isReadable");function zc(e){return e&&e[Fs]!=null?e[Fs]:typeof e?.writable!="boolean"?null:Zn(e)?!1:Qn(e)&&e.writable&&!jc(e)}s(zc,"isWritable");function ty(e,t){return Je(e)?Zn(e)?!0:!(t?.readable!==!1&&$c(e)||t?.writable!==!1&&zc(e)):null}s(ty,"isFinished");function iy(e){var t,i;return Je(e)?e.writableErrored?e.writableErrored:(t=(i=e._writableState)===null||i===void 0?void 0:i.errored)!==null&&t!==void 0?t:null:null}s(iy,"isWritableErrored");function ny(e){var t,i;return Je(e)?e.readableErrored?e.readableErrored:(t=(i=e._readableState)===null||i===void 0?void 0:i.errored)!==null&&t!==void 0?t:null:null}s(ny,"isReadableErrored");function ry(e){if(!Je(e))return null;if(typeof e.closed=="boolean")return e.closed;let t=e._writableState,i=e._readableState;return typeof t?.closed=="boolean"||typeof i?.closed=="boolean"?t?.closed||i?.closed:typeof e._closed=="boolean"&&Vc(e)?e._closed:null}s(ry,"isClosed");function Vc(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}s(Vc,"isOutgoingMessage");function Hc(e){return typeof e._sent100=="boolean"&&Vc(e)}s(Hc,"isServerResponse");function sy(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}s(sy,"isServerRequest");function oy(e){if(!Je(e))return null;let t=e._writableState,i=e._readableState,n=t||i;return!n&&Hc(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}s(oy,"willEmitClose");function ay(e){var t;return!!(e&&((t=e[Dc])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}s(ay,"isDisturbed");function cy(e){var t,i,n,r,o,a,c,l,f,d;return!!(e&&((t=(i=(n=(r=(o=(a=e[Bc])!==null&&a!==void 0?a:e.readableErrored)!==null&&o!==void 0?o:e.writableErrored)!==null&&r!==void 0?r:(c=e._readableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&n!==void 0?n:(l=e._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&i!==void 0?i:(f=e._readableState)===null||f===void 0?void 0:f.errored)!==null&&t!==void 0?t:!((d=e._writableState)===null||d===void 0)&&d.errored))}s(cy,"isErrored");Kc.exports={isDestroyed:Zn,kIsDestroyed:Cc,isDisturbed:ay,kIsDisturbed:Dc,isErrored:cy,kIsErrored:Bc,isReadable:$c,kIsReadable:vs,kIsClosedPromise:Gp,kControllerErrorFunction:Yp,kIsWritable:Fs,isClosed:ry,isDuplexNodeStream:Xp,isFinished:ty,isIterable:Qp,isReadableNodeStream:Jn,isReadableStream:Mc,isReadableEnded:ey,isReadableFinished:qc,isReadableErrored:ny,isNodeStream:Je,isWebStream:Jp,isWritable:zc,isWritableNodeStream:Qn,isWritableStream:Wc,isWritableEnded:jc,isWritableFinished:Zp,isWritableErrored:iy,isServerRequest:sy,isServerResponse:Hc,willEmitClose:oy,isTransformStream:Uc}});var ht=R((AE,Ts)=>{var It=Ft(),{AbortError:il,codes:ly}=ce(),{ERR_INVALID_ARG_TYPE:fy,ERR_STREAM_PREMATURE_CLOSE:Gc}=ly,{kEmptyObject:As,once:Os}=se(),{validateAbortSignal:uy,validateFunction:dy,validateObject:hy,validateBoolean:py}=mi(),{Promise:yy,PromisePrototypeThen:my,SymbolDispose:nl}=$(),{isClosed:by,isReadable:Yc,isReadableNodeStream:Is,isReadableStream:gy,isReadableFinished:Xc,isReadableErrored:Jc,isWritable:Qc,isWritableNodeStream:Zc,isWritableStream:wy,isWritableFinished:el,isWritableErrored:tl,isNodeStream:Sy,willEmitClose:Ey,kIsClosedPromise:_y}=Qe(),gi;function xy(e){return e.setHeader&&typeof e.abort=="function"}s(xy,"isRequest");var Ps=s(()=>{},"nop");function rl(e,t,i){var n,r;if(arguments.length===2?(i=t,t=As):t==null?t=As:hy(t,"options"),dy(i,"callback"),uy(t.signal,"options.signal"),i=Os(i),gy(e)||wy(e))return ky(e,t,i);if(!Sy(e))throw new fy("stream",["ReadableStream","WritableStream","Stream"],e);let o=(n=t.readable)!==null&&n!==void 0?n:Is(e),a=(r=t.writable)!==null&&r!==void 0?r:Zc(e),c=e._writableState,l=e._readableState,f=s(()=>{e.writable||b()},"onlegacyfinish"),d=Ey(e)&&Is(e)===o&&Zc(e)===a,h=el(e,!1),b=s(()=>{h=!0,e.destroyed&&(d=!1),!(d&&(!e.readable||o))&&(!o||y)&&i.call(e)},"onfinish"),y=Xc(e,!1),S=s(()=>{y=!0,e.destroyed&&(d=!1),!(d&&(!e.writable||a))&&(!a||h)&&i.call(e)},"onend"),g=s(G=>{i.call(e,G)},"onerror"),A=by(e),k=s(()=>{A=!0;let G=tl(e)||Jc(e);if(G&&typeof G!="boolean")return i.call(e,G);if(o&&!y&&Is(e,!0)&&!Xc(e,!1))return i.call(e,new Gc);if(a&&!h&&!el(e,!1))return i.call(e,new Gc);i.call(e)},"onclose"),O=s(()=>{A=!0;let G=tl(e)||Jc(e);if(G&&typeof G!="boolean")return i.call(e,G);i.call(e)},"onclosed"),C=s(()=>{e.req.on("finish",b)},"onrequest");xy(e)?(e.on("complete",b),d||e.on("abort",k),e.req?C():e.on("request",C)):a&&!c&&(e.on("end",f),e.on("close",f)),!d&&typeof e.aborted=="boolean"&&e.on("aborted",k),e.on("end",S),e.on("finish",b),t.error!==!1&&e.on("error",g),e.on("close",k),A?It.nextTick(k):c!=null&&c.errorEmitted||l!=null&&l.errorEmitted?d||It.nextTick(O):(!o&&(!d||Yc(e))&&(h||Qc(e)===!1)||!a&&(!d||Qc(e))&&(y||Yc(e)===!1)||l&&e.req&&e.aborted)&&It.nextTick(O);let T=s(()=>{i=Ps,e.removeListener("aborted",k),e.removeListener("complete",b),e.removeListener("abort",k),e.removeListener("request",C),e.req&&e.req.removeListener("finish",b),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",b),e.removeListener("end",S),e.removeListener("error",g),e.removeListener("close",k)},"cleanup");if(t.signal&&!A){let G=s(()=>{let Rt=i;T(),Rt.call(e,new il(void 0,{cause:t.signal.reason}))},"abort");if(t.signal.aborted)It.nextTick(G);else{gi=gi||se().addAbortListener;let Rt=gi(t.signal,G),Se=i;i=Os((...ei)=>{Rt[nl](),Se.apply(e,ei)})}}return T}s(rl,"eos");function ky(e,t,i){let n=!1,r=Ps;if(t.signal)if(r=s(()=>{n=!0,i.call(e,new il(void 0,{cause:t.signal.reason}))},"abort"),t.signal.aborted)It.nextTick(r);else{gi=gi||se().addAbortListener;let a=gi(t.signal,r),c=i;i=Os((...l)=>{a[nl](),c.apply(e,l)})}let o=s((...a)=>{n||It.nextTick(()=>i.apply(e,a))},"resolverFn");return my(e[_y].promise,o,o),Ps}s(ky,"eosWeb");function vy(e,t){var i;let n=!1;return t===null&&(t=As),(i=t)!==null&&i!==void 0&&i.cleanup&&(py(t.cleanup,"cleanup"),n=t.cleanup),new yy((r,o)=>{let a=rl(e,t,c=>{n&&a(),c?o(c):r()})})}s(vy,"finished");Ts.exports=rl;Ts.exports.finished=vy});var Vt=R((PE,dl)=>{"use strict";var Ze=Ft(),{aggregateTwoErrors:Fy,codes:{ERR_MULTIPLE_CALLBACK:Iy},AbortError:Ay}=ce(),{Symbol:al}=$(),{kIsDestroyed:Oy,isDestroyed:Py,isFinished:Ty,isServerRequest:Ry}=Qe(),cl=al("kDestroy"),Rs=al("kConstruct");function ll(e,t,i){e&&(e.stack,t&&!t.errored&&(t.errored=e),i&&!i.errored&&(i.errored=e))}s(ll,"checkError");function Ny(e,t){let i=this._readableState,n=this._writableState,r=n||i;return n!=null&&n.destroyed||i!=null&&i.destroyed?(typeof t=="function"&&t(),this):(ll(e,n,i),n&&(n.destroyed=!0),i&&(i.destroyed=!0),r.constructed?sl(this,e,t):this.once(cl,function(o){sl(this,Fy(o,e),t)}),this)}s(Ny,"destroy");function sl(e,t,i){let n=!1;function r(o){if(n)return;n=!0;let a=e._readableState,c=e._writableState;ll(o,c,a),c&&(c.closed=!0),a&&(a.closed=!0),typeof i=="function"&&i(o),o?Ze.nextTick(Ly,e,o):Ze.nextTick(fl,e)}s(r,"onDestroy");try{e._destroy(t||null,r)}catch(o){r(o)}}s(sl,"_destroy");function Ly(e,t){Ns(e,t),fl(e)}s(Ly,"emitErrorCloseNT");function fl(e){let t=e._readableState,i=e._writableState;i&&(i.closeEmitted=!0),t&&(t.closeEmitted=!0),(i!=null&&i.emitClose||t!=null&&t.emitClose)&&e.emit("close")}s(fl,"emitCloseNT");function Ns(e,t){let i=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||i!=null&&i.errorEmitted||(n&&(n.errorEmitted=!0),i&&(i.errorEmitted=!0),e.emit("error",t))}s(Ns,"emitErrorNT");function Cy(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}s(Cy,"undestroy");function Ls(e,t,i){let n=e._readableState,r=e._writableState;if(r!=null&&r.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||r!=null&&r.autoDestroy?e.destroy(t):t&&(t.stack,r&&!r.errored&&(r.errored=t),n&&!n.errored&&(n.errored=t),i?Ze.nextTick(Ns,e,t):Ns(e,t))}s(Ls,"errorOrDestroy");function By(e,t){if(typeof e._construct!="function")return;let i=e._readableState,n=e._writableState;i&&(i.constructed=!1),n&&(n.constructed=!1),e.once(Rs,t),!(e.listenerCount(Rs)>1)&&Ze.nextTick(Dy,e)}s(By,"construct");function Dy(e){let t=!1;function i(n){if(t){Ls(e,n??new Iy);return}t=!0;let r=e._readableState,o=e._writableState,a=o||r;r&&(r.constructed=!0),o&&(o.constructed=!0),a.destroyed?e.emit(cl,n):n?Ls(e,n,!0):Ze.nextTick(My,e)}s(i,"onConstruct");try{e._construct(n=>{Ze.nextTick(i,n)})}catch(n){Ze.nextTick(i,n)}}s(Dy,"constructNT");function My(e){e.emit(Rs)}s(My,"emitConstructNT");function ol(e){return e?.setHeader&&typeof e.abort=="function"}s(ol,"isRequest");function ul(e){e.emit("close")}s(ul,"emitCloseLegacy");function Wy(e,t){e.emit("error",t),Ze.nextTick(ul,e)}s(Wy,"emitErrorCloseLegacy");function Uy(e,t){!e||Py(e)||(!t&&!Ty(e)&&(t=new Ay),Ry(e)?(e.socket=null,e.destroy(t)):ol(e)?e.abort():ol(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?Ze.nextTick(Wy,e,t):Ze.nextTick(ul,e),e.destroyed||(e[Oy]=!0))}s(Uy,"destroyer");dl.exports={construct:By,destroyer:Uy,destroy:Ny,undestroy:Cy,errorOrDestroy:Ls}});var ir=R((RE,pl)=>{"use strict";var{ArrayIsArray:jy,ObjectSetPrototypeOf:hl}=$(),{EventEmitter:er}=rn();function tr(e){er.call(this,e)}s(tr,"Stream");hl(tr.prototype,er.prototype);hl(tr,er);tr.prototype.pipe=function(e,t){let i=this;function n(d){e.writable&&e.write(d)===!1&&i.pause&&i.pause()}s(n,"ondata"),i.on("data",n);function r(){i.readable&&i.resume&&i.resume()}s(r,"ondrain"),e.on("drain",r),!e._isStdio&&(!t||t.end!==!1)&&(i.on("end",a),i.on("close",c));let o=!1;function a(){o||(o=!0,e.end())}s(a,"onend");function c(){o||(o=!0,typeof e.destroy=="function"&&e.destroy())}s(c,"onclose");function l(d){f(),er.listenerCount(this,"error")===0&&this.emit("error",d)}s(l,"onerror"),Cs(i,"error",l),Cs(e,"error",l);function f(){i.removeListener("data",n),e.removeListener("drain",r),i.removeListener("end",a),i.removeListener("close",c),i.removeListener("error",l),e.removeListener("error",l),i.removeListener("end",f),i.removeListener("close",f),e.removeListener("close",f)}return s(f,"cleanup"),i.on("end",f),i.on("close",f),e.on("close",f),e.emit("pipe",i),e};function Cs(e,t,i){if(typeof e.prependListener=="function")return e.prependListener(t,i);!e._events||!e._events[t]?e.on(t,i):jy(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]}s(Cs,"prependListener");pl.exports={Stream:tr,prependListener:Cs}});var sn=R((LE,nr)=>{"use strict";var{SymbolDispose:qy}=$(),{AbortError:yl,codes:$y}=ce(),{isNodeStream:ml,isWebStream:zy,kControllerErrorFunction:Vy}=Qe(),Hy=ht(),{ERR_INVALID_ARG_TYPE:bl}=$y,Bs,Ky=s((e,t)=>{if(typeof e!="object"||!("aborted"in e))throw new bl(t,"AbortSignal",e)},"validateAbortSignal");nr.exports.addAbortSignal=s(function(t,i){if(Ky(t,"signal"),!ml(i)&&!zy(i))throw new bl("stream",["ReadableStream","WritableStream","Stream"],i);return nr.exports.addAbortSignalNoValidate(t,i)},"addAbortSignal");nr.exports.addAbortSignalNoValidate=function(e,t){if(typeof e!="object"||!("aborted"in e))return t;let i=ml(t)?()=>{t.destroy(new yl(void 0,{cause:e.reason}))}:()=>{t[Vy](new yl(void 0,{cause:e.reason}))};if(e.aborted)i();else{Bs=Bs||se().addAbortListener;let n=Bs(e,i);Hy(t,n[qy])}return t}});var Sl=R((DE,wl)=>{"use strict";var{StringPrototypeSlice:gl,SymbolIterator:Gy,TypedArrayPrototypeSet:rr,Uint8Array:Yy}=$(),{Buffer:Ds}=ve(),{inspect:Xy}=se();wl.exports=class{static{s(this,"BufferList")}constructor(){this.head=null,this.tail=null,this.length=0}push(t){let i={data:t,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}unshift(t){let i={data:t,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}shift(){if(this.length===0)return;let t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let i=this.head,n=""+i.data;for(;(i=i.next)!==null;)n+=t+i.data;return n}concat(t){if(this.length===0)return Ds.alloc(0);let i=Ds.allocUnsafe(t>>>0),n=this.head,r=0;for(;n;)rr(i,n.data,r),r+=n.data.length,n=n.next;return i}consume(t,i){let n=this.head.data;if(t<n.length){let r=n.slice(0,t);return this.head.data=n.slice(t),r}return t===n.length?this.shift():i?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[Gy](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let i="",n=this.head,r=0;do{let o=n.data;if(t>o.length)i+=o,t-=o.length;else{t===o.length?(i+=o,++r,n.next?this.head=n.next:this.head=this.tail=null):(i+=gl(o,0,t),this.head=n,n.data=gl(o,t));break}++r}while((n=n.next)!==null);return this.length-=r,i}_getBuffer(t){let i=Ds.allocUnsafe(t),n=t,r=this.head,o=0;do{let a=r.data;if(t>a.length)rr(i,a,n-t),t-=a.length;else{t===a.length?(rr(i,a,n-t),++o,r.next?this.head=r.next:this.head=this.tail=null):(rr(i,new Yy(a.buffer,a.byteOffset,t),n-t),this.head=r,r.data=a.slice(t));break}++o}while((r=r.next)!==null);return this.length-=o,i}[Symbol.for("nodejs.util.inspect.custom")](t,i){return Xy(this,{...i,depth:0,customInspect:!1})}}});var on=R((WE,kl)=>{"use strict";var{MathFloor:Jy,NumberIsInteger:Qy}=$(),{validateInteger:Zy}=mi(),{ERR_INVALID_ARG_VALUE:em}=ce().codes,El=16*1024,_l=16;function tm(e,t,i){return e.highWaterMark!=null?e.highWaterMark:t?e[i]:null}s(tm,"highWaterMarkFrom");function xl(e){return e?_l:El}s(xl,"getDefaultHighWaterMark");function im(e,t){Zy(t,"value",0),e?_l=t:El=t}s(im,"setDefaultHighWaterMark");function nm(e,t,i,n){let r=tm(t,n,i);if(r!=null){if(!Qy(r)||r<0){let o=n?`options.${i}`:"options.highWaterMark";throw new em(o,r)}return Jy(r)}return xl(e.objectMode)}s(nm,"getHighWaterMark");kl.exports={getHighWaterMark:nm,getDefaultHighWaterMark:xl,setDefaultHighWaterMark:im}});var Il=R((Ms,Fl)=>{var sr=ve(),et=sr.Buffer;function vl(e,t){for(var i in e)t[i]=e[i]}s(vl,"copyProps");et.from&&et.alloc&&et.allocUnsafe&&et.allocUnsafeSlow?Fl.exports=sr:(vl(sr,Ms),Ms.Buffer=Ht);function Ht(e,t,i){return et(e,t,i)}s(Ht,"SafeBuffer");Ht.prototype=Object.create(et.prototype);vl(et,Ht);Ht.from=function(e,t,i){if(typeof e=="number")throw new TypeError("Argument must not be a number");return et(e,t,i)};Ht.alloc=function(e,t,i){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=et(e);return t!==void 0?typeof i=="string"?n.fill(t,i):n.fill(t):n.fill(0),n};Ht.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return et(e)};Ht.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return sr.SlowBuffer(e)}});var Pl=R(Ol=>{"use strict";var Us=Il().Buffer,Al=Us.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function rm(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}s(rm,"_normalizeEncoding");function sm(e){var t=rm(e);if(typeof t!="string"&&(Us.isEncoding===Al||!Al(e)))throw new Error("Unknown encoding: "+e);return t||e}s(sm,"normalizeEncoding");Ol.StringDecoder=an;function an(e){this.encoding=sm(e);var t;switch(this.encoding){case"utf16le":this.text=um,this.end=dm,t=4;break;case"utf8":this.fillLast=cm,t=4;break;case"base64":this.text=hm,this.end=pm,t=3;break;default:this.write=ym,this.end=mm;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Us.allocUnsafe(t)}s(an,"StringDecoder");an.prototype.write=function(e){if(e.length===0)return"";var t,i;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""};an.prototype.end=fm;an.prototype.text=lm;an.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Ws(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}s(Ws,"utf8CheckByte");function om(e,t,i){var n=t.length-1;if(n<i)return 0;var r=Ws(t[n]);return r>=0?(r>0&&(e.lastNeed=r-1),r):--n<i||r===-2?0:(r=Ws(t[n]),r>=0?(r>0&&(e.lastNeed=r-2),r):--n<i||r===-2?0:(r=Ws(t[n]),r>=0?(r>0&&(r===2?r=0:e.lastNeed=r-3),r):0))}s(om,"utf8CheckIncomplete");function am(e,t,i){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}s(am,"utf8CheckExtraBytes");function cm(e){var t=this.lastTotal-this.lastNeed,i=am(this,e,t);if(i!==void 0)return i;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}s(cm,"utf8FillLast");function lm(e,t){var i=om(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var n=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}s(lm,"utf8Text");function fm(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}s(fm,"utf8End");function um(e,t){if((e.length-t)%2===0){var i=e.toString("utf16le",t);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}s(um,"utf16Text");function dm(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}s(dm,"utf16End");function hm(e,t){var i=(e.length-t)%3;return i===0?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,i===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}s(hm,"base64Text");function pm(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}s(pm,"base64End");function ym(e){return e.toString(this.encoding)}s(ym,"simpleWrite");function mm(e){return e&&e.length?this.write(e):""}s(mm,"simpleEnd")});var js=R((zE,Ll)=>{"use strict";var Tl=Ft(),{PromisePrototypeThen:bm,SymbolAsyncIterator:Rl,SymbolIterator:Nl}=$(),{Buffer:gm}=ve(),{ERR_INVALID_ARG_TYPE:wm,ERR_STREAM_NULL_VALUES:Sm}=ce().codes;function Em(e,t,i){let n;if(typeof t=="string"||t instanceof gm)return new e({objectMode:!0,...i,read:s(function(){this.push(t),this.push(null)},"read")});let r;if(t&&t[Rl])r=!0,n=t[Rl]();else if(t&&t[Nl])r=!1,n=t[Nl]();else throw new wm("iterable",["Iterable"],t);let o=new e({objectMode:!0,highWaterMark:1,...i}),a=!1;o._read=function(){a||(a=!0,l())},o._destroy=function(f,d){bm(c(f),()=>Tl.nextTick(d,f),h=>Tl.nextTick(d,h||f))};async function c(f){let d=f!=null,h=typeof n.throw=="function";if(d&&h){let{value:b,done:y}=await n.throw(f);if(await b,y)return}if(typeof n.return=="function"){let{value:b}=await n.return();await b}}s(c,"close");async function l(){for(;;){try{let{value:f,done:d}=r?await n.next():n.next();if(d)o.push(null);else{let h=f&&typeof f.then=="function"?await f:f;if(h===null)throw a=!1,new Sm;if(o.push(h))continue;a=!1}}catch(f){o.destroy(f)}break}}return s(l,"next"),o}s(Em,"from");Ll.exports=Em});var ln=R((HE,Ql)=>{var Ce=Ft(),{ArrayPrototypeIndexOf:_m,NumberIsInteger:xm,NumberIsNaN:km,NumberParseInt:vm,ObjectDefineProperties:Ys,ObjectKeys:Fm,ObjectSetPrototypeOf:Dl,Promise:Ml,SafeSet:Im,SymbolAsyncDispose:Am,SymbolAsyncIterator:Om,Symbol:Pm}=$();Ql.exports=F;F.ReadableState=lr;var{EventEmitter:Tm}=rn(),{Stream:At,prependListener:Rm}=ir(),{Buffer:qs}=ve(),{addAbortSignal:Nm}=sn(),Wl=ht(),P=se().debuglog("stream",e=>{P=e}),Lm=Sl(),Ei=Vt(),{getHighWaterMark:Cm,getDefaultHighWaterMark:Bm}=on(),{aggregateTwoErrors:Cl,codes:{ERR_INVALID_ARG_TYPE:Dm,ERR_METHOD_NOT_IMPLEMENTED:Mm,ERR_OUT_OF_RANGE:Wm,ERR_STREAM_PUSH_AFTER_EOF:Um,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:jm},AbortError:qm}=ce(),{validateObject:$m}=mi(),Kt=Pm("kPaused"),{StringDecoder:Ul}=Pl(),zm=js();Dl(F.prototype,At.prototype);Dl(F,At);var $s=s(()=>{},"nop"),{errorOrDestroy:wi}=Ei,Si=1,Vm=2,jl=4,cn=8,ql=16,or=32,ar=64,$l=128,Hm=256,Km=512,Gm=1024,Ks=2048,Gs=4096,Ym=8192,Xm=16384,Jm=32768,zl=65536,Qm=1<<17,Zm=1<<18;function Z(e){return{enumerable:!1,get:s(function(){return(this.state&e)!==0},"get"),set:s(function(t){t?this.state|=e:this.state&=~e},"set")}}s(Z,"makeBitMapDescriptor");Ys(lr.prototype,{objectMode:Z(Si),ended:Z(Vm),endEmitted:Z(jl),reading:Z(cn),constructed:Z(ql),sync:Z(or),needReadable:Z(ar),emittedReadable:Z($l),readableListening:Z(Hm),resumeScheduled:Z(Km),errorEmitted:Z(Gm),emitClose:Z(Ks),autoDestroy:Z(Gs),destroyed:Z(Ym),closed:Z(Xm),closeEmitted:Z(Jm),multiAwaitDrain:Z(zl),readingMore:Z(Qm),dataEmitted:Z(Zm)});function lr(e,t,i){typeof i!="boolean"&&(i=t instanceof tt()),this.state=Ks|Gs|ql|or,e&&e.objectMode&&(this.state|=Si),i&&e&&e.readableObjectMode&&(this.state|=Si),this.highWaterMark=e?Cm(this,e,"readableHighWaterMark",i):Bm(!1),this.buffer=new Lm,this.length=0,this.pipes=[],this.flowing=null,this[Kt]=null,e&&e.emitClose===!1&&(this.state&=~Ks),e&&e.autoDestroy===!1&&(this.state&=~Gs),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new Ul(e.encoding),this.encoding=e.encoding)}s(lr,"ReadableState");function F(e){if(!(this instanceof F))return new F(e);let t=this instanceof tt();this._readableState=new lr(e,this,t),e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&!t&&Nm(e.signal,this)),At.call(this,e),Ei.construct(this,()=>{this._readableState.needReadable&&cr(this,this._readableState)})}s(F,"Readable");F.prototype.destroy=Ei.destroy;F.prototype._undestroy=Ei.undestroy;F.prototype._destroy=function(e,t){t(e)};F.prototype[Tm.captureRejectionSymbol]=function(e){this.destroy(e)};F.prototype[Am]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new qm,this.destroy(e)),new Ml((t,i)=>Wl(this,n=>n&&n!==e?i(n):t(null)))};F.prototype.push=function(e,t){return Vl(this,e,t,!1)};F.prototype.unshift=function(e,t){return Vl(this,e,t,!0)};function Vl(e,t,i,n){P("readableAddChunk",t);let r=e._readableState,o;if(r.state&Si||(typeof t=="string"?(i=i||r.defaultEncoding,r.encoding!==i&&(n&&r.encoding?t=qs.from(t,i).toString(r.encoding):(t=qs.from(t,i),i=""))):t instanceof qs?i="":At._isUint8Array(t)?(t=At._uint8ArrayToBuffer(t),i=""):t!=null&&(o=new Dm("chunk",["string","Buffer","Uint8Array"],t))),o)wi(e,o);else if(t===null)r.state&=~cn,ib(e,r);else if(r.state&Si||t&&t.length>0)if(n)if(r.state&jl)wi(e,new jm);else{if(r.destroyed||r.errored)return!1;zs(e,r,t,!0)}else if(r.ended)wi(e,new Um);else{if(r.destroyed||r.errored)return!1;r.state&=~cn,r.decoder&&!i?(t=r.decoder.write(t),r.objectMode||t.length!==0?zs(e,r,t,!1):cr(e,r)):zs(e,r,t,!1)}else n||(r.state&=~cn,cr(e,r));return!r.ended&&(r.length<r.highWaterMark||r.length===0)}s(Vl,"readableAddChunk");function zs(e,t,i,n){t.flowing&&t.length===0&&!t.sync&&e.listenerCount("data")>0?(t.state&zl?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",i)):(t.length+=t.objectMode?1:i.length,n?t.buffer.unshift(i):t.buffer.push(i),t.state&ar&&fr(e)),cr(e,t)}s(zs,"addChunk");F.prototype.isPaused=function(){let e=this._readableState;return e[Kt]===!0||e.flowing===!1};F.prototype.setEncoding=function(e){let t=new Ul(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let i=this._readableState.buffer,n="";for(let r of i)n+=t.write(r);return i.clear(),n!==""&&i.push(n),this._readableState.length=n.length,this};var eb=1073741824;function tb(e){if(e>eb)throw new Wm("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++,e}s(tb,"computeNewHighWaterMark");function Bl(e,t){return e<=0||t.length===0&&t.ended?0:t.state&Si?1:km(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}s(Bl,"howMuchToRead");F.prototype.read=function(e){P("read",e),e===void 0?e=NaN:xm(e)||(e=vm(e,10));let t=this._readableState,i=e;if(e>t.highWaterMark&&(t.highWaterMark=tb(e)),e!==0&&(t.state&=~$l),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return P("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Vs(this):fr(this),null;if(e=Bl(e,t),e===0&&t.ended)return t.length===0&&Vs(this),null;let n=(t.state&ar)!==0;if(P("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,P("length less than watermark",n)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)n=!1,P("reading, ended or constructing",n);else if(n){P("do read"),t.state|=cn|or,t.length===0&&(t.state|=ar);try{this._read(t.highWaterMark)}catch(o){wi(this,o)}t.state&=~or,t.reading||(e=Bl(i,t))}let r;return e>0?r=Xl(e,t):r=null,r===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),t.length===0&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&Vs(this)),r!==null&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",r)),r};function ib(e,t){if(P("onEofChunk"),!t.ended){if(t.decoder){let i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,t.sync?fr(e):(t.needReadable=!1,t.emittedReadable=!0,Hl(e))}}s(ib,"onEofChunk");function fr(e){let t=e._readableState;P("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(P("emitReadable",t.flowing),t.emittedReadable=!0,Ce.nextTick(Hl,e))}s(fr,"emitReadable");function Hl(e){let t=e._readableState;P("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Gl(e)}s(Hl,"emitReadable_");function cr(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,Ce.nextTick(nb,e,t))}s(cr,"maybeReadMore");function nb(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){let i=t.length;if(P("maybeReadMore read 0"),e.read(0),i===t.length)break}t.readingMore=!1}s(nb,"maybeReadMore_");F.prototype._read=function(e){throw new Mm("_read()")};F.prototype.pipe=function(e,t){let i=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Im(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(e),P("pipe count=%d opts=%j",n.pipes.length,t);let o=(!t||t.end!==!1)&&e!==Ce.stdout&&e!==Ce.stderr?c:A;n.endEmitted?Ce.nextTick(o):i.once("end",o),e.on("unpipe",a);function a(k,O){P("onunpipe"),k===i&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,d())}s(a,"onunpipe");function c(){P("onend"),e.end()}s(c,"onend");let l,f=!1;function d(){P("cleanup"),e.removeListener("close",S),e.removeListener("finish",g),l&&e.removeListener("drain",l),e.removeListener("error",y),e.removeListener("unpipe",a),i.removeListener("end",c),i.removeListener("end",A),i.removeListener("data",b),f=!0,l&&n.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}s(d,"cleanup");function h(){f||(n.pipes.length===1&&n.pipes[0]===e?(P("false write response, pause",0),n.awaitDrainWriters=e,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(e)&&(P("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(e)),i.pause()),l||(l=rb(i,e),e.on("drain",l))}s(h,"pause"),i.on("data",b);function b(k){P("ondata");let O=e.write(k);P("dest.write",O),O===!1&&h()}s(b,"ondata");function y(k){if(P("onerror",k),A(),e.removeListener("error",y),e.listenerCount("error")===0){let O=e._writableState||e._readableState;O&&!O.errorEmitted?wi(e,k):e.emit("error",k)}}s(y,"onerror"),Rm(e,"error",y);function S(){e.removeListener("finish",g),A()}s(S,"onclose"),e.once("close",S);function g(){P("onfinish"),e.removeListener("close",S),A()}s(g,"onfinish"),e.once("finish",g);function A(){P("unpipe"),i.unpipe(e)}return s(A,"unpipe"),e.emit("pipe",i),e.writableNeedDrain===!0?h():n.flowing||(P("pipe resume"),i.resume()),e};function rb(e,t){return s(function(){let n=e._readableState;n.awaitDrainWriters===t?(P("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(P("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&e.listenerCount("data")&&e.resume()},"pipeOnDrainFunctionResult")}s(rb,"pipeOnDrain");F.prototype.unpipe=function(e){let t=this._readableState,i={hasUnpiped:!1};if(t.pipes.length===0)return this;if(!e){let r=t.pipes;t.pipes=[],this.pause();for(let o=0;o<r.length;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}let n=_m(t.pipes,e);return n===-1?this:(t.pipes.splice(n,1),t.pipes.length===0&&this.pause(),e.emit("unpipe",this,i),this)};F.prototype.on=function(e,t){let i=At.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,P("on readable",n.length,n.reading),n.length?fr(this):n.reading||Ce.nextTick(sb,this)),i};F.prototype.addListener=F.prototype.on;F.prototype.removeListener=function(e,t){let i=At.prototype.removeListener.call(this,e,t);return e==="readable"&&Ce.nextTick(Kl,this),i};F.prototype.off=F.prototype.removeListener;F.prototype.removeAllListeners=function(e){let t=At.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&Ce.nextTick(Kl,this),t};function Kl(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&t[Kt]===!1?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}s(Kl,"updateReadableListening");function sb(e){P("readable nexttick read 0"),e.read(0)}s(sb,"nReadingNextTick");F.prototype.resume=function(){let e=this._readableState;return e.flowing||(P("resume"),e.flowing=!e.readableListening,ob(this,e)),e[Kt]=!1,this};function ob(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Ce.nextTick(ab,e,t))}s(ob,"resume");function ab(e,t){P("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Gl(e),t.flowing&&!t.reading&&e.read(0)}s(ab,"resume_");F.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Kt]=!0,this};function Gl(e){let t=e._readableState;for(P("flow",t.flowing);t.flowing&&e.read()!==null;);}s(Gl,"flow");F.prototype.wrap=function(e){let t=!1;e.on("data",n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",n=>{wi(this,n)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let i=Fm(e);for(let n=1;n<i.length;n++){let r=i[n];this[r]===void 0&&typeof e[r]=="function"&&(this[r]=e[r].bind(e))}return this};F.prototype[Om]=function(){return Yl(this)};F.prototype.iterator=function(e){return e!==void 0&&$m(e,"options"),Yl(this,e)};function Yl(e,t){typeof e.read!="function"&&(e=F.wrap(e,{objectMode:!0}));let i=cb(e,t);return i.stream=e,i}s(Yl,"streamToAsyncIterator");async function*cb(e,t){let i=$s;function n(a){this===e?(i(),i=$s):i=a}s(n,"next"),e.on("readable",n);let r,o=Wl(e,{writable:!1},a=>{r=a?Cl(r,a):null,i(),i=$s});try{for(;;){let a=e.destroyed?null:e.read();if(a!==null)yield a;else{if(r)throw r;if(r===null)return;await new Ml(n)}}}catch(a){throw r=Cl(r,a),r}finally{(r||t?.destroyOnReturn!==!1)&&(r===void 0||e._readableState.autoDestroy)?Ei.destroyer(e,null):(e.off("readable",n),o())}}s(cb,"createAsyncIterator");Ys(F.prototype,{readable:{__proto__:null,get:s(function(){let e=this._readableState;return!!e&&e.readable!==!1&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},"get"),set:s(function(e){this._readableState&&(this._readableState.readable=!!e)},"set")},readableDidRead:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.dataEmitted},"get")},readableAborted:{__proto__:null,enumerable:!1,get:s(function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)},"get")},readableHighWaterMark:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.highWaterMark},"get")},readableBuffer:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState&&this._readableState.buffer},"get")},readableFlowing:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.flowing},"get"),set:s(function(e){this._readableState&&(this._readableState.flowing=e)},"set")},readableLength:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.length},"get")},readableObjectMode:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState?this._readableState.objectMode:!1},"get")},readableEncoding:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState?this._readableState.encoding:null},"get")},errored:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState?this._readableState.errored:null},"get")},closed:{__proto__:null,get:s(function(){return this._readableState?this._readableState.closed:!1},"get")},destroyed:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState?this._readableState.destroyed:!1},"get"),set:s(function(e){this._readableState&&(this._readableState.destroyed=e)},"set")},readableEnded:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState?this._readableState.endEmitted:!1},"get")}});Ys(lr.prototype,{pipesCount:{__proto__:null,get:s(function(){return this.pipes.length},"get")},paused:{__proto__:null,get:s(function(){return this[Kt]!==!1},"get"),set:s(function(e){this[Kt]=!!e},"set")}});F._fromList=Xl;function Xl(e,t){if(t.length===0)return null;let i;return t.objectMode?i=t.buffer.shift():!e||e>=t.length?(t.decoder?i=t.buffer.join(""):t.buffer.length===1?i=t.buffer.first():i=t.buffer.concat(t.length),t.buffer.clear()):i=t.buffer.consume(e,t.decoder),i}s(Xl,"fromList");function Vs(e){let t=e._readableState;P("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,Ce.nextTick(lb,t,e))}s(Vs,"endReadable");function lb(e,t){if(P("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&e.length===0){if(e.endEmitted=!0,t.emit("end"),t.writable&&t.allowHalfOpen===!1)Ce.nextTick(fb,t);else if(e.autoDestroy){let i=t._writableState;(!i||i.autoDestroy&&(i.finished||i.writable===!1))&&t.destroy()}}}s(lb,"endReadableNT");function fb(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}s(fb,"endWritableNT");F.from=function(e,t){return zm(F,e,t)};var Hs;function Jl(){return Hs===void 0&&(Hs={}),Hs}s(Jl,"lazyWebStreams");F.fromWeb=function(e,t){return Jl().newStreamReadableFromReadableStream(e,t)};F.toWeb=function(e,t){return Jl().newReadableStreamFromStreamReadable(e,t)};F.wrap=function(e,t){var i,n;return new F({objectMode:(i=(n=e.readableObjectMode)!==null&&n!==void 0?n:e.objectMode)!==null&&i!==void 0?i:!0,...t,destroy:s(function(r,o){Ei.destroyer(e,r),o(r)},"destroy")}).wrap(e)}});var yr=R((GE,uf)=>{var Gt=Ft(),{ArrayPrototypeSlice:tf,Error:ub,FunctionPrototypeSymbolHasInstance:nf,ObjectDefineProperty:rf,ObjectDefineProperties:db,ObjectSetPrototypeOf:sf,StringPrototypeToLowerCase:hb,Symbol:pb,SymbolHasInstance:yb}=$();uf.exports=z;z.WritableState=dn;var{EventEmitter:mb}=rn(),fn=ir().Stream,{Buffer:ur}=ve(),pr=Vt(),{addAbortSignal:bb}=sn(),{getHighWaterMark:gb,getDefaultHighWaterMark:wb}=on(),{ERR_INVALID_ARG_TYPE:Sb,ERR_METHOD_NOT_IMPLEMENTED:Eb,ERR_MULTIPLE_CALLBACK:of,ERR_STREAM_CANNOT_PIPE:_b,ERR_STREAM_DESTROYED:un,ERR_STREAM_ALREADY_FINISHED:xb,ERR_STREAM_NULL_VALUES:kb,ERR_STREAM_WRITE_AFTER_END:vb,ERR_UNKNOWN_ENCODING:af}=ce().codes,{errorOrDestroy:_i}=pr;sf(z.prototype,fn.prototype);sf(z,fn);function Qs(){}s(Qs,"nop");var xi=pb("kOnFinished");function dn(e,t,i){typeof i!="boolean"&&(i=t instanceof tt()),this.objectMode=!!(e&&e.objectMode),i&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?gb(this,e,"writableHighWaterMark",i):wb(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(e&&e.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Ib.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,hr(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[xi]=[]}s(dn,"WritableState");function hr(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}s(hr,"resetBuffer");dn.prototype.getBuffer=s(function(){return tf(this.buffered,this.bufferedIndex)},"getBuffer");rf(dn.prototype,"bufferedRequestCount",{__proto__:null,get:s(function(){return this.buffered.length-this.bufferedIndex},"get")});function z(e){let t=this instanceof tt();if(!t&&!nf(z,this))return new z(e);this._writableState=new dn(e,this,t),e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&bb(e.signal,this)),fn.call(this,e),pr.construct(this,()=>{let i=this._writableState;i.writing||eo(this,i),to(this,i)})}s(z,"Writable");rf(z,yb,{__proto__:null,value:s(function(e){return nf(this,e)?!0:this!==z?!1:e&&e._writableState instanceof dn},"value")});z.prototype.pipe=function(){_i(this,new _b)};function cf(e,t,i,n){let r=e._writableState;if(typeof i=="function")n=i,i=r.defaultEncoding;else{if(!i)i=r.defaultEncoding;else if(i!=="buffer"&&!ur.isEncoding(i))throw new af(i);typeof n!="function"&&(n=Qs)}if(t===null)throw new kb;if(!r.objectMode)if(typeof t=="string")r.decodeStrings!==!1&&(t=ur.from(t,i),i="buffer");else if(t instanceof ur)i="buffer";else if(fn._isUint8Array(t))t=fn._uint8ArrayToBuffer(t),i="buffer";else throw new Sb("chunk",["string","Buffer","Uint8Array"],t);let o;return r.ending?o=new vb:r.destroyed&&(o=new un("write")),o?(Gt.nextTick(n,o),_i(e,o,!0),o):(r.pendingcb++,Fb(e,r,t,i,n))}s(cf,"_write");z.prototype.write=function(e,t,i){return cf(this,e,t,i)===!0};z.prototype.cork=function(){this._writableState.corked++};z.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||eo(this,e))};z.prototype.setDefaultEncoding=s(function(t){if(typeof t=="string"&&(t=hb(t)),!ur.isEncoding(t))throw new af(t);return this._writableState.defaultEncoding=t,this},"setDefaultEncoding");function Fb(e,t,i,n,r){let o=t.objectMode?1:i.length;t.length+=o;let a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:i,encoding:n,callback:r}),t.allBuffers&&n!=="buffer"&&(t.allBuffers=!1),t.allNoop&&r!==Qs&&(t.allNoop=!1)):(t.writelen=o,t.writecb=r,t.writing=!0,t.sync=!0,e._write(i,n,t.onwrite),t.sync=!1),a&&!t.errored&&!t.destroyed}s(Fb,"writeOrBuffer");function Zl(e,t,i,n,r,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new un("write")):i?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}s(Zl,"doWrite");function ef(e,t,i,n){--t.pendingcb,n(i),Zs(t),_i(e,i)}s(ef,"onwriteError");function Ib(e,t){let i=e._writableState,n=i.sync,r=i.writecb;if(typeof r!="function"){_i(e,new of);return}i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0,t?(t.stack,i.errored||(i.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?Gt.nextTick(ef,e,i,t,r):ef(e,i,t,r)):(i.buffered.length>i.bufferedIndex&&eo(e,i),n?i.afterWriteTickInfo!==null&&i.afterWriteTickInfo.cb===r?i.afterWriteTickInfo.count++:(i.afterWriteTickInfo={count:1,cb:r,stream:e,state:i},Gt.nextTick(Ab,i.afterWriteTickInfo)):lf(e,i,1,r))}s(Ib,"onwrite");function Ab({stream:e,state:t,count:i,cb:n}){return t.afterWriteTickInfo=null,lf(e,t,i,n)}s(Ab,"afterWriteTick");function lf(e,t,i,n){for(!t.ending&&!e.destroyed&&t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));i-- >0;)t.pendingcb--,n();t.destroyed&&Zs(t),to(e,t)}s(lf,"afterWrite");function Zs(e){if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){var t;let{chunk:o,callback:a}=e.buffered[r],c=e.objectMode?1:o.length;e.length-=c,a((t=e.errored)!==null&&t!==void 0?t:new un("write"))}let i=e[xi].splice(0);for(let r=0;r<i.length;r++){var n;i[r]((n=e.errored)!==null&&n!==void 0?n:new un("end"))}hr(e)}s(Zs,"errorBuffer");function eo(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:i,bufferedIndex:n,objectMode:r}=t,o=i.length-n;if(!o)return;let a=n;if(t.bufferProcessing=!0,o>1&&e._writev){t.pendingcb-=o-1;let c=t.allNoop?Qs:f=>{for(let d=a;d<i.length;++d)i[d].callback(f)},l=t.allNoop&&a===0?i:tf(i,a);l.allBuffers=t.allBuffers,Zl(e,t,!0,t.length,l,"",c),hr(t)}else{do{let{chunk:c,encoding:l,callback:f}=i[a];i[a++]=null;let d=r?1:c.length;Zl(e,t,!1,d,c,l,f)}while(a<i.length&&!t.writing);a===i.length?hr(t):a>256?(i.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}s(eo,"clearBuffer");z.prototype._write=function(e,t,i){if(this._writev)this._writev([{chunk:e,encoding:t}],i);else throw new Eb("_write()")};z.prototype._writev=null;z.prototype.end=function(e,t,i){let n=this._writableState;typeof e=="function"?(i=e,e=null,t=null):typeof t=="function"&&(i=t,t=null);let r;if(e!=null){let o=cf(this,e,t);o instanceof ub&&(r=o)}return n.corked&&(n.corked=1,this.uncork()),r||(!n.errored&&!n.ending?(n.ending=!0,to(this,n,!0),n.ended=!0):n.finished?r=new xb("end"):n.destroyed&&(r=new un("end"))),typeof i=="function"&&(r||n.finished?Gt.nextTick(i,r):n[xi].push(i)),this};function dr(e){return e.ending&&!e.destroyed&&e.constructed&&e.length===0&&!e.errored&&e.buffered.length===0&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}s(dr,"needFinish");function Ob(e,t){let i=!1;function n(r){if(i){_i(e,r??of());return}if(i=!0,t.pendingcb--,r){let o=t[xi].splice(0);for(let a=0;a<o.length;a++)o[a](r);_i(e,r,t.sync)}else dr(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,Gt.nextTick(Js,e,t))}s(n,"onFinish"),t.sync=!0,t.pendingcb++;try{e._final(n)}catch(r){n(r)}t.sync=!1}s(Ob,"callFinal");function Pb(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.finalCalled=!0,Ob(e,t)):(t.prefinished=!0,e.emit("prefinish")))}s(Pb,"prefinish");function to(e,t,i){dr(t)&&(Pb(e,t),t.pendingcb===0&&(i?(t.pendingcb++,Gt.nextTick((n,r)=>{dr(r)?Js(n,r):r.pendingcb--},e,t)):dr(t)&&(t.pendingcb++,Js(e,t))))}s(to,"finishMaybe");function Js(e,t){t.pendingcb--,t.finished=!0;let i=t[xi].splice(0);for(let n=0;n<i.length;n++)i[n]();if(e.emit("finish"),t.autoDestroy){let n=e._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&e.destroy()}}s(Js,"finish");db(z.prototype,{closed:{__proto__:null,get:s(function(){return this._writableState?this._writableState.closed:!1},"get")},destroyed:{__proto__:null,get:s(function(){return this._writableState?this._writableState.destroyed:!1},"get"),set:s(function(e){this._writableState&&(this._writableState.destroyed=e)},"set")},writable:{__proto__:null,get:s(function(){let e=this._writableState;return!!e&&e.writable!==!1&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},"get"),set:s(function(e){this._writableState&&(this._writableState.writable=!!e)},"set")},writableFinished:{__proto__:null,get:s(function(){return this._writableState?this._writableState.finished:!1},"get")},writableObjectMode:{__proto__:null,get:s(function(){return this._writableState?this._writableState.objectMode:!1},"get")},writableBuffer:{__proto__:null,get:s(function(){return this._writableState&&this._writableState.getBuffer()},"get")},writableEnded:{__proto__:null,get:s(function(){return this._writableState?this._writableState.ending:!1},"get")},writableNeedDrain:{__proto__:null,get:s(function(){let e=this._writableState;return e?!e.destroyed&&!e.ending&&e.needDrain:!1},"get")},writableHighWaterMark:{__proto__:null,get:s(function(){return this._writableState&&this._writableState.highWaterMark},"get")},writableCorked:{__proto__:null,get:s(function(){return this._writableState?this._writableState.corked:0},"get")},writableLength:{__proto__:null,get:s(function(){return this._writableState&&this._writableState.length},"get")},errored:{__proto__:null,enumerable:!1,get:s(function(){return this._writableState?this._writableState.errored:null},"get")},writableAborted:{__proto__:null,enumerable:!1,get:s(function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)},"get")}});var Tb=pr.destroy;z.prototype.destroy=function(e,t){let i=this._writableState;return!i.destroyed&&(i.bufferedIndex<i.buffered.length||i[xi].length)&&Gt.nextTick(Zs,i),Tb.call(this,e,t),this};z.prototype._undestroy=pr.undestroy;z.prototype._destroy=function(e,t){t(e)};z.prototype[mb.captureRejectionSymbol]=function(e){this.destroy(e)};var Xs;function ff(){return Xs===void 0&&(Xs={}),Xs}s(ff,"lazyWebStreams");z.fromWeb=function(e,t){return ff().newStreamWritableFromWritableStream(e,t)};z.toWeb=function(e){return ff().newWritableStreamFromStreamWritable(e)}});var Ff=R((XE,vf)=>{var io=Ft(),Rb=ve(),{isReadable:Nb,isWritable:Lb,isIterable:df,isNodeStream:Cb,isReadableNodeStream:hf,isWritableNodeStream:pf,isDuplexNodeStream:Bb,isReadableStream:yf,isWritableStream:mf}=Qe(),bf=ht(),{AbortError:xf,codes:{ERR_INVALID_ARG_TYPE:Db,ERR_INVALID_RETURN_VALUE:gf}}=ce(),{destroyer:vi}=Vt(),Mb=tt(),kf=ln(),Wb=yr(),{createDeferredPromise:wf}=se(),Sf=js(),Ef=globalThis.Blob||Rb.Blob,Ub=s(typeof Ef<"u"?function(t){return t instanceof Ef}:function(t){return!1},"isBlob"),jb=globalThis.AbortController||hi().AbortController,{FunctionPrototypeCall:_f}=$(),Ot=class extends Mb{static{s(this,"Duplexify")}constructor(t){super(t),t?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};vf.exports=s(function e(t,i){if(Bb(t))return t;if(hf(t))return ki({readable:t});if(pf(t))return ki({writable:t});if(Cb(t))return ki({writable:!1,readable:!1});if(yf(t))return ki({readable:kf.fromWeb(t)});if(mf(t))return ki({writable:Wb.fromWeb(t)});if(typeof t=="function"){let{value:r,write:o,final:a,destroy:c}=qb(t);if(df(r))return Sf(Ot,r,{objectMode:!0,write:o,final:a,destroy:c});let l=r?.then;if(typeof l=="function"){let f,d=_f(l,r,h=>{if(h!=null)throw new gf("nully","body",h)},h=>{vi(f,h)});return f=new Ot({objectMode:!0,readable:!1,write:o,final:s(function(h){a(async()=>{try{await d,io.nextTick(h,null)}catch(b){io.nextTick(h,b)}})},"final"),destroy:c})}throw new gf("Iterable, AsyncIterable or AsyncFunction",i,r)}if(Ub(t))return e(t.arrayBuffer());if(df(t))return Sf(Ot,t,{objectMode:!0,writable:!1});if(yf(t?.readable)&&mf(t?.writable))return Ot.fromWeb(t);if(typeof t?.writable=="object"||typeof t?.readable=="object"){let r=t!=null&&t.readable?hf(t?.readable)?t?.readable:e(t.readable):void 0,o=t!=null&&t.writable?pf(t?.writable)?t?.writable:e(t.writable):void 0;return ki({readable:r,writable:o})}let n=t?.then;if(typeof n=="function"){let r;return _f(n,t,o=>{o!=null&&r.push(o),r.push(null)},o=>{vi(r,o)}),r=new Ot({objectMode:!0,writable:!1,read:s(function(){},"read")})}throw new Db(i,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)},"duplexify");function qb(e){let{promise:t,resolve:i}=wf(),n=new jb,r=n.signal;return{value:e(async function*(){for(;;){let a=t;t=null;let{chunk:c,done:l,cb:f}=await a;if(io.nextTick(f),l)return;if(r.aborted)throw new xf(void 0,{cause:r.reason});({promise:t,resolve:i}=wf()),yield c}}(),{signal:r}),write:s(function(a,c,l){let f=i;i=null,f({chunk:a,done:!1,cb:l})},"write"),final:s(function(a){let c=i;i=null,c({done:!0,cb:a})},"final"),destroy:s(function(a,c){n.abort(),c(a)},"destroy")}}s(qb,"fromAsyncGen");function ki(e){let t=e.readable&&typeof e.readable.read!="function"?kf.wrap(e.readable):e.readable,i=e.writable,n=!!Nb(t),r=!!Lb(i),o,a,c,l,f;function d(h){let b=l;l=null,b?b(h):h&&f.destroy(h)}return s(d,"onfinished"),f=new Ot({readableObjectMode:!!(t!=null&&t.readableObjectMode),writableObjectMode:!!(i!=null&&i.writableObjectMode),readable:n,writable:r}),r&&(bf(i,h=>{r=!1,h&&vi(t,h),d(h)}),f._write=function(h,b,y){i.write(h,b)?y():o=y},f._final=function(h){i.end(),a=h},i.on("drain",function(){if(o){let h=o;o=null,h()}}),i.on("finish",function(){if(a){let h=a;a=null,h()}})),n&&(bf(t,h=>{n=!1,h&&vi(t,h),d(h)}),t.on("readable",function(){if(c){let h=c;c=null,h()}}),t.on("end",function(){f.push(null)}),f._read=function(){for(;;){let h=t.read();if(h===null){c=f._read;return}if(!f.push(h))return}}),f._destroy=function(h,b){!h&&l!==null&&(h=new xf),c=null,o=null,a=null,l===null?b(h):(l=b,vi(i,h),vi(t,h))},f}s(ki,"_duplexify")});var tt=R((QE,Of)=>{"use strict";var{ObjectDefineProperties:$b,ObjectGetOwnPropertyDescriptor:pt,ObjectKeys:zb,ObjectSetPrototypeOf:If}=$();Of.exports=Be;var so=ln(),Te=yr();If(Be.prototype,so.prototype);If(Be,so);{let e=zb(Te.prototype);for(let t=0;t<e.length;t++){let i=e[t];Be.prototype[i]||(Be.prototype[i]=Te.prototype[i])}}function Be(e){if(!(this instanceof Be))return new Be(e);so.call(this,e),Te.call(this,e),e?(this.allowHalfOpen=e.allowHalfOpen!==!1,e.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}s(Be,"Duplex");$b(Be.prototype,{writable:{__proto__:null,...pt(Te.prototype,"writable")},writableHighWaterMark:{__proto__:null,...pt(Te.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...pt(Te.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...pt(Te.prototype,"writableBuffer")},writableLength:{__proto__:null,...pt(Te.prototype,"writableLength")},writableFinished:{__proto__:null,...pt(Te.prototype,"writableFinished")},writableCorked:{__proto__:null,...pt(Te.prototype,"writableCorked")},writableEnded:{__proto__:null,...pt(Te.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...pt(Te.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get:s(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:s(function(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)},"set")}});var no;function Af(){return no===void 0&&(no={}),no}s(Af,"lazyWebStreams");Be.fromWeb=function(e,t){return Af().newStreamDuplexFromReadableWritablePair(e,t)};Be.toWeb=function(e){return Af().newReadableWritablePairFromDuplex(e)};var ro;Be.from=function(e){return ro||(ro=Ff()),ro(e,"body")}});var co=R((e_,Tf)=>{"use strict";var{ObjectSetPrototypeOf:Pf,Symbol:Vb}=$();Tf.exports=yt;var{ERR_METHOD_NOT_IMPLEMENTED:Hb}=ce().codes,ao=tt(),{getHighWaterMark:Kb}=on();Pf(yt.prototype,ao.prototype);Pf(yt,ao);var hn=Vb("kCallback");function yt(e){if(!(this instanceof yt))return new yt(e);let t=e?Kb(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),ao.call(this,e),this._readableState.sync=!1,this[hn]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Gb)}s(yt,"Transform");function oo(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,i)=>{if(t){e?e(t):this.destroy(t);return}i!=null&&this.push(i),this.push(null),e&&e()}):(this.push(null),e&&e())}s(oo,"final");function Gb(){this._final!==oo&&oo.call(this)}s(Gb,"prefinish");yt.prototype._final=oo;yt.prototype._transform=function(e,t,i){throw new Hb("_transform()")};yt.prototype._write=function(e,t,i){let n=this._readableState,r=this._writableState,o=n.length;this._transform(e,t,(a,c)=>{if(a){i(a);return}c!=null&&this.push(c),r.ended||o===n.length||n.length<n.highWaterMark?i():this[hn]=i})};yt.prototype._read=function(){if(this[hn]){let e=this[hn];this[hn]=null,e()}}});var fo=R((i_,Nf)=>{"use strict";var{ObjectSetPrototypeOf:Rf}=$();Nf.exports=Fi;var lo=co();Rf(Fi.prototype,lo.prototype);Rf(Fi,lo);function Fi(e){if(!(this instanceof Fi))return new Fi(e);lo.call(this,e)}s(Fi,"PassThrough");Fi.prototype._transform=function(e,t,i){i(null,e)}});var wr=R((r_,Mf)=>{var pn=Ft(),{ArrayIsArray:Yb,Promise:Xb,SymbolAsyncIterator:Jb,SymbolDispose:Qb}=$(),gr=ht(),{once:Zb}=se(),eg=Vt(),Lf=tt(),{aggregateTwoErrors:tg,codes:{ERR_INVALID_ARG_TYPE:So,ERR_INVALID_RETURN_VALUE:uo,ERR_MISSING_ARGS:ig,ERR_STREAM_DESTROYED:ng,ERR_STREAM_PREMATURE_CLOSE:rg},AbortError:sg}=ce(),{validateFunction:og,validateAbortSignal:ag}=mi(),{isIterable:Yt,isReadable:ho,isReadableNodeStream:br,isNodeStream:Cf,isTransformStream:Ii,isWebStream:cg,isReadableStream:po,isReadableFinished:lg}=Qe(),fg=globalThis.AbortController||hi().AbortController,yo,mo,bo;function Bf(e,t,i){let n=!1;e.on("close",()=>{n=!0});let r=gr(e,{readable:t,writable:i},o=>{n=!o});return{destroy:s(o=>{n||(n=!0,eg.destroyer(e,o||new ng("pipe")))},"destroy"),cleanup:r}}s(Bf,"destroyer");function ug(e){return og(e[e.length-1],"streams[stream.length - 1]"),e.pop()}s(ug,"popCallback");function go(e){if(Yt(e))return e;if(br(e))return dg(e);throw new So("val",["Readable","Iterable","AsyncIterable"],e)}s(go,"makeAsyncIterable");async function*dg(e){mo||(mo=ln()),yield*mo.prototype[Jb].call(e)}s(dg,"fromReadable");async function mr(e,t,i,{end:n}){let r,o=null,a=s(f=>{if(f&&(r=f),o){let d=o;o=null,d()}},"resume"),c=s(()=>new Xb((f,d)=>{r?d(r):o=s(()=>{r?d(r):f()},"onresolve")}),"wait");t.on("drain",a);let l=gr(t,{readable:!1},a);try{t.writableNeedDrain&&await c();for await(let f of e)t.write(f)||await c();n&&(t.end(),await c()),i()}catch(f){i(r!==f?tg(r,f):f)}finally{l(),t.off("drain",a)}}s(mr,"pumpToNode");async function wo(e,t,i,{end:n}){Ii(t)&&(t=t.writable);let r=t.getWriter();try{for await(let o of e)await r.ready,r.write(o).catch(()=>{});await r.ready,n&&await r.close(),i()}catch(o){try{await r.abort(o),i(o)}catch(a){i(a)}}}s(wo,"pumpToWeb");function hg(...e){return Df(e,Zb(ug(e)))}s(hg,"pipeline");function Df(e,t,i){if(e.length===1&&Yb(e[0])&&(e=e[0]),e.length<2)throw new ig("streams");let n=new fg,r=n.signal,o=i?.signal,a=[];ag(o,"options.signal");function c(){S(new sg)}s(c,"abort"),bo=bo||se().addAbortListener;let l;o&&(l=bo(o,c));let f,d,h=[],b=0;function y(C){S(C,--b===0)}s(y,"finish");function S(C,T){var G;if(C&&(!f||f.code==="ERR_STREAM_PREMATURE_CLOSE")&&(f=C),!(!f&&!T)){for(;h.length;)h.shift()(f);(G=l)===null||G===void 0||G[Qb](),n.abort(),T&&(f||a.forEach(Rt=>Rt()),pn.nextTick(t,f,d))}}s(S,"finishImpl");let g;for(let C=0;C<e.length;C++){let T=e[C],G=C<e.length-1,Rt=C>0,Se=G||i?.end!==!1,ei=C===e.length-1;if(Cf(T)){let fe=function(rt){rt&&rt.name!=="AbortError"&&rt.code!=="ERR_STREAM_PREMATURE_CLOSE"&&y(rt)};var O=fe;if(s(fe,"onError"),Se){let{destroy:rt,cleanup:Wr}=Bf(T,G,Rt);h.push(rt),ho(T)&&ei&&a.push(Wr)}T.on("error",fe),ho(T)&&ei&&a.push(()=>{T.removeListener("error",fe)})}if(C===0)if(typeof T=="function"){if(g=T({signal:r}),!Yt(g))throw new uo("Iterable, AsyncIterable or Stream","source",g)}else Yt(T)||br(T)||Ii(T)?g=T:g=Lf.from(T);else if(typeof T=="function"){if(Ii(g)){var A;g=go((A=g)===null||A===void 0?void 0:A.readable)}else g=go(g);if(g=T(g,{signal:r}),G){if(!Yt(g,!0))throw new uo("AsyncIterable",`transform[${C-1}]`,g)}else{var k;yo||(yo=fo());let fe=new yo({objectMode:!0}),rt=(k=g)===null||k===void 0?void 0:k.then;if(typeof rt=="function")b++,rt.call(g,bt=>{d=bt,bt!=null&&fe.write(bt),Se&&fe.end(),pn.nextTick(y)},bt=>{fe.destroy(bt),pn.nextTick(y,bt)});else if(Yt(g,!0))b++,mr(g,fe,y,{end:Se});else if(po(g)||Ii(g)){let bt=g.readable||g;b++,mr(bt,fe,y,{end:Se})}else throw new uo("AsyncIterable or Promise","destination",g);g=fe;let{destroy:Wr,cleanup:bd}=Bf(g,!1,!0);h.push(Wr),ei&&a.push(bd)}}else if(Cf(T)){if(br(g)){b+=2;let fe=pg(g,T,y,{end:Se});ho(T)&&ei&&a.push(fe)}else if(Ii(g)||po(g)){let fe=g.readable||g;b++,mr(fe,T,y,{end:Se})}else if(Yt(g))b++,mr(g,T,y,{end:Se});else throw new So("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],g);g=T}else if(cg(T)){if(br(g))b++,wo(go(g),T,y,{end:Se});else if(po(g)||Yt(g))b++,wo(g,T,y,{end:Se});else if(Ii(g))b++,wo(g.readable,T,y,{end:Se});else throw new So("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],g);g=T}else g=Lf.from(T)}return(r!=null&&r.aborted||o!=null&&o.aborted)&&pn.nextTick(c),g}s(Df,"pipelineImpl");function pg(e,t,i,{end:n}){let r=!1;if(t.on("close",()=>{r||i(new rg)}),e.pipe(t,{end:!1}),n){let a=function(){r=!0,t.end()};var o=a;s(a,"endFn"),lg(e)?pn.nextTick(a):e.once("end",a)}else i();return gr(e,{readable:!0,writable:!1},a=>{let c=e._readableState;a&&a.code==="ERR_STREAM_PREMATURE_CLOSE"&&c&&c.ended&&!c.errored&&!c.errorEmitted?e.once("end",i).once("error",i):i(a)}),gr(t,{readable:!1,writable:!0},i)}s(pg,"pipe");Mf.exports={pipelineImpl:Df,pipeline:hg}});var _o=R((o_,zf)=>{"use strict";var{pipeline:yg}=wr(),Sr=tt(),{destroyer:mg}=Vt(),{isNodeStream:Er,isReadable:Wf,isWritable:Uf,isWebStream:Eo,isTransformStream:Xt,isWritableStream:jf,isReadableStream:qf}=Qe(),{AbortError:bg,codes:{ERR_INVALID_ARG_VALUE:$f,ERR_MISSING_ARGS:gg}}=ce(),wg=ht();zf.exports=s(function(...t){if(t.length===0)throw new gg("streams");if(t.length===1)return Sr.from(t[0]);let i=[...t];if(typeof t[0]=="function"&&(t[0]=Sr.from(t[0])),typeof t[t.length-1]=="function"){let y=t.length-1;t[y]=Sr.from(t[y])}for(let y=0;y<t.length;++y)if(!(!Er(t[y])&&!Eo(t[y]))){if(y<t.length-1&&!(Wf(t[y])||qf(t[y])||Xt(t[y])))throw new $f(`streams[${y}]`,i[y],"must be readable");if(y>0&&!(Uf(t[y])||jf(t[y])||Xt(t[y])))throw new $f(`streams[${y}]`,i[y],"must be writable")}let n,r,o,a,c;function l(y){let S=a;a=null,S?S(y):y?c.destroy(y):!b&&!h&&c.destroy()}s(l,"onfinished");let f=t[0],d=yg(t,l),h=!!(Uf(f)||jf(f)||Xt(f)),b=!!(Wf(d)||qf(d)||Xt(d));if(c=new Sr({writableObjectMode:!!(f!=null&&f.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:h,readable:b}),h){if(Er(f))c._write=function(S,g,A){f.write(S,g)?A():n=A},c._final=function(S){f.end(),r=S},f.on("drain",function(){if(n){let S=n;n=null,S()}});else if(Eo(f)){let g=(Xt(f)?f.writable:f).getWriter();c._write=async function(A,k,O){try{await g.ready,g.write(A).catch(()=>{}),O()}catch(C){O(C)}},c._final=async function(A){try{await g.ready,g.close().catch(()=>{}),r=A}catch(k){A(k)}}}let y=Xt(d)?d.readable:d;wg(y,()=>{if(r){let S=r;r=null,S()}})}if(b){if(Er(d))d.on("readable",function(){if(o){let y=o;o=null,y()}}),d.on("end",function(){c.push(null)}),c._read=function(){for(;;){let y=d.read();if(y===null){o=c._read;return}if(!c.push(y))return}};else if(Eo(d)){let S=(Xt(d)?d.readable:d).getReader();c._read=async function(){for(;;)try{let{value:g,done:A}=await S.read();if(!c.push(g))return;if(A){c.push(null);return}}catch{return}}}}return c._destroy=function(y,S){!y&&a!==null&&(y=new bg),o=null,n=null,r=null,a===null?S(y):(a=S,Er(d)&&mg(d,y))},c},"compose")});var eu=R((c_,vo)=>{"use strict";var Sg=globalThis.AbortController||hi().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Eg,ERR_INVALID_ARG_TYPE:yn,ERR_MISSING_ARGS:_g,ERR_OUT_OF_RANGE:xg},AbortError:it}=ce(),{validateAbortSignal:Jt,validateInteger:Vf,validateObject:Qt}=mi(),kg=$().Symbol("kWeak"),vg=$().Symbol("kResistStopPropagation"),{finished:Fg}=ht(),Ig=_o(),{addAbortSignalNoValidate:Ag}=sn(),{isWritable:Og,isNodeStream:Pg}=Qe(),{deprecate:Tg}=se(),{ArrayPrototypePush:Rg,Boolean:Ng,MathFloor:Hf,Number:Lg,NumberIsNaN:Cg,Promise:Kf,PromiseReject:Gf,PromiseResolve:Bg,PromisePrototypeThen:Yf,Symbol:Jf}=$(),_r=Jf("kEmpty"),Xf=Jf("kEof");function Dg(e,t){if(t!=null&&Qt(t,"options"),t?.signal!=null&&Jt(t.signal,"options.signal"),Pg(e)&&!Og(e))throw new Eg("stream",e,"must be writable");let i=Ig(this,e);return t!=null&&t.signal&&Ag(t.signal,i),i}s(Dg,"compose");function xr(e,t){if(typeof e!="function")throw new yn("fn",["Function","AsyncFunction"],e);t!=null&&Qt(t,"options"),t?.signal!=null&&Jt(t.signal,"options.signal");let i=1;t?.concurrency!=null&&(i=Hf(t.concurrency));let n=i-1;return t?.highWaterMark!=null&&(n=Hf(t.highWaterMark)),Vf(i,"options.concurrency",1),Vf(n,"options.highWaterMark",0),n+=i,s(async function*(){let o=se().AbortSignalAny([t?.signal].filter(Ng)),a=this,c=[],l={signal:o},f,d,h=!1,b=0;function y(){h=!0,S()}s(y,"onCatch");function S(){b-=1,g()}s(S,"afterItemProcessed");function g(){d&&!h&&b<i&&c.length<n&&(d(),d=null)}s(g,"maybeResume");async function A(){try{for await(let k of a){if(h)return;if(o.aborted)throw new it;try{if(k=e(k,l),k===_r)continue;k=Bg(k)}catch(O){k=Gf(O)}b+=1,Yf(k,S,y),c.push(k),f&&(f(),f=null),!h&&(c.length>=n||b>=i)&&await new Kf(O=>{d=O})}c.push(Xf)}catch(k){let O=Gf(k);Yf(O,S,y),c.push(O)}finally{h=!0,f&&(f(),f=null)}}s(A,"pump"),A();try{for(;;){for(;c.length>0;){let k=await c[0];if(k===Xf)return;if(o.aborted)throw new it;k!==_r&&(yield k),c.shift(),g()}await new Kf(k=>{f=k})}}finally{h=!0,d&&(d(),d=null)}},"map").call(this)}s(xr,"map");function Mg(e=void 0){return e!=null&&Qt(e,"options"),e?.signal!=null&&Jt(e.signal,"options.signal"),s(async function*(){let i=0;for await(let r of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new it({cause:e.signal.reason});yield[i++,r]}},"asIndexedPairs").call(this)}s(Mg,"asIndexedPairs");async function Qf(e,t=void 0){for await(let i of ko.call(this,e,t))return!0;return!1}s(Qf,"some");async function Wg(e,t=void 0){if(typeof e!="function")throw new yn("fn",["Function","AsyncFunction"],e);return!await Qf.call(this,async(...i)=>!await e(...i),t)}s(Wg,"every");async function Ug(e,t){for await(let i of ko.call(this,e,t))return i}s(Ug,"find");async function jg(e,t){if(typeof e!="function")throw new yn("fn",["Function","AsyncFunction"],e);async function i(n,r){return await e(n,r),_r}s(i,"forEachFn");for await(let n of xr.call(this,i,t));}s(jg,"forEach");function ko(e,t){if(typeof e!="function")throw new yn("fn",["Function","AsyncFunction"],e);async function i(n,r){return await e(n,r)?n:_r}return s(i,"filterFn"),xr.call(this,i,t)}s(ko,"filter");var xo=class extends _g{static{s(this,"ReduceAwareErrMissingArgs")}constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function qg(e,t,i){var n;if(typeof e!="function")throw new yn("reducer",["Function","AsyncFunction"],e);i!=null&&Qt(i,"options"),i?.signal!=null&&Jt(i.signal,"options.signal");let r=arguments.length>1;if(i!=null&&(n=i.signal)!==null&&n!==void 0&&n.aborted){let f=new it(void 0,{cause:i.signal.reason});throw this.once("error",()=>{}),await Fg(this.destroy(f)),f}let o=new Sg,a=o.signal;if(i!=null&&i.signal){let f={once:!0,[kg]:this,[vg]:!0};i.signal.addEventListener("abort",()=>o.abort(),f)}let c=!1;try{for await(let f of this){var l;if(c=!0,i!=null&&(l=i.signal)!==null&&l!==void 0&&l.aborted)throw new it;r?t=await e(t,f,{signal:a}):(t=f,r=!0)}if(!c&&!r)throw new xo}finally{o.abort()}return t}s(qg,"reduce");async function $g(e){e!=null&&Qt(e,"options"),e?.signal!=null&&Jt(e.signal,"options.signal");let t=[];for await(let n of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new it(void 0,{cause:e.signal.reason});Rg(t,n)}return t}s($g,"toArray");function zg(e,t){let i=xr.call(this,e,t);return s(async function*(){for await(let r of i)yield*r},"flatMap").call(this)}s(zg,"flatMap");function Zf(e){if(e=Lg(e),Cg(e))return 0;if(e<0)throw new xg("number",">= 0",e);return e}s(Zf,"toIntegerOrInfinity");function Vg(e,t=void 0){return t!=null&&Qt(t,"options"),t?.signal!=null&&Jt(t.signal,"options.signal"),e=Zf(e),s(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new it;for await(let o of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new it;e--<=0&&(yield o)}},"drop").call(this)}s(Vg,"drop");function Hg(e,t=void 0){return t!=null&&Qt(t,"options"),t?.signal!=null&&Jt(t.signal,"options.signal"),e=Zf(e),s(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new it;for await(let o of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new it;if(e-- >0&&(yield o),e<=0)return}},"take").call(this)}s(Hg,"take");vo.exports.streamReturningOperators={asIndexedPairs:Tg(Mg,"readable.asIndexedPairs will be removed in a future version."),drop:Vg,filter:ko,flatMap:zg,map:xr,take:Hg,compose:Dg};vo.exports.promiseReturningOperators={every:Wg,forEach:jg,reduce:qg,toArray:$g,some:Qf,find:Ug}});var Fo=R((f_,tu)=>{"use strict";var{ArrayPrototypePop:Kg,Promise:Gg}=$(),{isIterable:Yg,isNodeStream:Xg,isWebStream:Jg}=Qe(),{pipelineImpl:Qg}=wr(),{finished:Zg}=ht();Io();function ew(...e){return new Gg((t,i)=>{let n,r,o=e[e.length-1];if(o&&typeof o=="object"&&!Xg(o)&&!Yg(o)&&!Jg(o)){let a=Kg(e);n=a.signal,r=a.end}Qg(e,(a,c)=>{a?i(a):t(c)},{signal:n,end:r})})}s(ew,"pipeline");tu.exports={finished:Zg,pipeline:ew}});var Io=R((d_,fu)=>{var{Buffer:tw}=ve(),{ObjectDefineProperty:mt,ObjectKeys:ru,ReflectApply:su}=$(),{promisify:{custom:ou}}=se(),{streamReturningOperators:iu,promiseReturningOperators:nu}=eu(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:au}}=ce(),iw=_o(),{setDefaultHighWaterMark:nw,getDefaultHighWaterMark:rw}=on(),{pipeline:cu}=wr(),{destroyer:sw}=Vt(),lu=ht(),Ao=Fo(),mn=Qe(),B=fu.exports=ir().Stream;B.isDestroyed=mn.isDestroyed;B.isDisturbed=mn.isDisturbed;B.isErrored=mn.isErrored;B.isReadable=mn.isReadable;B.isWritable=mn.isWritable;B.Readable=ln();for(let e of ru(iu)){let i=function(...n){if(new.target)throw au();return B.Readable.from(su(t,this,n))};Oo=i,s(i,"fn");let t=iu[e];mt(i,"name",{__proto__:null,value:t.name}),mt(i,"length",{__proto__:null,value:t.length}),mt(B.Readable.prototype,e,{__proto__:null,value:i,enumerable:!1,configurable:!0,writable:!0})}var Oo;for(let e of ru(nu)){let i=function(...r){if(new.target)throw au();return su(t,this,r)};Oo=i,s(i,"fn");let t=nu[e];mt(i,"name",{__proto__:null,value:t.name}),mt(i,"length",{__proto__:null,value:t.length}),mt(B.Readable.prototype,e,{__proto__:null,value:i,enumerable:!1,configurable:!0,writable:!0})}var Oo;B.Writable=yr();B.Duplex=tt();B.Transform=co();B.PassThrough=fo();B.pipeline=cu;var{addAbortSignal:ow}=sn();B.addAbortSignal=ow;B.finished=lu;B.destroy=sw;B.compose=iw;B.setDefaultHighWaterMark=nw;B.getDefaultHighWaterMark=rw;mt(B,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:s(function(){return Ao},"get")});mt(cu,ou,{__proto__:null,enumerable:!0,get:s(function(){return Ao.pipeline},"get")});mt(lu,ou,{__proto__:null,enumerable:!0,get:s(function(){return Ao.finished},"get")});B.Stream=B;B._isUint8Array=s(function(t){return t instanceof Uint8Array},"isUint8Array");B._uint8ArrayToBuffer=s(function(t){return tw.from(t.buffer,t.byteOffset,t.byteLength)},"_uint8ArrayToBuffer")});var uu=R((p_,K)=>{"use strict";var ee=Io(),aw=Fo(),cw=ee.Readable.destroy;K.exports=ee.Readable;K.exports._uint8ArrayToBuffer=ee._uint8ArrayToBuffer;K.exports._isUint8Array=ee._isUint8Array;K.exports.isDisturbed=ee.isDisturbed;K.exports.isErrored=ee.isErrored;K.exports.isReadable=ee.isReadable;K.exports.Readable=ee.Readable;K.exports.Writable=ee.Writable;K.exports.Duplex=ee.Duplex;K.exports.Transform=ee.Transform;K.exports.PassThrough=ee.PassThrough;K.exports.addAbortSignal=ee.addAbortSignal;K.exports.finished=ee.finished;K.exports.destroy=ee.destroy;K.exports.destroy=cw;K.exports.pipeline=ee.pipeline;K.exports.compose=ee.compose;Object.defineProperty(ee,"promises",{configurable:!0,enumerable:!0,get:s(function(){return aw},"get")});K.exports.Stream=ee.Stream;K.exports.default=K.exports});var Iw={};Fn(Iw,{Async:()=>Vo,AsyncTransaction:()=>rs,BigIntStats:()=>me,BigIntStatsFs:()=>$i,Dir:()=>vt,Dirent:()=>kt,Errno:()=>U,ErrnoError:()=>u,Fetch:()=>_w,FetchFS:()=>Br,File:()=>Bt,FileSystem:()=>ye,InMemory:()=>Xi,InMemoryStore:()=>Nn,Index:()=>Cr,IndexFS:()=>kn,Inode:()=>Ve,MutexLock:()=>Dr,Mutexed:()=>Zo,NoSyncFile:()=>ci,Overlay:()=>kw,OverlayFS:()=>vn,Port:()=>yw,PortFS:()=>Lr,PortFile:()=>_n,PreloadFile:()=>ge,ReadStream:()=>Pt,Readonly:()=>Jo,SimpleAsyncStore:()=>ss,SimpleTransaction:()=>li,Stats:()=>X,StatsCommon:()=>ji,StatsFs:()=>qi,StoreFS:()=>Ki,Sync:()=>vw,SyncTransaction:()=>Yi,Transaction:()=>Gi,UnmutexedOverlayFS:()=>Mr,WriteStream:()=>Tt,ZenFsType:()=>ns,_InMemory:()=>Oa,_Port:()=>ud,_toUnixTimestamp:()=>Id,access:()=>Vu,accessSync:()=>Xa,appendFile:()=>Eu,appendFileSync:()=>Ba,attachFS:()=>fd,checkOptions:()=>qr,chmod:()=>Uu,chmodSync:()=>Ka,chown:()=>Mu,chownSync:()=>Va,close:()=>xu,closeSync:()=>xt,configure:()=>uw,configureSingle:()=>fw,constants:()=>St,copyFile:()=>Zu,copyFileSync:()=>hs,cp:()=>nd,cpSync:()=>ps,createReadStream:()=>Yu,createWriteStream:()=>Xu,credentials:()=>I,decode:()=>ti,decodeDirListing:()=>On,default:()=>Fw,detachFS:()=>pw,encode:()=>Re,encodeDirListing:()=>Ee,errorMessages:()=>Ur,exists:()=>hu,existsSync:()=>Ge,fchmod:()=>Pu,fchmodSync:()=>jn,fchown:()=>Ou,fchownSync:()=>Un,fdatasync:()=>Fu,fdatasyncSync:()=>Ua,flagToMode:()=>zi,flagToNumber:()=>Rh,flagToString:()=>Ia,fs:()=>En,fstat:()=>_u,fstatSync:()=>Da,fsync:()=>vu,fsyncSync:()=>Wa,ftruncate:()=>ku,ftruncateSync:()=>Ma,futimes:()=>Tu,futimesSync:()=>qn,handleRequest:()=>xn,isAppendable:()=>ft,isBackend:()=>Ci,isBackendConfig:()=>Bi,isExclusive:()=>Hi,isReadable:()=>Et,isStatsEqual:()=>is,isSynchronous:()=>Nh,isTruncating:()=>Vi,isWriteable:()=>be,lchmod:()=>ju,lchmodSync:()=>Ga,lchown:()=>Wu,lchownSync:()=>Ha,levenshtein:()=>jr,link:()=>Cu,linkSync:()=>$a,lopenSync:()=>tn,lstat:()=>yu,lstatSync:()=>cs,lutimes:()=>$u,lutimesSync:()=>Ya,mkdir:()=>Nu,mkdirSync:()=>$n,mkdirpSync:()=>sa,mkdtemp:()=>Qu,mkdtempSync:()=>Ja,mount:()=>Mt,mountObject:()=>Qi,mounts:()=>Ae,normalizeMode:()=>_e,normalizeOptions:()=>xe,normalizePath:()=>x,normalizeTime:()=>Nt,open:()=>gu,openAsBlob:()=>sd,openSync:()=>en,opendir:()=>id,opendirSync:()=>ec,parseFlag:()=>M,promises:()=>Sn,randomIno:()=>Ui,read:()=>Au,readFile:()=>wu,readFileSync:()=>Wn,readSync:()=>qa,readdir:()=>Lu,readdirSync:()=>di,readlink:()=>Du,readlinkSync:()=>fs,readv:()=>ed,readvSync:()=>Qa,realpath:()=>zu,realpathSync:()=>Ke,rename:()=>du,renameSync:()=>Na,resolveMountConfig:()=>Ti,resolveRemoteMount:()=>mw,rm:()=>Ju,rmSync:()=>ds,rmdir:()=>Ru,rmdirSync:()=>ls,rootCredentials:()=>Ad,rootIno:()=>He,setImmediate:()=>Fd,size_max:()=>Ie,stat:()=>pu,statSync:()=>Oe,statfs:()=>rd,statfsSync:()=>tc,symlink:()=>Bu,symlinkSync:()=>za,truncate:()=>mu,truncateSync:()=>La,umount:()=>fi,unlink:()=>bu,unlinkSync:()=>Mn,unwatchFile:()=>Ku,utimes:()=>qu,utimesSync:()=>us,version:()=>Qo,watch:()=>Gu,watchFile:()=>Hu,write:()=>Iu,writeFile:()=>Su,writeFileSync:()=>nn,writeSync:()=>ja,writev:()=>td,writevSync:()=>Za});var U=(p=>(p[p.EPERM=1]="EPERM",p[p.ENOENT=2]="ENOENT",p[p.EINTR=4]="EINTR",p[p.EIO=5]="EIO",p[p.ENXIO=6]="ENXIO",p[p.EBADF=9]="EBADF",p[p.EAGAIN=11]="EAGAIN",p[p.ENOMEM=12]="ENOMEM",p[p.EACCES=13]="EACCES",p[p.EFAULT=14]="EFAULT",p[p.ENOTBLK=15]="ENOTBLK",p[p.EBUSY=16]="EBUSY",p[p.EEXIST=17]="EEXIST",p[p.EXDEV=18]="EXDEV",p[p.ENODEV=19]="ENODEV",p[p.ENOTDIR=20]="ENOTDIR",p[p.EISDIR=21]="EISDIR",p[p.EINVAL=22]="EINVAL",p[p.ENFILE=23]="ENFILE",p[p.EMFILE=24]="EMFILE",p[p.ETXTBSY=26]="ETXTBSY",p[p.EFBIG=27]="EFBIG",p[p.ENOSPC=28]="ENOSPC",p[p.ESPIPE=29]="ESPIPE",p[p.EROFS=30]="EROFS",p[p.EMLINK=31]="EMLINK",p[p.EPIPE=32]="EPIPE",p[p.EDOM=33]="EDOM",p[p.ERANGE=34]="ERANGE",p[p.EDEADLK=35]="EDEADLK",p[p.ENAMETOOLONG=36]="ENAMETOOLONG",p[p.ENOLCK=37]="ENOLCK",p[p.ENOSYS=38]="ENOSYS",p[p.ENOTEMPTY=39]="ENOTEMPTY",p[p.ELOOP=40]="ELOOP",p[p.ENOMSG=42]="ENOMSG",p[p.EBADE=52]="EBADE",p[p.EBADR=53]="EBADR",p[p.EXFULL=54]="EXFULL",p[p.ENOANO=55]="ENOANO",p[p.EBADRQC=56]="EBADRQC",p[p.ENOSTR=60]="ENOSTR",p[p.ENODATA=61]="ENODATA",p[p.ETIME=62]="ETIME",p[p.ENOSR=63]="ENOSR",p[p.ENONET=64]="ENONET",p[p.EREMOTE=66]="EREMOTE",p[p.ENOLINK=67]="ENOLINK",p[p.ECOMM=70]="ECOMM",p[p.EPROTO=71]="EPROTO",p[p.EBADMSG=74]="EBADMSG",p[p.EOVERFLOW=75]="EOVERFLOW",p[p.EBADFD=77]="EBADFD",p[p.ESTRPIPE=86]="ESTRPIPE",p[p.ENOTSOCK=88]="ENOTSOCK",p[p.EDESTADDRREQ=89]="EDESTADDRREQ",p[p.EMSGSIZE=90]="EMSGSIZE",p[p.EPROTOTYPE=91]="EPROTOTYPE",p[p.ENOPROTOOPT=92]="ENOPROTOOPT",p[p.EPROTONOSUPPORT=93]="EPROTONOSUPPORT",p[p.ESOCKTNOSUPPORT=94]="ESOCKTNOSUPPORT",p[p.ENOTSUP=95]="ENOTSUP",p[p.ENETDOWN=100]="ENETDOWN",p[p.ENETUNREACH=101]="ENETUNREACH",p[p.ENETRESET=102]="ENETRESET",p[p.ETIMEDOUT=110]="ETIMEDOUT",p[p.ECONNREFUSED=111]="ECONNREFUSED",p[p.EHOSTDOWN=112]="EHOSTDOWN",p[p.EHOSTUNREACH=113]="EHOSTUNREACH",p[p.EALREADY=114]="EALREADY",p[p.EINPROGRESS=115]="EINPROGRESS",p[p.ESTALE=116]="ESTALE",p[p.EREMOTEIO=121]="EREMOTEIO",p[p.EDQUOT=122]="EDQUOT",p))(U||{}),Ur={1:"Operation not permitted",2:"No such file or directory",4:"Interrupted system call",5:"Input/output error",6:"No such device or address",9:"Bad file descriptor",11:"Resource temporarily unavailable",12:"Cannot allocate memory",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Resource busy or locked",17:"File exists",18:"Invalid cross-device link",19:"No such device",20:"File is not a directory",21:"File is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",26:"Text file busy",27:"File is too big",28:"No space left on disk",29:"Illegal seek",30:"Cannot modify a read-only file system",31:"Too many links",32:"Broken pipe",33:"Numerical argument out of domain",34:"Numerical result out of range",35:"Resource deadlock would occur",36:"File name too long",37:"No locks available",38:"Function not implemented",39:"Directory is not empty",40:"Too many levels of symbolic links",42:"No message of desired type",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",60:"Device not a stream",61:"No data available",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",66:"Object is remote",67:"Link has been severed",70:"Communication error on send",71:"Protocol error",74:"Bad message",75:"Value too large for defined data type",77:"File descriptor in bad state",86:"Streams pipe error",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Protocol not supported",94:"Socket type not supported",95:"Operation is not supported",100:"Network is down",101:"Network is unreachable",102:"Network dropped connection on reset",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"No route to host",114:"Operation already in progress",115:"Operation now in progress",116:"Stale file handle",121:"Remote I/O error",122:"Disk quota exceeded"},u=class e extends Error{constructor(i,n=Ur[i],r,o=""){super(n);this.errno=i;this.path=r;this.syscall=o;this.code=U[i],this.message=`${this.code}: ${n}${this.path?`, '${this.path}'`:""}`}static{s(this,"ErrnoError")}static fromJSON(i){let n=new e(i.errno,i.message,i.path,i.syscall);return n.code=i.code,n.stack=i.stack,n}static With(i,n,r){return new e(U[i],Ur[U[i]],n,r)}toString(){return this.message}toJSON(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message,syscall:this.syscall}}bufferSize(){return 4+JSON.stringify(this.toJSON()).length}};var kd="/";function ra(e,t){let i="",n=0,r=-1,o=0,a="\0";for(let c=0;c<=e.length;++c){if(c<e.length)a=e[c];else{if(a=="/")break;a="/"}if(a=="/"){if(!(r===c-1||o===1))if(o===2){if(i.length<2||n!==2||i.at(-1)!=="."||i.at(-2)!=="."){if(i.length>2){let l=i.lastIndexOf("/");l===-1?(i="",n=0):(i=i.slice(0,l),n=i.length-1-i.lastIndexOf("/")),r=c,o=0;continue}else if(i.length!==0){i="",n=0,r=c,o=0;continue}}t&&(i+=i.length>0?"/..":"..",n=2)}else i.length>0?i+="/"+e.slice(r+1,c):i=e.slice(r+1,c),n=c-r-1;r=c,o=0}else a==="."&&o!==-1?++o:o=-1}return i}s(ra,"normalizeString");function gt(...e){let t="";for(let n of[...e.reverse(),kd])if(n.length&&(t=`${n}/${t}`,n.startsWith("/")))break;let i=t.startsWith("/");return t=ra(t,!i),i?`/${t}`:t.length?t:"/"}s(gt,"resolve");function vd(e){if(!e.length)return".";let t=e.startsWith("/"),i=e.endsWith("/");return e=ra(e,!t),e.length?(i&&(e+="/"),t?`/${e}`:e):t?"/":i?"./":"."}s(vd,"normalize");function V(...e){if(!e.length)return".";let t=e.join("/");return t?.length?vd(t):"."}s(V,"join");function _(e){if(e.length===0)return".";let t=e[0]==="/",i=-1,n=!0;for(let r=e.length-1;r>=1;--r)if(e[r]==="/"){if(!n){i=r;break}}else n=!1;return i===-1?t?"/":".":t&&i===1?"//":e.slice(0,i)}s(_,"dirname");function D(e,t){let i=0,n=-1,r=!0;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let o=t.length-1,a=-1;for(let c=e.length-1;c>=0;--c)if(e[c]==="/"){if(!r){i=c+1;break}}else a===-1&&(r=!1,a=c+1),o>=0&&(e[c]===t[o]?--o===-1&&(n=c):(o=-1,n=a));return i===n?n=a:n===-1&&(n=e.length),e.slice(i,n)}for(let o=e.length-1;o>=0;--o)if(e[o]==="/"){if(!r){i=o+1;break}}else n===-1&&(r=!1,n=o+1);return n===-1?"":e.slice(i,n)}s(D,"basename");function In(e){let t=e.startsWith("/"),i={root:t?"/":"",dir:"",base:"",ext:"",name:""};if(e.length===0)return i;let n=t?1:0,r=-1,o=0,a=-1,c=!0,l=e.length-1,f=0;for(;l>=n;--l){if(e[l]==="/"){if(!c){o=l+1;break}continue}a===-1&&(c=!1,a=l+1),e[l]==="."?r===-1?r=l:f!==1&&(f=1):r!==-1&&(f=-1)}if(a!==-1){let d=o===0&&t?1:o;r===-1||f===0||f===1&&r===a-1&&r===o+1?i.base=i.name=e.slice(d,a):(i.name=e.slice(d,r),i.base=e.slice(d,a),i.ext=e.slice(r,a))}return o>0?i.dir=e.slice(0,o-1):t&&(i.dir="/"),i}s(In,"parse");function sa(e,t,i){i.existsSync(e)||(sa(_(e),t,i),i.mkdirSync(e,t))}s(sa,"mkdirpSync");function An(e,t,i,n,r){return Math.min(e+1,t+1,i+1,n===r?t:t+1)}s(An,"_min");function jr(e,t){if(e===t)return 0;e.length>t.length&&([e,t]=[t,e]);let i=e.length,n=t.length;for(;i>0&&e.charCodeAt(i-1)===t.charCodeAt(n-1);)i--,n--;let r=0;for(;r<i&&e.charCodeAt(r)===t.charCodeAt(r);)r++;if(i-=r,n-=r,i===0||n===1)return n;let o=new Array(i<<1);for(let b=0;b<i;)o[i+b]=e.charCodeAt(r+b),o[b]=++b;let a,c,l,f,d;for(a=0;a+3<n;){let b=t.charCodeAt(r+(c=a)),y=t.charCodeAt(r+(l=a+1)),S=t.charCodeAt(r+(f=a+2)),g=t.charCodeAt(r+(d=a+3)),A=a+=4;for(let k=0;k<i;){let O=o[i+k],C=o[k];c=An(C,c,l,b,O),l=An(c,l,f,y,O),f=An(l,f,d,S,O),A=An(f,d,A,g,O),o[k++]=A,d=f,f=l,l=c,c=C}}let h=0;for(;a<n;){let b=t.charCodeAt(r+(c=a));h=++a;for(let y=0;y<i;y++){let S=o[y];o[y]=h=S<c||h<c?S>h?h+1:S+1:b===o[i+y]?c:c+1,c=S}}return h}s(jr,"levenshtein");var Fd=typeof globalThis.setImmediate=="function"?globalThis.setImmediate:e=>setTimeout(e,0);function Re(e){if(typeof e!="string")throw new u(22,"Can not encode a non-string");return new Uint8Array(Array.from(e).map(t=>t.charCodeAt(0)))}s(Re,"encode");function ti(e){if(!(e instanceof Uint8Array))throw new u(22,"Can not decode a non-Uint8Array");return Array.from(e).map(t=>String.fromCharCode(t)).join("")}s(ti,"decode");function On(e){return JSON.parse(ti(e),(t,i)=>t==""?i:BigInt(i))}s(On,"decodeDirListing");function Ee(e){return Re(JSON.stringify(e,(t,i)=>t==""?i:i.toString()))}s(Ee,"encodeDirListing");function Id(e){if(typeof e=="number")return Math.floor(e);if(e instanceof Date)return Math.floor(e.getTime()/1e3);throw new Error("Cannot parse time")}s(Id,"_toUnixTimestamp");function _e(e,t){if(typeof e=="number")return e;if(typeof e=="string"){let i=parseInt(e,8);if(!isNaN(i))return i}if(typeof t=="number")return t;throw new u(22,"Invalid mode: "+e?.toString())}s(_e,"normalizeMode");function Nt(e){if(e instanceof Date)return e;if(typeof e=="number")return new Date(e*1e3);if(typeof e=="string")return new Date(e);throw new u(22,"Invalid time.")}s(Nt,"normalizeTime");function x(e){if(e=e.toString(),e.includes("\0"))throw new u(22,"Path can not contain null character");if(e.length==0)throw new u(22,"Path can not be empty");return gt(e.replaceAll(/[/\\]+/g,"/"))}s(x,"normalizePath");function xe(e,t="utf8",i,n=0){return typeof e!="object"||e===null?{encoding:typeof e=="string"?e:t??null,flag:i,mode:n}:{encoding:typeof e?.encoding=="string"?e.encoding:t??null,flag:typeof e?.flag=="string"?e.flag:i,mode:_e("mode"in e?e?.mode:null,n)}}s(xe,"normalizeOptions");function Ci(e){return e!=null&&typeof e=="object"&&"isAvailable"in e&&typeof e.isAvailable=="function"&&"create"in e&&typeof e.create=="function"}s(Ci,"isBackend");async function qr(e,t){if(typeof t!="object"||t===null)throw new u(22,"Invalid options");for(let[i,n]of Object.entries(e.options)){let r=t?.[i];if(r==null){if(!n.required)continue;let a=Object.keys(t).filter(c=>!(c in e.options)).map(c=>({str:c,distance:jr(i,c)})).filter(c=>c.distance<5).sort((c,l)=>c.distance-l.distance);throw new u(22,`${e.name}: Required option '${i}' not provided.${a.length>0?` You provided '${a[0].str}', did you mean '${i}'.`:""}`)}if(!(Array.isArray(n.type)?n.type.indexOf(typeof r)!=-1:typeof r==n.type))throw new u(22,`${e.name}: Value provided for option ${i} is not the proper type. Expected ${Array.isArray(n.type)?`one of {${n.type.join(", ")}}`:n.type}, but received ${typeof r}`);n.validator&&await n.validator(r)}}s(qr,"checkOptions");function Bi(e){return e!=null&&typeof e=="object"&&"backend"in e&&Ci(e.backend)}s(Bi,"isBackendConfig");var I={uid:0,gid:0,suid:0,sgid:0,euid:0,egid:0},Ad={uid:0,gid:0,suid:0,sgid:0,euid:0,egid:0};var En={};Fn(En,{BigIntStatsFs:()=>$i,Dir:()=>vt,Dirent:()=>kt,ReadStream:()=>Pt,Stats:()=>X,StatsFs:()=>qi,WriteStream:()=>Tt,access:()=>Vu,accessSync:()=>Xa,appendFile:()=>Eu,appendFileSync:()=>Ba,chmod:()=>Uu,chmodSync:()=>Ka,chown:()=>Mu,chownSync:()=>Va,close:()=>xu,closeSync:()=>xt,constants:()=>St,copyFile:()=>Zu,copyFileSync:()=>hs,cp:()=>nd,cpSync:()=>ps,createReadStream:()=>Yu,createWriteStream:()=>Xu,exists:()=>hu,existsSync:()=>Ge,fchmod:()=>Pu,fchmodSync:()=>jn,fchown:()=>Ou,fchownSync:()=>Un,fdatasync:()=>Fu,fdatasyncSync:()=>Ua,fstat:()=>_u,fstatSync:()=>Da,fsync:()=>vu,fsyncSync:()=>Wa,ftruncate:()=>ku,ftruncateSync:()=>Ma,futimes:()=>Tu,futimesSync:()=>qn,lchmod:()=>ju,lchmodSync:()=>Ga,lchown:()=>Wu,lchownSync:()=>Ha,link:()=>Cu,linkSync:()=>$a,lopenSync:()=>tn,lstat:()=>yu,lstatSync:()=>cs,lutimes:()=>$u,lutimesSync:()=>Ya,mkdir:()=>Nu,mkdirSync:()=>$n,mkdtemp:()=>Qu,mkdtempSync:()=>Ja,mount:()=>Mt,mountObject:()=>Qi,mounts:()=>Ae,open:()=>gu,openAsBlob:()=>sd,openSync:()=>en,opendir:()=>id,opendirSync:()=>ec,promises:()=>Sn,read:()=>Au,readFile:()=>wu,readFileSync:()=>Wn,readSync:()=>qa,readdir:()=>Lu,readdirSync:()=>di,readlink:()=>Du,readlinkSync:()=>fs,readv:()=>ed,readvSync:()=>Qa,realpath:()=>zu,realpathSync:()=>Ke,rename:()=>du,renameSync:()=>Na,rm:()=>Ju,rmSync:()=>ds,rmdir:()=>Ru,rmdirSync:()=>ls,stat:()=>pu,statSync:()=>Oe,statfs:()=>rd,statfsSync:()=>tc,symlink:()=>Bu,symlinkSync:()=>za,truncate:()=>mu,truncateSync:()=>La,umount:()=>fi,unlink:()=>bu,unlinkSync:()=>Mn,unwatchFile:()=>Ku,utimes:()=>qu,utimesSync:()=>us,watch:()=>Gu,watchFile:()=>Hu,write:()=>Iu,writeFile:()=>Su,writeFileSync:()=>nn,writeSync:()=>ja,writev:()=>td,writevSync:()=>Za});var zo=Li(ve(),1);var St={};Fn(St,{COPYFILE_EXCL:()=>Wi,COPYFILE_FICLONE:()=>ch,COPYFILE_FICLONE_FORCE:()=>lh,F_OK:()=>Mi,O_APPEND:()=>ze,O_CREAT:()=>ie,O_DIRECT:()=>mh,O_DIRECTORY:()=>uh,O_DSYNC:()=>ph,O_EXCL:()=>qe,O_NOATIME:()=>dh,O_NOCTTY:()=>fh,O_NOFOLLOW:()=>hh,O_NONBLOCK:()=>bh,O_RDONLY:()=>oi,O_RDWR:()=>de,O_SYMLINK:()=>yh,O_SYNC:()=>ai,O_TRUNC:()=>$e,O_WRONLY:()=>je,R_OK:()=>Fe,S_IFBLK:()=>at,S_IFCHR:()=>ct,S_IFDIR:()=>pe,S_IFIFO:()=>lt,S_IFLNK:()=>Ne,S_IFMT:()=>Y,S_IFREG:()=>he,S_IFSOCK:()=>ot,S_IRGRP:()=>kh,S_IROTH:()=>Ih,S_IRUSR:()=>Eh,S_IRWXG:()=>es,S_IRWXO:()=>ts,S_IRWXU:()=>Zr,S_ISGID:()=>wh,S_ISUID:()=>gh,S_ISVTX:()=>Sh,S_IWGRP:()=>vh,S_IWOTH:()=>Ah,S_IWUSR:()=>_h,S_IXGRP:()=>Fh,S_IXOTH:()=>Oh,S_IXUSR:()=>xh,UV_FS_O_FILEMAP:()=>Ph,W_OK:()=>Q,X_OK:()=>ah});var Mi=0,Fe=4,Q=2,ah=1,Wi=1,ch=2,lh=4,oi=0,je=1,de=2,ie=64,qe=128,fh=256,$e=512,ze=1024,uh=65536,dh=262144,hh=131072,ai=1052672,ph=4096,yh=32768,mh=16384,bh=2048,Y=61440,ot=49152,Ne=40960,he=32768,at=24576,pe=16384,ct=8192,lt=4096,gh=2048,wh=1024,Sh=512,Zr=448,Eh=256,_h=128,xh=64,es=56,kh=32,vh=16,Fh=8,ts=7,Ih=4,Ah=2,Oh=1,Ph=0;var Ie=2**32-1,He=0n;function Fa(){return Math.round(Math.random()*2**32).toString(16)}s(Fa,"_random");function Ui(){return BigInt("0x"+Fa()+Fa())}s(Ui,"randomIno");var j={ino:0,size:8,mode:12,nlink:14,uid:18,gid:22,atime:26,birthtime:34,mtime:42,ctime:50,end:58};var Ve=class{static{s(this,"Inode")}get data(){return new Uint8Array(this.buffer)}constructor(t){let i=!t;if(t??=new ArrayBuffer(j.end),t?.byteLength<j.end)throw new RangeError(`Can not create an inode from a buffer less than ${j.end} bytes`);if(this.view=new DataView(t),this.buffer=t,!i)return;this.ino=Ui(),this.nlink=1,this.size=4096;let n=Date.now();this.atimeMs=n,this.mtimeMs=n,this.ctimeMs=n,this.birthtimeMs=n}get ino(){return this.view.getBigUint64(j.ino,!0)}set ino(t){this.view.setBigUint64(j.ino,t,!0)}get size(){return this.view.getUint32(j.size,!0)}set size(t){this.view.setUint32(j.size,t,!0)}get mode(){return this.view.getUint16(j.mode,!0)}set mode(t){this.view.setUint16(j.mode,t,!0)}get nlink(){return this.view.getUint32(j.nlink,!0)}set nlink(t){this.view.setUint32(j.nlink,t,!0)}get uid(){return this.view.getUint32(j.uid,!0)}set uid(t){this.view.setUint32(j.uid,t,!0)}get gid(){return this.view.getUint32(j.gid,!0)}set gid(t){this.view.setUint32(j.gid,t,!0)}get atimeMs(){return this.view.getFloat64(j.atime,!0)}set atimeMs(t){this.view.setFloat64(j.atime,t,!0)}get birthtimeMs(){return this.view.getFloat64(j.birthtime,!0)}set birthtimeMs(t){this.view.setFloat64(j.birthtime,t,!0)}get mtimeMs(){return this.view.getFloat64(j.mtime,!0)}set mtimeMs(t){this.view.setFloat64(j.mtime,t,!0)}get ctimeMs(){return this.view.getFloat64(j.ctime,!0)}set ctimeMs(t){this.view.setFloat64(j.ctime,t,!0)}toStats(){return new X(this)}update(t){let i=!1;return this.size!==t.size&&(this.size=t.size,i=!0),this.mode!==t.mode&&(this.mode=t.mode,i=!0),this.nlink!==t.nlink&&(this.nlink=t.nlink,i=!0),this.uid!==t.uid&&(this.uid=t.uid,i=!0),this.uid!==t.uid&&(this.uid=t.uid,i=!0),this.atimeMs!==t.atimeMs&&(this.atimeMs=t.atimeMs,i=!0),this.mtimeMs!==t.mtimeMs&&(this.mtimeMs=t.mtimeMs,i=!0),this.ctimeMs!==t.ctimeMs&&(this.ctimeMs=t.ctimeMs,i=!0),i}};var ji=class{constructor({atimeMs:t,mtimeMs:i,ctimeMs:n,birthtimeMs:r,uid:o,gid:a,size:c,mode:l,ino:f}={}){this.dev=this._convert(0);this.ino=this._convert(0);this.rdev=this._convert(0);this.nlink=this._convert(1);this.blksize=this._convert(4096);this.uid=this._convert(0);this.gid=this._convert(0);let d=Date.now();this.atimeMs=this._convert(t??d),this.mtimeMs=this._convert(i??d),this.ctimeMs=this._convert(n??d),this.birthtimeMs=this._convert(r??d),this.uid=this._convert(o??0),this.gid=this._convert(a??0),this.size=this._convert(c??0),this.ino=this._convert(f??0),this.mode=this._convert(l??0),this.mode&61440||(this.mode=this.mode|this._convert(32768))}static{s(this,"StatsCommon")}_convert(t){return this._isBigint?BigInt(t):Number(t)}get blocks(){return this._convert(Math.ceil(Number(this.size)/512))}get atime(){return new Date(Number(this.atimeMs))}set atime(t){this.atimeMs=this._convert(t.getTime())}get mtime(){return new Date(Number(this.mtimeMs))}set mtime(t){this.mtimeMs=this._convert(t.getTime())}get ctime(){return new Date(Number(this.ctimeMs))}set ctime(t){this.ctimeMs=this._convert(t.getTime())}get birthtime(){return new Date(Number(this.birthtimeMs))}set birthtime(t){this.birthtimeMs=this._convert(t.getTime())}isFile(){return(this.mode&61440)===32768}isDirectory(){return(this.mode&61440)===16384}isSymbolicLink(){return(this.mode&61440)===40960}isSocket(){return(this.mode&61440)===49152}isBlockDevice(){return(this.mode&61440)===24576}isCharacterDevice(){return(this.mode&61440)===8192}isFIFO(){return(this.mode&61440)===4096}hasAccess(t,i){if(i.euid===0||i.egid===0)return!0;let n=(i.uid==this.uid?448:0)|(i.gid==this.gid?56:0)|7;return(t&this.mode&n)==t}cred(t=Number(this.uid),i=Number(this.gid)){return{uid:t,gid:i,suid:Number(this.uid),sgid:Number(this.gid),euid:t,egid:i}}chmod(t){this.mode=this._convert(this.mode&61440|t)}chown(t,i){t=Number(t),i=Number(i),!isNaN(t)&&0<=t&&t<2**32&&(this.uid=this._convert(t)),!isNaN(i)&&0<=i&&i<2**32&&(this.gid=this._convert(i))}get atimeNs(){return BigInt(this.atimeMs)*1000n}get mtimeNs(){return BigInt(this.mtimeMs)*1000n}get ctimeNs(){return BigInt(this.ctimeMs)*1000n}get birthtimeNs(){return BigInt(this.birthtimeMs)*1000n}},X=class extends ji{constructor(){super(...arguments);this._isBigint=!1}static{s(this,"Stats")}},me=class extends ji{constructor(){super(...arguments);this._isBigint=!0}static{s(this,"BigIntStats")}};function is(e,t){return e.size==t.size&&+e.atime==+t.atime&&+e.mtime==+t.mtime&&+e.ctime==+t.ctime&&e.mode==t.mode}s(is,"isStatsEqual");var ns=525687744115,qi=class{constructor(){this.type=525687744115;this.bsize=4096;this.blocks=0;this.bfree=0;this.bavail=0;this.files=Ie;this.ffree=Ie}static{s(this,"StatsFs")}},$i=class{constructor(){this.type=0x7a656e6673n;this.bsize=4096n;this.blocks=0n;this.bfree=0n;this.bavail=0n;this.files=BigInt(Ie);this.ffree=BigInt(Ie)}static{s(this,"BigIntStatsFs")}};var Sn={};Fn(Sn,{FileHandle:()=>le,access:()=>Uo,appendFile:()=>Ro,chmod:()=>Do,chown:()=>Co,constants:()=>St,copyFile:()=>Pr,cp:()=>Tr,exists:()=>Me,lchmod:()=>Mo,lchown:()=>Bo,link:()=>No,lstat:()=>vr,lutimes:()=>Wo,mkdir:()=>wn,mkdtemp:()=>jo,open:()=>we,opendir:()=>qo,readFile:()=>gn,readdir:()=>Ut,readlink:()=>Ir,realpath:()=>De,rename:()=>Po,rm:()=>Or,rmdir:()=>Fr,stat:()=>nt,statfs:()=>$o,symlink:()=>Lo,truncate:()=>To,unlink:()=>bn,utimes:()=>Ar,watch:()=>lw,writeFile:()=>Oi});var Zt=Li(ve(),1);Promise.withResolvers??=function(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}};Symbol.dispose??=Symbol("Symbol.dispose");Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");var Th=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];function M(e){if(typeof e=="number")return Ia(e);if(!Th.includes(e))throw new Error("Invalid flag string: "+e);return e}s(M,"parseFlag");function Ia(e){switch(e){case 0:return"r";case 1052672:return"rs";case 2:return"r+";case 1052674:return"rs+";case 577:return"w";case 705:return"wx";case 578:return"w+";case 706:return"wx+";case 1089:return"a";case 1217:return"ax";case 1090:return"a+";case 1218:return"ax+";default:throw new Error("Invalid flag number: "+e)}}s(Ia,"flagToString");function Rh(e){switch(e){case"r":return 0;case"rs":return 1052672;case"r+":return 2;case"rs+":return 1052674;case"w":return 577;case"wx":return 705;case"w+":return 578;case"wx+":return 706;case"a":return 1089;case"ax":return 1217;case"a+":return 1090;case"ax+":return 1218;default:throw new Error("Invalid flag string: "+e)}}s(Rh,"flagToNumber");function zi(e){let t=0;return t<<=1,t+=+Et(e),t<<=1,t+=+be(e),t<<=1,t}s(zi,"flagToMode");function Et(e){return e.indexOf("r")!==-1||e.indexOf("+")!==-1}s(Et,"isReadable");function be(e){return e.indexOf("w")!==-1||e.indexOf("a")!==-1||e.indexOf("+")!==-1}s(be,"isWriteable");function Vi(e){return e.indexOf("w")!==-1}s(Vi,"isTruncating");function ft(e){return e.indexOf("a")!==-1}s(ft,"isAppendable");function Nh(e){return e.indexOf("s")!==-1}s(Nh,"isSynchronous");function Hi(e){return e.indexOf("x")!==-1}s(Hi,"isExclusive");var Bt=class{static{s(this,"File")}[Symbol.asyncDispose](){return this.close()}[Symbol.dispose](){return this.closeSync()}datasync(){return this.sync()}datasyncSync(){return this.syncSync()}},ge=class extends Bt{constructor(i,n,r,o,a=new Uint8Array(new ArrayBuffer(0,i.metadata().noResizableBuffers?{}:{maxByteLength:Ie}))){super();this.fs=i;this.path=n;this.flag=r;this.stats=o;this._buffer=a;this._position=0;this.dirty=!1;this.closed=!1;if(this.stats.size!=a.byteLength){if(Et(this.flag))throw new Error(`Size mismatch: buffer length ${a.byteLength}, stats size ${this.stats.size}`);this.dirty=!0}}static{s(this,"PreloadFile")}get buffer(){return this._buffer}get position(){return ft(this.flag)?this.stats.size:this._position}set position(i){this._position=i}async sync(){if(this.closed)throw u.With("EBADF",this.path,"File.sync");this.dirty&&(await this.fs.sync(this.path,this._buffer,this.stats),this.dirty=!1)}syncSync(){if(this.closed)throw u.With("EBADF",this.path,"File.sync");this.dirty&&(this.fs.syncSync(this.path,this._buffer,this.stats),this.dirty=!1)}async close(){if(this.closed)throw u.With("EBADF",this.path,"File.close");await this.sync(),this.dispose()}closeSync(){if(this.closed)throw u.With("EBADF",this.path,"File.close");this.syncSync(),this.dispose()}dispose(i){if(this.closed)throw u.With("EBADF",this.path,"File.dispose");if(this.dirty&&!i)throw u.With("EBUSY",this.path,"File.dispose");delete this._buffer,delete this.stats,this.closed=!0}stat(){if(this.closed)throw u.With("EBADF",this.path,"File.stat");return Promise.resolve(new X(this.stats))}statSync(){if(this.closed)throw u.With("EBADF",this.path,"File.stat");return new X(this.stats)}_truncate(i){if(this.closed)throw u.With("EBADF",this.path,"File.truncate");if(this.dirty=!0,!be(this.flag))throw new u(1,"File not opened with a writeable mode.");if(this.stats.mtimeMs=Date.now(),i>this._buffer.length){let n=new Uint8Array(i-this._buffer.length);this.writeSync(n,0,n.length,this._buffer.length);return}this.stats.size=i,this._buffer=this._buffer.slice(0,i)}async truncate(i){this._truncate(i),await this.sync()}truncateSync(i){this._truncate(i),this.syncSync()}_write(i,n=0,r=this.stats.size,o=this.position){if(this.closed)throw u.With("EBADF",this.path,"File.write");if(this.dirty=!0,!be(this.flag))throw new u(1,"File not opened with a writeable mode.");let a=o+r;if(a>this.stats.size&&(this.stats.size=a,a>this._buffer.byteLength))if(this._buffer.buffer.resizable&&this._buffer.buffer.maxByteLength<=a)this._buffer.buffer.resize(a);else{let l=new Uint8Array(new ArrayBuffer(a,this.fs.metadata().noResizableBuffers?{}:{maxByteLength:Ie}));l.set(this._buffer),this._buffer=l}let c=i.slice(n,n+r);return this._buffer.set(c,o),this.stats.mtimeMs=Date.now(),this.position=o+c.byteLength,c.byteLength}async write(i,n,r,o){let a=this._write(i,n,r,o);return await this.sync(),a}writeSync(i,n=0,r=this.stats.size,o=this.position){let a=this._write(i,n,r,o);return this.syncSync(),a}_read(i,n=0,r=this.stats.size,o){if(this.closed)throw u.With("EBADF",this.path,"File.read");if(!Et(this.flag))throw new u(1,"File not opened with a readable mode.");this.dirty=!0,o??=this.position;let a=o+r;a>this.stats.size&&(a=o+Math.max(this.stats.size-o,0)),this.stats.atimeMs=Date.now(),this._position=a;let c=a-o;return c==0||new Uint8Array(i.buffer,n,r).set(this._buffer.slice(o,a)),c}async read(i,n,r,o){let a=this._read(i,n,r,o);return await this.sync(),{bytesRead:a,buffer:i}}readSync(i,n,r,o){let a=this._read(i,n,r,o);return this.statSync(),a}async chmod(i){if(this.closed)throw u.With("EBADF",this.path,"File.chmod");this.dirty=!0,this.stats.chmod(i),await this.sync()}chmodSync(i){if(this.closed)throw u.With("EBADF",this.path,"File.chmod");this.dirty=!0,this.stats.chmod(i),this.syncSync()}async chown(i,n){if(this.closed)throw u.With("EBADF",this.path,"File.chown");this.dirty=!0,this.stats.chown(i,n),await this.sync()}chownSync(i,n){if(this.closed)throw u.With("EBADF",this.path,"File.chown");this.dirty=!0,this.stats.chown(i,n),this.syncSync()}async utimes(i,n){if(this.closed)throw u.With("EBADF",this.path,"File.utimes");this.dirty=!0,this.stats.atime=i,this.stats.mtime=n,await this.sync()}utimesSync(i,n){if(this.closed)throw u.With("EBADF",this.path,"File.utimes");this.dirty=!0,this.stats.atime=i,this.stats.mtime=n,this.syncSync()}async _setType(i){if(this.closed)throw u.With("EBADF",this.path,"File._setType");this.dirty=!0,this.stats.mode=this.stats.mode&-61441|i,await this.sync()}_setTypeSync(i){if(this.closed)throw u.With("EBADF",this.path,"File._setType");this.dirty=!0,this.stats.mode=this.stats.mode&-61441|i,this.syncSync()}async[Symbol.asyncDispose](){await this.close()}[Symbol.dispose](){this.closeSync()}},ci=class extends ge{static{s(this,"NoSyncFile")}constructor(t,i,n,r,o){super(t,i,n,r,o)}sync(){return Promise.resolve()}syncSync(){}close(){return Promise.resolve()}closeSync(){}};var _t=Li(ve(),1);var ye=class{static{s(this,"FileSystem")}metadata(){return{name:this.constructor.name.toLowerCase(),readonly:!1,totalSpace:0,freeSpace:0,noResizableBuffers:!1,noAsyncCache:this._disableSync??!1,type:ns}}constructor(...t){}async ready(){}async exists(t){try{return await this.stat(t),!0}catch(i){return i.code!="ENOENT"}}existsSync(t){try{return this.statSync(t),!0}catch(i){return i.code!="ENOENT"}}};var Aa=5,Ki=class extends ye{constructor(i){super();this.store=i;this._initialized=!1}static{s(this,"StoreFS")}async ready(){this._initialized||(await this.checkRoot(),this._initialized=!0)}metadata(){return{...super.metadata(),name:this.store.name}}async empty(){await this.store.clear(),await this.checkRoot()}emptySync(){this.store.clearSync(),this.checkRootSync()}async rename(i,n){var S=[];try{let r=w(S,this.store.transaction(),!0);let o=_(i),a=D(i),c=_(n),l=D(n),f=await this.findINode(r,o),d=await this.getDirListing(r,f,o);if(!d[a])throw u.With("ENOENT",i,"rename");let h=d[a];delete d[a];if((c+"/").indexOf(i+"/")===0)throw new u(16,o);let b,y;c===o?(b=f,y=d):(b=await this.findINode(r,c),y=await this.getDirListing(r,b,c));if(y[l]){let C=await this.getINode(r,y[l],n);if(!C.toStats().isFile())throw u.With("EPERM",n,"rename");await r.remove(C.ino),await r.remove(y[l])}y[l]=h;await r.set(f.ino,Ee(d));await r.set(b.ino,Ee(y));await r.commit()}catch(g){var A=g,k=!0}finally{var O=E(S,A,k);O&&await O}}renameSync(i,n){var S=[];try{let r=w(S,this.store.transaction());let o=_(i),a=D(i),c=_(n),l=D(n),f=this.findINodeSync(r,o),d=this.getDirListingSync(r,f,o);if(!d[a])throw u.With("ENOENT",i,"rename");let h=d[a];delete d[a];if((c+"/").indexOf(i+"/")==0)throw new u(16,o);let b,y;c===o?(b=f,y=d):(b=this.findINodeSync(r,c),y=this.getDirListingSync(r,b,c));if(y[l]){let O=this.getINodeSync(r,y[l],n);if(!O.toStats().isFile())throw u.With("EPERM",n,"rename");r.removeSync(O.ino),r.removeSync(y[l])}y[l]=h;r.setSync(f.ino,Ee(d));r.setSync(b.ino,Ee(y));r.commitSync()}catch(g){var A=g,k=!0}finally{E(S,A,k)}}async stat(i){var o=[];try{let n=w(o,this.store.transaction(),!0);let r=await this.findINode(n,i);if(!r)throw u.With("ENOENT",i,"stat");return r.toStats()}catch(a){var c=a,l=!0}finally{var f=E(o,c,l);f&&await f}}statSync(i){var r=[];try{let n=w(r,this.store.transaction());return this.findINodeSync(n,i).toStats()}catch(o){var a=o,c=!0}finally{E(r,a,c)}}async createFile(i,n,r){let o=await this.commitNew(i,32768,r,new Uint8Array(0));return new ge(this,i,n,o.toStats(),new Uint8Array(0))}createFileSync(i,n,r){return this.commitNewSync(i,32768,r),this.openFileSync(i,n)}async openFile(i,n){var c=[];try{let r=w(c,this.store.transaction(),!0);let o=await this.findINode(r,i),a=await r.get(o.ino);if(!a)throw u.With("ENOENT",i,"openFile");return new ge(this,i,n,o.toStats(),a)}catch(l){var f=l,d=!0}finally{var h=E(c,f,d);h&&await h}}openFileSync(i,n){var c=[];try{let r=w(c,this.store.transaction());let o=this.findINodeSync(r,i),a=r.getSync(o.ino);if(!a)throw u.With("ENOENT",i,"openFile");return new ge(this,i,n,o.toStats(),a)}catch(l){var f=l,d=!0}finally{E(c,f,d)}}async unlink(i){return this.remove(i,!1)}unlinkSync(i){this.removeSync(i,!1)}async rmdir(i){if((await this.readdir(i)).length)throw u.With("ENOTEMPTY",i,"rmdir");await this.remove(i,!0)}rmdirSync(i){if(this.readdirSync(i).length)throw u.With("ENOTEMPTY",i,"rmdir");this.removeSync(i,!0)}async mkdir(i,n){await this.commitNew(i,16384,n,Re("{}"))}mkdirSync(i,n){this.commitNewSync(i,16384,n,Re("{}"))}async readdir(i){var o=[];try{let n=w(o,this.store.transaction(),!0);let r=await this.findINode(n,i);return Object.keys(await this.getDirListing(n,r,i))}catch(a){var c=a,l=!0}finally{var f=E(o,c,l);f&&await f}}readdirSync(i){var o=[];try{let n=w(o,this.store.transaction());let r=this.findINodeSync(n,i);return Object.keys(this.getDirListingSync(n,r,i))}catch(a){var c=a,l=!0}finally{E(o,c,l)}}async sync(i,n,r){var f=[];try{let o=w(f,this.store.transaction(),!0);let a=await this._findINode(o,_(i),D(i)),c=await this.getINode(o,a,i),l=c.update(r);await o.set(c.ino,n);l&&await o.set(a,c.data);await o.commit()}catch(d){var h=d,b=!0}finally{var y=E(f,h,b);y&&await y}}syncSync(i,n,r){var f=[];try{let o=w(f,this.store.transaction());let a=this._findINodeSync(o,_(i),D(i)),c=this.getINodeSync(o,a,i),l=c.update(r);o.setSync(c.ino,n);l&&o.setSync(a,c.data);o.commitSync()}catch(d){var h=d,b=!0}finally{E(f,h,b)}}async link(i,n){var d=[];try{let r=w(d,this.store.transaction(),!0);let o=_(n),a=await this.findINode(r,o),c=await this.getDirListing(r,a,o);let l=await this._findINode(r,_(i),D(i));let f=await this.getINode(r,l,i);f.nlink++;c[D(n)]=l;r.setSync(l,f.data);r.setSync(a.ino,Ee(c));r.commitSync()}catch(h){var b=h,y=!0}finally{var S=E(d,b,y);S&&await S}}linkSync(i,n){var d=[];try{let r=w(d,this.store.transaction());let o=_(n),a=this.findINodeSync(r,o),c=this.getDirListingSync(r,a,o);let l=this._findINodeSync(r,_(i),D(i));let f=this.getINodeSync(r,l,i);f.nlink++;c[D(n)]=l;r.setSync(l,f.data);r.setSync(a.ino,Ee(c));r.commitSync()}catch(h){var b=h,y=!0}finally{E(d,b,y)}}async checkRoot(){var r=[];try{let i=w(r,this.store.transaction(),!0);if(await i.get(He))return;let n=new Ve;n.mode=16895;await i.set(n.ino,Re("{}"));await i.set(He,n.data);await i.commit()}catch(o){var a=o,c=!0}finally{var l=E(r,a,c);l&&await l}}checkRootSync(){var r=[];try{let i=w(r,this.store.transaction());if(i.getSync(He))return;let n=new Ve;n.mode=16895;i.setSync(n.ino,Re("{}"));i.setSync(He,n.data);i.commitSync()}catch(o){var a=o,c=!0}finally{E(r,a,c)}}async _findINode(i,n,r,o=new Set){let a=V(n,r);if(o.has(a))throw new u(5,"Infinite loop detected while finding inode",a);if(o.add(a),n=="/"&&r==="")return He;let c=n=="/"?await this.getINode(i,He,n):await this.findINode(i,n,o),l=await this.getDirListing(i,c,n);if(!(r in l))throw u.With("ENOENT",gt(n,r),"_findINode");return l[r]}_findINodeSync(i,n,r,o=new Set){let a=V(n,r);if(o.has(a))throw new u(5,"Infinite loop detected while finding inode",a);if(o.add(a),n=="/"&&r==="")return He;let c=n=="/"?this.getINodeSync(i,He,n):this.findINodeSync(i,n,o),l=this.getDirListingSync(i,c,n);if(!(r in l))throw u.With("ENOENT",gt(n,r),"_findINode");return l[r]}async findINode(i,n,r=new Set){let o=await this._findINode(i,_(n),D(n),r);return this.getINode(i,o,n)}findINodeSync(i,n,r=new Set){let o=this._findINodeSync(i,_(n),D(n),r);return this.getINodeSync(i,o,n)}async getINode(i,n,r){let o=await i.get(n);if(!o)throw u.With("ENOENT",r,"getINode");return new Ve(o.buffer)}getINodeSync(i,n,r){let o=i.getSync(n);if(!o)throw u.With("ENOENT",r,"getINode");return new Ve(o.buffer)}async getDirListing(i,n,r){if(!n.toStats().isDirectory())throw u.With("ENOTDIR",r,"getDirListing");let o=await i.get(n.ino);if(!o)throw u.With("ENOENT",r,"getDirListing");return On(o)}getDirListingSync(i,n,r){if(!n.toStats().isDirectory())throw u.With("ENOTDIR",r,"getDirListing");let o=i.getSync(n.ino);if(!o)throw u.With("ENOENT",r,"getDirListing");return On(o)}async addNew(i,n,r){for(let o=0;o<Aa;o++){let a=Ui();if(!await i.get(a))return await i.set(a,n),a}throw new u(28,"No inode IDs available",r,"addNewNode")}addNewSync(i,n,r){for(let o=0;o<Aa;o++){let a=Ui();if(!i.getSync(a))return i.setSync(a,n),a}throw new u(28,"No inode IDs available",r,"addNewNode")}async commitNew(i,n,r,o){var b=[];try{let a=w(b,this.store.transaction(),!0);let c=_(i),l=await this.findINode(a,c);let f=D(i),d=await this.getDirListing(a,l,c);if(i==="/")throw u.With("EEXIST",i,"commitNew");if(d[f])throw await a.abort(),u.With("EEXIST",i,"commitNew");let h=new Ve;h.ino=await this.addNew(a,o,i);h.mode=r|n;h.uid=I.uid;h.gid=I.gid;h.size=o.length;d[f]=await this.addNew(a,h.data,i);await a.set(l.ino,Ee(d));await a.commit();return h}catch(y){var S=y,g=!0}finally{var A=E(b,S,g);A&&await A}}commitNewSync(i,n,r,o=new Uint8Array){var b=[];try{let a=w(b,this.store.transaction());let c=_(i),l=this.findINodeSync(a,c);let f=D(i),d=this.getDirListingSync(a,l,c);if(i==="/")throw u.With("EEXIST",i,"commitNew");if(d[f])throw u.With("EEXIST",i,"commitNew");let h=new Ve;h.ino=this.addNewSync(a,o,i);h.size=o.length;h.mode=r|n;h.uid=I.uid;h.gid=I.gid;d[f]=this.addNewSync(a,h.data,i);a.setSync(l.ino,Ee(d));a.commitSync();return h}catch(y){var S=y,g=!0}finally{E(b,S,g)}}async remove(i,n){var h=[];try{let r=w(h,this.store.transaction(),!0);let o=_(i),a=await this.findINode(r,o),c=await this.getDirListing(r,a,o),l=D(i);if(!c[l])throw u.With("ENOENT",i,"remove");let f=c[l];let d=await this.getINode(r,f,i);delete c[l];if(!n&&d.toStats().isDirectory())throw u.With("EISDIR",i,"remove");if(n&&!d.toStats().isDirectory())throw u.With("ENOTDIR",i,"remove");await r.set(a.ino,Ee(c));--d.nlink<1&&(await r.remove(d.ino),await r.remove(f));await r.commit()}catch(b){var y=b,S=!0}finally{var g=E(h,y,S);g&&await g}}removeSync(i,n){var h=[];try{let r=w(h,this.store.transaction());let o=_(i),a=this.findINodeSync(r,o),c=this.getDirListingSync(r,a,o),l=D(i),f=c[l];if(!f)throw u.With("ENOENT",i,"remove");let d=this.getINodeSync(r,f,i);delete c[l];if(!n&&d.toStats().isDirectory())throw u.With("EISDIR",i,"remove");if(n&&!d.toStats().isDirectory())throw u.With("ENOTDIR",i,"remove");r.setSync(a.ino,Ee(c));--d.nlink<1&&(r.removeSync(d.ino),r.removeSync(f));r.commitSync()}catch(b){var y=b,S=!0}finally{E(h,y,S)}}};var Gi=class{constructor(t){this.store=t;this.done=!1}static{s(this,"Transaction")}async[Symbol.asyncDispose](){this.done||await this.abort()}[Symbol.dispose](){this.done||this.abortSync()}},Yi=class extends Gi{static{s(this,"SyncTransaction")}async get(t){return this.getSync(t)}async set(t,i){return this.setSync(t,i)}async remove(t){return this.removeSync(t)}async commit(){return this.commitSync()}async abort(){return this.abortSync()}},rs=class extends Gi{static{s(this,"AsyncTransaction")}getSync(){throw u.With("ENOSYS",void 0,"AsyncTransaction.getSync")}setSync(){throw u.With("ENOSYS",void 0,"AsyncTransaction.setSync")}removeSync(){throw u.With("ENOSYS",void 0,"AsyncTransaction.removeSync")}commitSync(){throw u.With("ENOSYS",void 0,"AsyncTransaction.commitSync")}abortSync(){throw u.With("ENOSYS",void 0,"AsyncTransaction.abortSync")}};var ss=class{constructor(){this.cache=new Map;this.queue=new Set}static{s(this,"SimpleAsyncStore")}get(t){return this.cache.get(t)}set(t,i){this.cache.set(t,i),this.queue.add(this._set(t,i))}delete(t){this.cache.delete(t),this.queue.add(this._delete(t))}clearSync(){this.cache.clear(),this.queue.add(this.clear())}async sync(){for(let[t,i]of await this.entries())this.cache.has(t)||this.cache.set(t,i);for(let t of this.queue)await t}transaction(){return new li(this)}},li=class extends Yi{constructor(i){super(i);this.originalData=new Map;this.modifiedKeys=new Set}static{s(this,"SimpleTransaction")}getSync(i){let n=this.store.get(i);return this.stashOldValue(i,n),n}setSync(i,n){return this.markModified(i),this.store.set(i,n)}removeSync(i){this.markModified(i),this.store.delete(i)}commitSync(){this.done=!0}abortSync(){if(this.done){for(let i of this.modifiedKeys){let n=this.originalData.get(i);n?this.store.set(i,n):this.store.delete(i)}this.done=!0}}stashOldValue(i,n){this.originalData.has(i)||this.originalData.set(i,n)}markModified(i){this.modifiedKeys.add(i),this.originalData.has(i)||this.originalData.set(i,this.store.get(i))}};var Nn=class extends Map{constructor(i="tmp"){super();this.name=i}static{s(this,"InMemoryStore")}async sync(){}clearSync(){this.clear()}transaction(){return new li(this)}},Oa={name:"InMemory",isAvailable:s(function(){return!0},"isAvailable"),options:{name:{type:"string",required:!1,description:"The name of the store"}},create:s(function({name:e}){let t=new Ki(new Nn(e));return t.checkRootSync(),t},"create")},Xi=Oa;var Dt=new Map,Lh=100;function Ji(e){let t=Lh++;return Dt.set(t,e),t}s(Ji,"file2fd");function q(e){if(!Dt.has(e))throw new u(9);return Dt.get(e)}s(q,"fd2file");var Ae=new Map;Mt("/",Xi.create({name:"root"}));function Mt(e,t){if(e[0]!=="/"&&(e="/"+e),e=gt(e),Ae.has(e))throw new u(22,"Mount point "+e+" is already in use.");Ae.set(e,t)}s(Mt,"mount");function fi(e){if(e[0]!=="/"&&(e=`/${e}`),e=gt(e),!Ae.has(e))throw new u(22,"Mount point "+e+" is already unmounted.");Ae.delete(e)}s(fi,"umount");function N(e){e=x(e);let t=[...Ae].sort((i,n)=>i[0].length>n[0].length?-1:1);for(let[i,n]of t)if(i.length<=e.length&&e.startsWith(i))return e=e.slice(i.length>1?i.length:0),e===""&&(e="/"),{fs:n,path:e,mountPoint:i};throw new u(5,"ZenFS not initialized with a file system")}s(N,"resolveMount");function Pa(e,t){for(let[i,n]of Object.entries(t))e=e?.replaceAll(i,n);return e}s(Pa,"fixPaths");function J(e,t){return typeof e.stack=="string"&&(e.stack=Pa(e.stack,t)),e.message=Pa(e.message,t),e}s(J,"fixError");function Qi(e){"/"in e&&fi("/");for(let[t,i]of Object.entries(e))Mt(t,i)}s(Qi,"mountObject");function Ln(e,t){let i=e.metadata(),n=i.blockSize||4096;return{type:(t?BigInt:Number)(i.type),bsize:(t?BigInt:Number)(n),ffree:(t?BigInt:Number)(i.freeNodes||Ie),files:(t?BigInt:Number)(i.totalNodes||Ie),bavail:(t?BigInt:Number)(i.freeSpace/n),bfree:(t?BigInt:Number)(i.freeSpace/n),blocks:(t?BigInt:Number)(i.totalSpace/n)}}s(Ln,"_statfs");var as=Li(Ra(),1);var Bn=class extends as.default{constructor(i){super();this.path=i}static{s(this,"Watcher")}off(i,n,r,o){return super.off(i,n,r,o)}removeListener(i,n,r,o){return super.removeListener(i,n,r,o)}setMaxListeners(){throw u.With("ENOSYS",this.path,"Watcher.setMaxListeners")}getMaxListeners(){throw u.With("ENOSYS",this.path,"Watcher.getMaxListeners")}prependListener(){throw u.With("ENOSYS",this.path,"Watcher.prependListener")}prependOnceListener(){throw u.With("ENOSYS",this.path,"Watcher.prependOnceListener")}rawListeners(){throw u.With("ENOSYS",this.path,"Watcher.rawListeners")}ref(){return this}unref(){return this}},ui=class extends Bn{constructor(i,n){super(i);this.options=n;Dh(i.toString(),this)}static{s(this,"FSWatcher")}close(){super.emit("close"),Mh(this.path.toString(),this)}[Symbol.dispose](){this.close()}},Dn=class extends Bn{constructor(i,n){super(i);this.options=n;this.start()}static{s(this,"StatWatcher")}onInterval(){try{let i=Oe(this.path);is(this.previous,i)||(this.emit("change",i,this.previous),this.previous=i)}catch(i){this.emit("error",i)}}start(){let i=this.options.interval||5e3;try{this.previous=Oe(this.path)}catch(n){this.emit("error",n);return}this.intervalId=setInterval(this.onInterval.bind(this),i),!this.options.persistent&&typeof this.intervalId=="object"&&this.intervalId.unref()}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0),this.removeAllListeners()}},Le=new Map;function Dh(e,t){let i=x(e);Le.has(i)||Le.set(i,new Set),Le.get(i).add(t)}s(Dh,"addWatcher");function Mh(e,t){let i=x(e);Le.has(i)&&(Le.get(i).delete(t),Le.get(i).size===0&&Le.delete(i))}s(Mh,"removeWatcher");function W(e,t){let i=x(t);if(Le.has(i))for(let r of Le.get(i))r.emit("change",e,D(t));let n=_(i);for(;n!==i&&n!=="/";){if(Le.has(n))for(let r of Le.get(n))r.emit("change",e,D(t));i=n,n=_(n)}}s(W,"emitChange");function Na(e,t){e=x(e),t=x(t);let i=N(e),n=N(t);if(!Oe(_(e)).hasAccess(2,I))throw u.With("EACCES",e,"rename");try{if(i===n){i.fs.renameSync(i.path,n.path),W("rename",e.toString());return}nn(t,Wn(e)),Mn(e),W("rename",e.toString())}catch(r){throw J(r,{[i.path]:e,[n.path]:t})}}s(Na,"renameSync");function Ge(e){e=x(e);try{let{fs:t,path:i}=N(Ke(e));return t.existsSync(i)}catch(t){if(t.errno==2)return!1;throw t}}s(Ge,"existsSync");function Oe(e,t){e=x(e);let{fs:i,path:n}=N(Ge(e)?Ke(e):e);try{let r=i.statSync(n);if(!r.hasAccess(4,I))throw u.With("EACCES",e,"stat");return t?.bigint?new me(r):r}catch(r){throw J(r,{[n]:e})}}s(Oe,"statSync");function cs(e,t){e=x(e);let{fs:i,path:n}=N(e);try{let r=i.statSync(n);return t?.bigint?new me(r):r}catch(r){throw J(r,{[n]:e})}}s(cs,"lstatSync");function La(e,t=0){var n=[];try{let i=w(n,Wt(e,"r+"));t||=0;if(t<0)throw new u(22);i.truncateSync(t)}catch(r){var o=r,a=!0}finally{E(n,o,a)}}s(La,"truncateSync");function Mn(e){e=x(e);let{fs:t,path:i}=N(e);try{if(!t.statSync(i).hasAccess(2,I))throw u.With("EACCES",i,"unlink");t.unlinkSync(i),W("rename",e.toString())}catch(n){throw J(n,{[i]:e})}}s(Mn,"unlinkSync");function Wt(e,t,i,n=!0){e=x(e);let r=_e(i,420),o=M(t);e=n&&Ge(e)?Ke(e):e;let{fs:a,path:c}=N(e);if(!a.existsSync(c)){if(!be(o)&&!ft(o)||o=="r+")throw u.With("ENOENT",e,"_open");let d=a.statSync(_(c));if(!d.hasAccess(2,I))throw u.With("EACCES",_(e),"_open");if(!d.isDirectory())throw u.With("ENOTDIR",_(e),"_open");return a.createFileSync(c,o,r)}let l=a.statSync(c);if(!l.hasAccess(r,I)||!l.hasAccess(zi(o),I))throw u.With("EACCES",e,"_open");if(Hi(o))throw u.With("EEXIST",e,"_open");let f=a.openFileSync(c,o);return Vi(o)&&(f.truncateSync(0),f.syncSync()),f}s(Wt,"_openSync");function en(e,t,i=0){return Ji(Wt(e,t,i,!0))}s(en,"openSync");function tn(e,t,i){return Ji(Wt(e,t,i,!1))}s(tn,"lopenSync");function Ca(e,t,i){var a=[];try{let n=w(a,Wt(e,t,420,i));let r=n.statSync();let o=new Uint8Array(r.size);n.readSync(o,0,r.size,0);return o}catch(c){var l=c,f=!0}finally{E(a,l,f)}}s(Ca,"_readFileSync");function Wn(e,t={}){let i=xe(t,null,"r",420),n=M(i.flag);if(!Et(n))throw new u(22,"Flag passed to readFile must allow for reading.");let r=_t.Buffer.from(Ca(typeof e=="number"?q(e).path:e.toString(),i.flag,!0));return i.encoding?r.toString(i.encoding):r}s(Wn,"readFileSync");function nn(e,t,i={}){var c=[];try{let n=xe(i,"utf8","w+",420);let r=M(n.flag);if(!be(r))throw new u(22,"Flag passed to writeFile must allow for writing.");if(typeof t!="string"&&!n.encoding)throw new u(22,"Encoding not specified");let o=typeof t=="string"?_t.Buffer.from(t,n.encoding):new Uint8Array(t.buffer,t.byteOffset,t.byteLength);if(!o)throw new u(22,"Data not specified");let a=w(c,Wt(typeof e=="number"?q(e).path:e.toString(),r,n.mode,!0));a.writeSync(o,0,o.byteLength,0);W("change",e.toString())}catch(l){var f=l,d=!0}finally{E(c,f,d)}}s(nn,"writeFileSync");function Ba(e,t,i={}){var c=[];try{let n=xe(i,"utf8","a",420);let r=M(n.flag);if(!ft(r))throw new u(22,"Flag passed to appendFile must allow for appending.");if(typeof t!="string"&&!n.encoding)throw new u(22,"Encoding not specified");let o=typeof t=="string"?_t.Buffer.from(t,n.encoding):new Uint8Array(t.buffer,t.byteOffset,t.byteLength);let a=w(c,Wt(typeof e=="number"?q(e).path:e.toString(),r,n.mode,!0));a.writeSync(o,0,o.byteLength)}catch(l){var f=l,d=!0}finally{E(c,f,d)}}s(Ba,"appendFileSync");function Da(e,t){let i=q(e).statSync();return t?.bigint?new me(i):i}s(Da,"fstatSync");function xt(e){q(e).closeSync(),Dt.delete(e)}s(xt,"closeSync");function Ma(e,t=0){if(t||=0,t<0)throw new u(22);q(e).truncateSync(t)}s(Ma,"ftruncateSync");function Wa(e){q(e).syncSync()}s(Wa,"fsyncSync");function Ua(e){q(e).datasyncSync()}s(Ua,"fdatasyncSync");function ja(e,t,i,n,r){let o,a,c,l;if(typeof t=="string"){l=typeof i=="number"?i:null;let h=typeof n=="string"?n:"utf8";a=0,o=_t.Buffer.from(t,h),c=o.byteLength}else o=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),a=i,c=n,l=typeof r=="number"?r:null;let f=q(e);l??=f.position;let d=f.writeSync(o,a,c,l);return W("change",f.path),d}s(ja,"writeSync");function qa(e,t,i,n,r){let o=q(e),a=typeof i=="object"?i.offset:i;return typeof i=="object"&&(n=i.length,r=i.position),r=Number(r),isNaN(r)&&(r=o.position),o.readSync(t,a,n,r)}s(qa,"readSync");function Un(e,t,i){q(e).chownSync(t,i)}s(Un,"fchownSync");function jn(e,t){let i=_e(t,-1);if(i<0)throw new u(22,"Invalid mode.");q(e).chmodSync(i)}s(jn,"fchmodSync");function qn(e,t,i){q(e).utimesSync(Nt(t),Nt(i))}s(qn,"futimesSync");function ls(e){e=x(e);let{fs:t,path:i}=N(Ge(e)?Ke(e):e);try{if(!t.statSync(i).hasAccess(2,I))throw u.With("EACCES",i,"rmdir");t.rmdirSync(i),W("rename",e.toString())}catch(n){throw J(n,{[i]:e})}}s(ls,"rmdirSync");function $n(e,t){t=typeof t=="object"?t:{mode:t};let i=_e(t?.mode,511);e=x(e),e=Ge(e)?Ke(e):e;let{fs:n,path:r}=N(e),o={[r]:e};try{if(!t?.recursive){if(!n.statSync(_(r)).hasAccess(2,I))throw u.With("EACCES",_(r),"mkdir");return n.mkdirSync(r,i)}let a=[];for(let c=r,l=e;!n.existsSync(c);c=_(c),l=_(l))a.unshift(c),o[c]=l;for(let c of a){if(!n.statSync(_(c)).hasAccess(2,I))throw u.With("EACCES",_(c),"mkdir");n.mkdirSync(c,i),W("rename",c)}return a[0]}catch(a){throw J(a,o)}}s($n,"mkdirSync");function di(e,t){e=x(e);let{fs:i,path:n}=N(Ge(e)?Ke(e):e),r;if(!Oe(e).hasAccess(4,I))throw u.With("EACCES",e,"readdir");try{r=i.readdirSync(n)}catch(o){throw J(o,{[n]:e})}for(let o of Ae.keys()){if(!o.startsWith(e))continue;let a=o.slice(e.length);a.includes("/")||a.length==0||r.push(a)}return r.map(o=>typeof t=="object"&&t?.withFileTypes?new kt(o,Oe(V(e.toString(),o))):t=="buffer"||typeof t=="object"&&t?.encoding=="buffer"?_t.Buffer.from(o):o)}s(di,"readdirSync");function $a(e,t){if(e=x(e),!Oe(_(e)).hasAccess(4,I))throw u.With("EACCES",_(e),"link");if(t=x(t),!Oe(_(t)).hasAccess(2,I))throw u.With("EACCES",_(t),"link");let{fs:i,path:n}=N(e),r=N(t);if(i!=r.fs)throw u.With("EXDEV",t,"link");try{if(!i.statSync(n).hasAccess(2,I))throw u.With("EACCES",n,"link");return i.linkSync(n,t)}catch(o){throw J(o,{[n]:e,[r.path]:t})}}s($a,"linkSync");function za(e,t,i="file"){if(!["file","dir","junction"].includes(i))throw new u(22,"Invalid type: "+i);if(Ge(t))throw u.With("EEXIST",t.toString(),"symlink");nn(t,e.toString()),Wt(t,"r+",420,!1)._setTypeSync(40960)}s(za,"symlinkSync");function fs(e,t){let i=_t.Buffer.from(Ca(e.toString(),"r",!1)),n=typeof t=="object"?t?.encoding:t;return n=="buffer"?i:i.toString(n)}s(fs,"readlinkSync");function Va(e,t,i){let n=en(e,"r+");Un(n,t,i),xt(n)}s(Va,"chownSync");function Ha(e,t,i){let n=tn(e,"r+");Un(n,t,i),xt(n)}s(Ha,"lchownSync");function Ka(e,t){let i=en(e,"r+");jn(i,t),xt(i)}s(Ka,"chmodSync");function Ga(e,t){let i=tn(e,"r+");jn(i,t),xt(i)}s(Ga,"lchmodSync");function us(e,t,i){let n=en(e,"r+");qn(n,t,i),xt(n)}s(us,"utimesSync");function Ya(e,t,i){let n=tn(e,"r+");qn(n,t,i),xt(n)}s(Ya,"lutimesSync");function Ke(e,t){e=x(e);let{base:i,dir:n}=In(e),r=V(n=="/"?"/":Ke(n),i),{fs:o,path:a,mountPoint:c}=N(r);try{return o.statSync(a).isSymbolicLink()?Ke(c+fs(r,t).toString()):r}catch(l){throw J(l,{[a]:r})}}s(Ke,"realpathSync");function Xa(e,t=384){if(!Oe(e).hasAccess(t,I))throw new u(13)}s(Xa,"accessSync");function ds(e,t){switch(e=x(e),Oe(e).mode&61440){case 16384:if(t?.recursive)for(let n of di(e))ds(V(e,n),t);ls(e);return;case 32768:case 40960:Mn(e);return;case 24576:case 8192:case 4096:case 49152:default:throw new u(1,"File type not supported",e,"rm")}}s(ds,"rmSync");function Ja(e,t){let i=typeof t=="object"?t?.encoding:t||"utf8",r="/tmp/"+`${e}${Date.now()}-${Math.random().toString(36).slice(2)}`;return $n(r),i=="buffer"?_t.Buffer.from(r):r}s(Ja,"mkdtempSync");function hs(e,t,i){if(e=x(e),t=x(t),i&&i&1&&Ge(t))throw new u(17,"Destination file already exists.",t,"copyFile");nn(t,Wn(e)),W("rename",t.toString())}s(hs,"copyFileSync");function Qa(e,t,i){let n=q(e),r=0;for(let o of t)r+=n.readSync(o,0,o.byteLength,i+r);return r}s(Qa,"readvSync");function Za(e,t,i){let n=q(e),r=0;for(let o of t)r+=n.writeSync(new Uint8Array(o.buffer),0,o.byteLength,i+r);return r}s(Za,"writevSync");function ec(e,t){return e=x(e),new vt(e)}s(ec,"opendirSync");function ps(e,t,i){e=x(e),t=x(t);let n=cs(e);if(i?.errorOnExist&&Ge(t))throw new u(17,"Destination file or directory already exists.",t,"cp");switch(n.mode&61440){case 16384:if(!i?.recursive)throw new u(21,e+" is a directory (not copied)",e,"cp");$n(t,{recursive:!0});for(let r of di(e,{withFileTypes:!0}))i.filter&&!i.filter(V(e,r.name),V(t,r.name))||ps(V(e,r.name),V(t,r.name),i);break;case 32768:case 40960:hs(e,t);break;case 24576:case 8192:case 4096:case 49152:default:throw new u(1,"File type not supported",e,"rm")}i?.preserveTimestamps&&us(t,n.atime,n.mtime)}s(ps,"cpSync");function tc(e,t){e=x(e);let{fs:i}=N(e);return Ln(i,t?.bigint)}s(tc,"statfsSync");var kt=class{constructor(t,i){this.path=t;this.stats=i}static{s(this,"Dirent")}get name(){return D(this.path)}get parentPath(){return this.path}isFile(){return this.stats.isFile()}isDirectory(){return this.stats.isDirectory()}isBlockDevice(){return this.stats.isBlockDevice()}isCharacterDevice(){return this.stats.isCharacterDevice()}isSymbolicLink(){return this.stats.isSymbolicLink()}isFIFO(){return this.stats.isFIFO()}isSocket(){return this.stats.isSocket()}},vt=class{constructor(t){this.path=t;this.closed=!1}static{s(this,"Dir")}checkClosed(){if(this.closed)throw new u(9,"Can not use closed Dir")}close(t){if(this.closed=!0,!t)return Promise.resolve();t()}closeSync(){this.closed=!0}async _read(){return this.checkClosed(),this._entries??=await Ut(this.path,{withFileTypes:!0}),this._entries.length?this._entries.shift()??null:null}read(t){if(!t)return this._read();this._read().then(i=>t(void 0,i))}readSync(){return this.checkClosed(),this._entries??=di(this.path,{withFileTypes:!0}),this._entries.length?this._entries.shift()??null:null}async next(){let t=await this._read();return t?{done:!1,value:t}:(await this.close(),{done:!0,value:void 0})}[Symbol.asyncIterator](){return this}};var kr=Li(uu(),1);var Pt=class extends kr.Readable{static{s(this,"ReadStream")}close(t=()=>null){try{super.destroy(),super.emit("close"),t()}catch(i){t(new u(5,i.toString()))}}},Tt=class extends kr.Writable{static{s(this,"WriteStream")}close(t=()=>null){try{super.destroy(),super.emit("close"),t()}catch(i){t(new u(5,i.toString()))}}};var le=class{static{s(this,"FileHandle")}constructor(t){let i=typeof t!="number";this.fd=i?Ji(t):t,this.file=i?t:q(t)}async chown(t,i){await this.file.chown(t,i),W("change",this.file.path)}async chmod(t){let i=_e(t,-1);if(i<0)throw new u(22,"Invalid mode.");await this.file.chmod(i),W("change",this.file.path)}datasync(){return this.file.datasync()}sync(){return this.file.sync()}async truncate(t){if(t||=0,t<0)throw new u(22);await this.file.truncate(t),W("change",this.file.path)}async utimes(t,i){await this.file.utimes(Nt(t),Nt(i)),W("change",this.file.path)}async appendFile(t,i={}){let n=xe(i,"utf8","a",420),r=M(n.flag);if(!ft(r))throw new u(22,"Flag passed to appendFile must allow for appending.");if(typeof t!="string"&&!n.encoding)throw new u(22,"Encoding not specified");let o=typeof t=="string"?Zt.Buffer.from(t,n.encoding):t;await this.file.write(o,0,o.length),W("change",this.file.path)}read(t,i,n,r){return isNaN(+r)&&(r=this.file.position),this.file.read(t,i,n,r)}async readFile(t){let i=xe(t,null,"r",292),n=M(i.flag);if(!Et(n))throw new u(22,"Flag passed must allow for reading.");let{size:r}=await this.stat(),{buffer:o}=await this.file.read(new Uint8Array(r),0,r,0),a=Zt.Buffer.from(o);return i.encoding?a.toString(i.encoding):a}readableWebStream(t={}){let i=s(async r=>{try{let c=0,l=0,f=NaN;for(;f>0;){let d=await this.read(new Uint8Array(65536),0,65536,l);if(!d.bytesRead){r.close();return}if(r.enqueue(d.buffer.slice(0,d.bytesRead)),l+=d.bytesRead,++c>=1e7)throw new u(27,"Too many iterations on readable stream",this.file.path,"FileHandle.readableWebStream");f=d.bytesRead}}catch(o){r.error(o)}},"start"),n=globalThis;if(!("ReadableStream"in n))throw new u(38,"ReadableStream is missing on globalThis");return new n.ReadableStream({start:i,type:t.type})}readLines(t){throw u.With("ENOSYS",this.file.path,"FileHandle.readLines")}[Symbol.asyncDispose](){return this.close()}async stat(t){let i=await this.file.stat();if(!i.hasAccess(4,I))throw u.With("EACCES",this.file.path,"stat");return t?.bigint?new me(i):i}async write(t,i,n,r){let o,a,c;if(typeof t=="string"){r=typeof i=="number"?i:null;let f=typeof n=="string"?n:"utf8";a=0,o=Zt.Buffer.from(t,f),c=o.length}else o=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),a=i,c=n,r=typeof r=="number"?r:null;r??=this.file.position;let l=await this.file.write(o,a,c,r);return W("change",this.file.path),{buffer:o,bytesWritten:l}}async writeFile(t,i={}){let n=xe(i,"utf8","w",420),r=M(n.flag);if(!be(r))throw new u(22,"Flag passed must allow for writing.");if(typeof t!="string"&&!n.encoding)throw new u(22,"Encoding not specified");let o=typeof t=="string"?Zt.Buffer.from(t,n.encoding):t;await this.file.write(o,0,o.length,0),W("change",this.file.path)}async close(){await this.file.close(),Dt.delete(this.fd)}async writev(t,i){let n=0;for(let r of t)n+=(await this.write(r,0,r.length,i+n)).bytesWritten;return{bytesWritten:n,buffers:t}}async readv(t,i){let n=0;for(let r of t)n+=(await this.read(r,0,r.byteLength,i+n)).bytesRead;return{bytesRead:n,buffers:t}}createReadStream(t){let i=new Pt({highWaterMark:t?.highWaterMark||65536,encoding:t.encoding,read:s(async n=>{try{let r=await this.read(new Uint8Array(n),0,n,this.file.position);i.push(r.bytesRead?r.buffer.slice(0,r.bytesRead):null),this.file.position+=r.bytesRead}catch(r){i.destroy(r)}},"read")});return i.path=this.file.path,i}createWriteStream(t){let i={highWaterMark:t?.highWaterMark,encoding:t?.encoding,write:s(async(r,o,a)=>{try{let{bytesWritten:c}=await this.write(r,null,o);a(c==r.length?null:new Error("Failed to write full chunk"))}catch(c){a(c)}},"write")},n=new Tt(i);return n.path=this.file.path,n}};async function Po(e,t){e=x(e),t=x(t);let i=N(e),n=N(t);if(!(await nt(_(e))).hasAccess(2,I))throw u.With("EACCES",e,"rename");try{if(i.mountPoint==n.mountPoint){await i.fs.rename(i.path,n.path),W("rename",e.toString());return}await Oi(t,await gn(e)),await bn(e),W("rename",e.toString())}catch(r){throw J(r,{[i.path]:e,[n.path]:t})}}s(Po,"rename");async function Me(e){try{let{fs:t,path:i}=N(await De(e));return await t.exists(i)}catch(t){if(t instanceof u&&t.code=="ENOENT")return!1;throw t}}s(Me,"exists");async function nt(e,t){e=x(e);let{fs:i,path:n}=N(await Me(e)?await De(e):e);try{let r=await i.stat(n);if(!r.hasAccess(4,I))throw u.With("EACCES",e,"stat");return t?.bigint?new me(r):r}catch(r){throw J(r,{[n]:e})}}s(nt,"stat");async function vr(e,t){e=x(e);let{fs:i,path:n}=N(e);try{let r=await i.stat(n);return t?.bigint?new me(r):r}catch(r){throw J(r,{[n]:e})}}s(vr,"lstat");async function To(e,t=0){var n=[];try{let i=w(n,await we(e,"r+"),!0);await i.truncate(t)}catch(r){var o=r,a=!0}finally{var c=E(n,o,a);c&&await c}}s(To,"truncate");async function bn(e){e=x(e);let{fs:t,path:i}=N(e);try{if(!(await t.stat(i)).hasAccess(2,I))throw u.With("EACCES",i,"unlink");await t.unlink(i),W("rename",e.toString())}catch(n){throw J(n,{[i]:e})}}s(bn,"unlink");async function Ai(e,t,i=420,n){e=x(e);let r=_e(i,420),o=M(t);e=n&&await Me(e)?await De(e):e;let{fs:a,path:c}=N(e),l=await a.stat(c).catch(()=>null);if(!l){if(!be(o)&&!ft(o)||o=="r+")throw u.With("ENOENT",e,"_open");let d=await a.stat(_(c));if(!d.hasAccess(2,I))throw u.With("EACCES",_(e),"_open");if(!d.isDirectory())throw u.With("ENOTDIR",_(e),"_open");return new le(await a.createFile(c,o,r))}if(!l.hasAccess(zi(o),I))throw u.With("EACCES",e,"_open");if(Hi(o))throw u.With("EEXIST",e,"_open");let f=new le(await a.openFile(c,o));return Vi(o)&&(await f.truncate(0),await f.sync()),f}s(Ai,"_open");async function we(e,t="r",i=420){return await Ai(e,t,i,!0)}s(we,"open");async function gn(e,t){var r=[];try{let i=xe(t,null,"r",420);let n=w(r,typeof e=="object"&&"fd"in e?e:await we(e,i.flag,i.mode),!0);return await n.readFile(i)}catch(o){var a=o,c=!0}finally{var l=E(r,a,c);l&&await l}}s(gn,"readFile");async function Oi(e,t,i){var a=[];try{let n=xe(i,"utf8","w+",420);let r=w(a,e instanceof le?e:await we(e.toString(),n.flag,n.mode),!0);let o=t;if(typeof o!="string"&&!(o instanceof Uint8Array))throw new u(22,"Iterables and streams not supported",r.file.path,"writeFile");await r.writeFile(o,n)}catch(c){var l=c,f=!0}finally{var d=E(a,l,f);d&&await d}}s(Oi,"writeFile");async function Ro(e,t,i){var c=[];try{let n=xe(i,"utf8","a",420);let r=M(n.flag);if(!ft(r))throw new u(22,"Flag passed to appendFile must allow for appending.");if(typeof t!="string"&&!n.encoding)throw new u(22,"Encoding not specified");let o=typeof t=="string"?Zt.Buffer.from(t,n.encoding):new Uint8Array(t.buffer,t.byteOffset,t.byteLength);let a=w(c,typeof e=="object"&&"fd"in e?e:await we(e,n.flag,n.mode),!0);await a.appendFile(o,n)}catch(l){var f=l,d=!0}finally{var h=E(c,f,d);h&&await h}}s(Ro,"appendFile");async function Fr(e){e=x(e),e=await Me(e)?await De(e):e;let{fs:t,path:i}=N(e);try{if(!(await t.stat(i)).hasAccess(2,I))throw u.With("EACCES",i,"rmdir");await t.rmdir(i),W("rename",e.toString())}catch(n){throw J(n,{[i]:e})}}s(Fr,"rmdir");async function wn(e,t){t=typeof t=="object"?t:{mode:t};let i=_e(t?.mode,511);e=x(e),e=await Me(e)?await De(e):e;let{fs:n,path:r}=N(e),o={[r]:e};try{if(!t?.recursive){if(!(await n.stat(_(r))).hasAccess(2,I))throw u.With("EACCES",_(r),"mkdir");await n.mkdir(r,i),W("rename",e.toString());return}let a=[];for(let c=r,l=e;!await n.exists(c);c=_(c),l=_(l))a.unshift(c),o[c]=l;for(let c of a){if(!(await n.stat(_(c))).hasAccess(2,I))throw u.With("EACCES",_(c),"mkdir");await n.mkdir(c,i),W("rename",c)}return a[0]}catch(a){throw J(a,o)}}s(wn,"mkdir");async function Ut(e,t){if(e=x(e),!(await nt(e)).hasAccess(4,I))throw u.With("EACCES",e,"readdir");e=await Me(e)?await De(e):e;let{fs:i,path:n}=N(e),r;try{r=await i.readdir(n)}catch(a){throw J(a,{[n]:e})}for(let a of Ae.keys())if(a.startsWith(e)){let c=a.slice(e.length);if(c.includes("/")||c.length==0)continue;r.push(c)}let o=[];for(let a of r)o.push(typeof t=="object"&&t?.withFileTypes?new kt(a,await nt(V(e,a))):a);return o}s(Ut,"readdir");async function No(e,t){if(e=x(e),!(await nt(_(e))).hasAccess(4,I))throw u.With("EACCES",_(e),"link");if(t=x(t),!(await nt(_(t))).hasAccess(2,I))throw u.With("EACCES",_(t),"link");let{fs:i,path:n}=N(e),r=N(t);if(i!=r.fs)throw u.With("EXDEV",t,"link");try{if(!(await i.stat(n)).hasAccess(2,I))throw u.With("EACCES",n,"link");return await i.link(n,r.path)}catch(o){throw J(o,{[r.path]:t,[n]:e})}}s(No,"link");async function Lo(e,t,i="file"){if(!["file","dir","junction"].includes(i))throw new u(22,"Invalid symlink type: "+i);if(await Me(t))throw u.With("EEXIST",t.toString(),"symlink");await Oi(t,e.toString()),await(await Ai(t,"r+",420,!1)).file._setType(40960)}s(Lo,"symlink");async function Ir(e,t){var o=[];try{let i=w(o,await Ai(x(e),"r",420,!1),!0);let n=await i.readFile();let r=typeof t=="object"?t?.encoding:t;return r=="buffer"?n:n.toString(r)}catch(a){var c=a,l=!0}finally{var f=E(o,c,l);f&&await f}}s(Ir,"readlink");async function Co(e,t,i){var r=[];try{let n=w(r,await we(e,"r+"),!0);await n.chown(t,i)}catch(o){var a=o,c=!0}finally{var l=E(r,a,c);l&&await l}}s(Co,"chown");async function Bo(e,t,i){var r=[];try{let n=w(r,await Ai(e,"r+",420,!1),!0);await n.chown(t,i)}catch(o){var a=o,c=!0}finally{var l=E(r,a,c);l&&await l}}s(Bo,"lchown");async function Do(e,t){var n=[];try{let i=w(n,await we(e,"r+"),!0);await i.chmod(t)}catch(r){var o=r,a=!0}finally{var c=E(n,o,a);c&&await c}}s(Do,"chmod");async function Mo(e,t){var n=[];try{let i=w(n,await Ai(e,"r+",420,!1),!0);await i.chmod(t)}catch(r){var o=r,a=!0}finally{var c=E(n,o,a);c&&await c}}s(Mo,"lchmod");async function Ar(e,t,i){var r=[];try{let n=w(r,await we(e,"r+"),!0);await n.utimes(t,i)}catch(o){var a=o,c=!0}finally{var l=E(r,a,c);l&&await l}}s(Ar,"utimes");async function Wo(e,t,i){var r=[];try{let n=w(r,await Ai(e,"r+",420,!1),!0);await n.utimes(new Date(t),new Date(i))}catch(o){var a=o,c=!0}finally{var l=E(r,a,c);l&&await l}}s(Wo,"lutimes");async function De(e,t){e=x(e);let{base:i,dir:n}=In(e),r=V(n=="/"?"/":await De(n),i),{fs:o,path:a,mountPoint:c}=N(r);try{return(await o.stat(a)).isSymbolicLink()?De(c+await Ir(r)):r}catch(l){throw J(l,{[a]:r})}}s(De,"realpath");function lw(e,t={}){return{[Symbol.asyncIterator](){let i=new ui(e.toString(),typeof t!="string"?t:{encoding:t});function n(r){return function(){let o=Promise.withResolvers();return i.on("change",(a,c)=>{o.resolve({value:{eventType:a,filename:c},done:r})}),o.promise}}return s(n,"withDone"),{next:n(!1),return:n(!0),throw:n(!0)}}}}s(lw,"watch");async function Uo(e,t=0){if(!(await nt(e)).hasAccess(t,I))throw new u(13)}s(Uo,"access");async function Or(e,t){switch(e=x(e),(await nt(e)).mode&61440){case 16384:if(t?.recursive)for(let n of await Ut(e))await Or(V(e,n),t);await Fr(e);return;case 32768:case 40960:await bn(e);return;case 24576:case 8192:case 4096:case 49152:default:throw new u(1,"File type not supported",e,"rm")}}s(Or,"rm");async function jo(e,t){let i=typeof t=="object"?t?.encoding:t||"utf8",r="/tmp/"+`${e}${Date.now()}-${Math.random().toString(36).slice(2)}`;return await wn(r),i=="buffer"?Zt.Buffer.from(r):r}s(jo,"mkdtemp");async function Pr(e,t,i){if(e=x(e),t=x(t),i&&i&1&&await Me(t))throw new u(17,"Destination file already exists.",t,"copyFile");await Oi(t,await gn(e)),W("rename",t.toString())}s(Pr,"copyFile");async function qo(e,t){return e=x(e),new vt(e)}s(qo,"opendir");async function Tr(e,t,i){e=x(e),t=x(t);let n=await vr(e);if(i?.errorOnExist&&await Me(t))throw new u(17,"Destination file or directory already exists.",t,"cp");switch(n.mode&61440){case 16384:if(!i?.recursive)throw new u(21,e+" is a directory (not copied)",e,"cp");await wn(t,{recursive:!0});for(let r of await Ut(e,{withFileTypes:!0}))i.filter&&!i.filter(V(e,r.name),V(t,r.name))||await Tr(V(e,r.name),V(t,r.name),i);break;case 32768:case 40960:await Pr(e,t);break;case 24576:case 8192:case 4096:case 49152:default:throw new u(1,"File type not supported",e,"rm")}i?.preserveTimestamps&&await Ar(t,n.atime,n.mtime)}s(Tr,"cp");async function $o(e,t){e=x(e);let{fs:i}=N(e);return Ln(i,t?.bigint)}s($o,"statfs");var v=s(()=>{},"nop");function du(e,t,i=v){Po(e,t).then(()=>i()).catch(i)}s(du,"rename");function hu(e,t=v){Me(e).then(t).catch(()=>t(!1))}s(hu,"exists");function pu(e,t,i=v){i=typeof t=="function"?t:i,nt(e,typeof t!="function"?t:{}).then(n=>i(void 0,n)).catch(i)}s(pu,"stat");function yu(e,t,i=v){i=typeof t=="function"?t:i,vr(e,typeof t!="function"?t:{}).then(n=>i(void 0,n)).catch(i)}s(yu,"lstat");function mu(e,t=0,i=v){i=typeof t=="function"?t:i,To(e,typeof t=="number"?t:0).then(()=>i()).catch(i)}s(mu,"truncate");function bu(e,t=v){bn(e).then(()=>t()).catch(t)}s(bu,"unlink");function gu(e,t,i,n=v){let r=_e(i,420);n=typeof i=="function"?i:n,we(e,t,r).then(o=>n(void 0,o.fd)).catch(n)}s(gu,"open");function wu(e,t,i=v){i=typeof t=="function"?t:i,gn(e,typeof t=="function"?null:t).then(n=>i(void 0,n)).catch(i)}s(wu,"readFile");function Su(e,t,i,n=v){n=typeof i=="function"?i:n,Oi(e,t,typeof i!="function"?i:null).then(()=>n(void 0)).catch(n)}s(Su,"writeFile");function Eu(e,t,i,n=v){let r=typeof i!="function"?i:void 0;n=typeof i=="function"?i:n,Ro(e,t,r).then(()=>n()).catch(n)}s(Eu,"appendFile");function _u(e,t,i=v){i=typeof t=="function"?t:i,q(e).stat().then(n=>i(void 0,typeof t=="object"&&t?.bigint?new me(n):n)).catch(i)}s(_u,"fstat");function xu(e,t=v){new le(e).close().then(()=>t()).catch(t)}s(xu,"close");function ku(e,t,i=v){let n=typeof t=="number"?t:0;i=typeof t=="function"?t:i;let r=q(e);if(n<0)throw new u(22);r.truncate(n).then(()=>i()).catch(i)}s(ku,"ftruncate");function vu(e,t=v){q(e).sync().then(()=>t()).catch(t)}s(vu,"fsync");function Fu(e,t=v){q(e).datasync().then(()=>t()).catch(t)}s(Fu,"fdatasync");function Iu(e,t,i,n,r,o=v){let a,c,l,f,d,h=new le(e);if(typeof t=="string"){switch(d="utf8",typeof i){case"function":o=i;break;case"number":f=i,d=typeof n=="string"?n:"utf8",o=typeof r=="function"?r:o;break;default:o=typeof n=="function"?n:typeof r=="function"?r:o,o(new u(22,"Invalid arguments."));return}a=zo.Buffer.from(t),c=0,l=a.length;let b=o;h.write(a,c,l,f).then(({bytesWritten:y})=>b(void 0,y,a.toString(d))).catch(b)}else{a=zo.Buffer.from(t.buffer),c=i,l=n,f=typeof r=="number"?r:null;let b=typeof r=="function"?r:o;h.write(a,c,l,f).then(({bytesWritten:y})=>b(void 0,y,a)).catch(b)}}s(Iu,"write");function Au(e,t,i,n,r,o=v){new le(e).read(t,i,n,r).then(({bytesRead:a,buffer:c})=>o(void 0,a,c)).catch(o)}s(Au,"read");function Ou(e,t,i,n=v){new le(e).chown(t,i).then(()=>n()).catch(n)}s(Ou,"fchown");function Pu(e,t,i){new le(e).chmod(t).then(()=>i()).catch(i)}s(Pu,"fchmod");function Tu(e,t,i,n=v){new le(e).utimes(t,i).then(()=>n()).catch(n)}s(Tu,"futimes");function Ru(e,t=v){Fr(e).then(()=>t()).catch(t)}s(Ru,"rmdir");function Nu(e,t,i=v){wn(e,t).then(()=>i()).catch(i)}s(Nu,"mkdir");function Lu(e,t,i=v){i=typeof t=="function"?t:i,Ut(e,typeof t!="function"?t:{}).then(r=>i(void 0,r)).catch(i)}s(Lu,"readdir");function Cu(e,t,i=v){No(e,t).then(()=>i()).catch(i)}s(Cu,"link");function Bu(e,t,i,n=v){let r=typeof i=="string"?i:"file";n=typeof i=="function"?i:n,Lo(e,t,r).then(()=>n()).catch(n)}s(Bu,"symlink");function Du(e,t,i=v){i=typeof t=="function"?t:i,Ir(e).then(n=>i(void 0,n)).catch(i)}s(Du,"readlink");function Mu(e,t,i,n=v){Co(e,t,i).then(()=>n()).catch(n)}s(Mu,"chown");function Wu(e,t,i,n=v){Bo(e,t,i).then(()=>n()).catch(n)}s(Wu,"lchown");function Uu(e,t,i=v){Do(e,t).then(()=>i()).catch(i)}s(Uu,"chmod");function ju(e,t,i=v){Mo(e,t).then(()=>i()).catch(i)}s(ju,"lchmod");function qu(e,t,i,n=v){Ar(e,t,i).then(()=>n()).catch(n)}s(qu,"utimes");function $u(e,t,i,n=v){Wo(e,t,i).then(()=>n()).catch(n)}s($u,"lutimes");function zu(e,t,i=v){i=typeof t=="function"?t:i,De(e,typeof t=="function"?null:t).then(n=>i(void 0,n)).catch(i)}s(zu,"realpath");function Vu(e,t,i=v){let n=typeof t=="number"?t:4;i=typeof t=="function"?t:i,Uo(e,n).then(()=>i()).catch(i)}s(Vu,"access");var Pi=new Map;function Hu(e,t,i){let n=x(e.toString()),r=typeof t!="function"?t:{};if(typeof t=="function"&&(i=t),!i)throw new u(22,"No listener specified",e.toString(),"watchFile");if(Pi.has(n)){let a=Pi.get(n);a&&a.listeners.add(i);return}let o=new Dn(n,r);o.on("change",(a,c)=>{let l=Pi.get(n);if(l)for(let f of l.listeners)f(a,c)}),Pi.set(n,{watcher:o,listeners:new Set})}s(Hu,"watchFile");function Ku(e,t=v){let i=x(e.toString()),n=Pi.get(i);n&&(t&&t!==v?n.listeners.delete(t):n.listeners.clear(),n.listeners.size===0&&(n.watcher.stop(),Pi.delete(i)))}s(Ku,"unwatchFile");function Gu(e,t,i){let n=new ui(x(e),typeof t=="object"?t:{});return i=typeof t=="function"?t:i,n.on("change",i||v),n}s(Gu,"watch");function Yu(e,t){let i=typeof t=="object"?t:{encoding:t},n,r=new Pt({highWaterMark:i.highWaterMark||64*1024,encoding:i.encoding||"utf8",read:s(async function(o){try{n||=await we(e,"r",i?.mode);let a=await n.read(new Uint8Array(o),0,o,n.file.position);r.push(a.bytesRead?a.buffer.slice(0,a.bytesRead):null),n.file.position+=a.bytesRead,a.bytesRead||await n.close()}catch(a){await n?.close(),r.destroy(a)}},"read"),destroy:s(function(o,a){n?.close().then(()=>a(o)).catch(v)},"destroy")});return r.path=e.toString(),r}s(Yu,"createReadStream");function Xu(e,t){let i=typeof t=="object"?t:{encoding:t},n,r=new Tt({highWaterMark:i?.highWaterMark,write:s(async function(o,a,c){try{n||=await we(e,"w",i?.mode||438),await n.write(o,0,a),c(void 0)}catch(l){await n?.close(),c(l)}},"write"),destroy:s(function(o,a){a(o),n?.close().then(()=>a(o)).catch(a)},"destroy"),final:s(function(o){n?.close().then(()=>o()).catch(o)},"final")});return r.path=e.toString(),r}s(Xu,"createWriteStream");function Ju(e,t,i=v){i=typeof t=="function"?t:i,Or(e,typeof t=="function"?void 0:t).then(()=>i(void 0)).catch(i)}s(Ju,"rm");function Qu(e,t,i=v){i=typeof t=="function"?t:i,jo(e,typeof t!="function"?t:null).then(n=>i(void 0,n)).catch(i)}s(Qu,"mkdtemp");function Zu(e,t,i,n=v){n=typeof i=="function"?i:n,Pr(e,t,typeof i=="function"?void 0:i).then(()=>n(void 0)).catch(n)}s(Zu,"copyFile");function ed(e,t,i,n=v){n=typeof i=="function"?i:n,new le(e).readv(t,typeof i=="function"?void 0:i).then(({buffers:r,bytesRead:o})=>n(void 0,o,r)).catch(n)}s(ed,"readv");function td(e,t,i,n=v){n=typeof i=="function"?i:n,new le(e).writev(t,typeof i=="function"?void 0:i).then(({buffers:r,bytesWritten:o})=>n(void 0,o,r)).catch(n)}s(td,"writev");function id(e,t,i=v){i=typeof t=="function"?t:i,qo(e,typeof t=="function"?void 0:t).then(n=>i(void 0,n)).catch(i)}s(id,"opendir");function nd(e,t,i,n=v){n=typeof i=="function"?i:n,Tr(e,t,typeof i=="function"?void 0:i).then(()=>n(void 0)).catch(n)}s(nd,"cp");function rd(e,t,i=v){i=typeof t=="function"?t:i,$o(e,typeof t=="function"?void 0:t).then(n=>i(void 0,n)).catch(i)}s(rd,"statfs");async function sd(e,t){let i=await we(e.toString(),"r"),n=await i.readFile();return await i.close(),new Blob([n],t)}s(sd,"openAsBlob");function od(e){return Bi(e)||Ci(e)||e instanceof ye}s(od,"isMountConfig");async function Ti(e,t=0){if(typeof e!="object"||e==null)throw new u(22,"Invalid options on mount configuration");if(!od(e))throw new u(22,"Invalid mount configuration");if(e instanceof ye)return e;Ci(e)&&(e={backend:e});for(let[r,o]of Object.entries(e))if(r!="backend"&&od(o)){if(t>10)throw new u(22,"Invalid configuration, too deep and possibly infinite");e[r]=await Ti(o,++t)}let{backend:i}=e;if(!await i.isAvailable())throw new u(1,"Backend not available: "+i.name);await qr(i,e);let n=await i.create(e);return n._disableSync=e.disableAsyncCache||!1,await n.ready(),n}s(Ti,"resolveMountConfig");async function fw(e){if(!Bi(e))throw new TypeError("Invalid single mount point configuration");let t=await Ti(e);fi("/"),Mt("/",t)}s(fw,"configureSingle");async function uw(e){let t="uid"in e&&e.uid||0,i="gid"in e&&e.gid||0;if(Object.assign(I,{uid:t,gid:i,suid:t,sgid:i,euid:t,egid:i}),!!e.mounts){for(let[n,r]of Object.entries(e.mounts)){if(!n.startsWith("/"))throw new u(22,"Mount points must have absolute paths");Bi(r)&&(r.disableAsyncCache??=e.disableAsyncCache||!1),e.mounts[n]=await Ti(r)}Qi(e.mounts)}}s(uw,"configure");function Vo(e){class t extends e{constructor(){super(...arguments);this._queue=[];this._isInitialized=!1}static{s(this,"AsyncFS")}get _queueRunning(){return!!this._queue.length}queueDone(){return new Promise(r=>{let o=s(()=>this._queueRunning?setTimeout(o):r(),"check");o()})}async ready(){if(await super.ready(),!(this._isInitialized||this._disableSync)){this.checkSync(),await this._sync.ready();try{await this.crossCopy("/"),this._isInitialized=!0}catch(r){throw this._isInitialized=!1,r}}}checkSync(r,o){if(this._disableSync)throw new u(95,"Sync caching has been disabled for this async file system",r,o);if(!this._sync)throw new u(95,"No sync cache is attached to this async file system",r,o)}renameSync(r,o){this.checkSync(r,"rename"),this._sync.renameSync(r,o),this.queue("rename",r,o)}statSync(r){return this.checkSync(r,"stat"),this._sync.statSync(r)}createFileSync(r,o,a){return this.checkSync(r,"createFile"),this._sync.createFileSync(r,o,a),this.queue("createFile",r,o,a),this.openFileSync(r,o)}openFileSync(r,o){this.checkSync(r,"openFile");let a=this._sync.openFileSync(r,o),c=a.statSync(),l=new Uint8Array(c.size);return a.readSync(l),new ge(this,r,o,c,l)}unlinkSync(r){this.checkSync(r,"unlinkSync"),this._sync.unlinkSync(r),this.queue("unlink",r)}rmdirSync(r){this.checkSync(r,"rmdir"),this._sync.rmdirSync(r),this.queue("rmdir",r)}mkdirSync(r,o){this.checkSync(r,"mkdir"),this._sync.mkdirSync(r,o),this.queue("mkdir",r,o)}readdirSync(r){return this.checkSync(r,"readdir"),this._sync.readdirSync(r)}linkSync(r,o){this.checkSync(r,"link"),this._sync.linkSync(r,o),this.queue("link",r,o)}syncSync(r,o,a){this.checkSync(r,"sync"),this._sync.syncSync(r,o,a),this.queue("sync",r,o,a)}existsSync(r){return this.checkSync(r,"exists"),this._sync.existsSync(r)}async crossCopy(r){this.checkSync(r,"crossCopy");let o=await this.stat(r);if(!o.isDirectory()){var c=[];try{let b=w(c,await this.openFile(r,M("r")),!0);let y=w(c,this._sync.createFileSync(r,M("w"),o.mode));let S=new Uint8Array(o.size);await b.read(S);y.writeSync(S,0,o.size);return}catch(l){var f=l,d=!0}finally{var h=E(c,f,d);h&&await h}}if(r!=="/"){let b=await this.stat(r);this._sync.mkdirSync(r,b.mode)}let a=await this.readdir(r);for(let b of a)await this.crossCopy(V(r,b))}async _next(){if(!this._queueRunning)return;let[r,...o]=this._queue.shift();await this[r](...o),await this._next()}queue(...r){this._queue.push(r),this._next()}}return t}s(Vo,"Async");function dw(e){return typeof e=="object"&&e!=null&&"fd"in e&&"path"in e&&"position"in e}s(dw,"isFileData");function Ho(e){return typeof e=="object"&&e!=null&&"_zenfs"in e&&!!e._zenfs}s(Ho,"isMessage");var Ri=new Map;function Ko(e,{port:t,timeout:i=1e3,fs:n}={}){let r=new Error().stack.slice(6);if(!t)throw u.With("EINVAL");return new Promise((o,a)=>{let c=Math.random().toString(16).slice(10);Ri.set(c,{resolve:o,reject:a,fs:n}),t.postMessage({...e,_zenfs:!0,id:c,stack:r});let l=setTimeout(()=>{let f=new u(5,"RPC Failed");f.stack+=r,a(f),typeof l=="object"&&l.unref()},i)})}s(Ko,"request");function ad(e){if(!Ho(e))return;let{id:t,value:i,error:n,stack:r}=e;if(!Ri.has(t)){let l=new u(5,"Invalid RPC id:"+t);throw l.stack+=r,l}let{resolve:o,reject:a,fs:c}=Ri.get(t);if(n){let l=typeof i=="string"?new Error(i):u.fromJSON(i);l.stack+=r,a(l),Ri.delete(t);return}if(dw(i)){let{fd:l,path:f,position:d}=i,h=new _n(c,l,f,d);o(h),Ri.delete(t);return}o(i),Ri.delete(t)}s(ad,"handleResponse");function Rr(e,t){if(!e)throw u.With("EINVAL");e["on"in e?"on":"addEventListener"]("message",i=>{t("data"in i?i.data:i)})}s(Rr,"attach");function Go(e,t){if(!e)throw u.With("EINVAL");e["off"in e?"off":"removeEventListener"]("message",i=>{t("data"in i?i.data:i)})}s(Go,"detach");function cd(e){let t=[],i=t.push.bind(t);return Rr(e,i),function(n){Go(e,i);for(let r of t){let o="data"in r?r.data:r;xn(e,n,o)}}}s(cd,"catchMessages");var _n=class extends Bt{constructor(i,n,r,o){super();this.fs=i;this.fd=n;this.path=r;this.position=o}static{s(this,"PortFile")}rpc(i,...n){return Ko({scope:"file",fd:this.fd,method:i,args:n},this.fs.options)}_throwNoSync(i){throw new u(95,"Syncrohnous operations not support on PortFile",this.path,i)}async stat(){return new X(await this.rpc("stat"))}statSync(){this._throwNoSync("stat")}truncate(i){return this.rpc("truncate",i)}truncateSync(){this._throwNoSync("truncate")}write(i,n,r,o){return this.rpc("write",i,n,r,o)}writeSync(){this._throwNoSync("write")}async read(i,n,r,o){return await this.rpc("read",i,n,r,o)}readSync(){this._throwNoSync("read")}chown(i,n){return this.rpc("chown",i,n)}chownSync(){this._throwNoSync("chown")}chmod(i){return this.rpc("chmod",i)}chmodSync(){this._throwNoSync("chmod")}utimes(i,n){return this.rpc("utimes",i,n)}utimesSync(){this._throwNoSync("utimes")}_setType(i){return this.rpc("_setType",i)}_setTypeSync(){this._throwNoSync("_setType")}close(){return this.rpc("close")}closeSync(){this._throwNoSync("close")}sync(){return this.rpc("sync")}syncSync(){this._throwNoSync("sync")}},Lr=class extends Vo(ye){constructor(i){super();this.options=i;this._sync=Xi.create({name:"port-tmpfs"});this.port=i.port,Rr(this.port,ad)}static{s(this,"PortFS")}metadata(){return{...super.metadata(),name:"PortFS"}}rpc(i,...n){return Ko({scope:"fs",method:i,args:n},{...this.options,fs:this})}async ready(){await this.rpc("ready"),await super.ready()}rename(i,n){return this.rpc("rename",i,n)}async stat(i){return new X(await this.rpc("stat",i))}sync(i,n,r){return this.rpc("sync",i,n,r)}openFile(i,n){return this.rpc("openFile",i,n)}createFile(i,n,r){return this.rpc("createFile",i,n,r)}unlink(i){return this.rpc("unlink",i)}rmdir(i){return this.rpc("rmdir",i)}mkdir(i,n){return this.rpc("mkdir",i,n)}readdir(i){return this.rpc("readdir",i)}exists(i){return this.rpc("exists",i)}link(i,n){return this.rpc("link",i,n)}},ld=0,Nr=new Map;async function xn(e,t,i){if(!Ho(i))return;let{method:n,args:r,id:o,scope:a,stack:c}=i,l,f=!1;try{switch(a){case"fs":l=await t[n](...r),l instanceof Bt&&(Nr.set(++ld,l),l={fd:ld,path:l.path,position:l.position});break;case"file":let{fd:d}=i;if(!Nr.has(d))throw new u(9);l=await Nr.get(d)[n](...r),n=="close"&&Nr.delete(d);break;default:return}}catch(d){l=d instanceof u?d.toJSON():d.toString(),f=!0}e.postMessage({_zenfs:!0,scope:a,id:o,error:f,method:n,stack:c,value:l})}s(xn,"handleRequest");function fd(e,t){Rr(e,i=>xn(e,t,i))}s(fd,"attachFS");function pw(e,t){Go(e,i=>xn(e,t,i))}s(pw,"detachFS");var ud={name:"Port",options:{port:{type:"object",required:!0,description:"The target port that you want to connect to",validator:s(function(e){if(typeof e?.postMessage!="function")throw new u(22,"option must be a port.")},"validator")},timeout:{type:"number",required:!1,description:"How long to wait before the request times out"}},isAvailable:s(async function(){return!0},"isAvailable"),create:s(function(e){return new Lr(e)},"create")},yw=ud;async function mw(e,t,i=0){let n=cd(e),r=await Ti(t,i);return fd(e,r),n(r),r}s(mw,"resolveRemoteMount");function dd(e){try{return JSON.parse(e),!0}catch{return!1}}s(dd,"isJSON");function Yo(e){return e.at(0).toUpperCase()+e.slice(1)}s(Yo,"capitalize");var Xo=Symbol("struct_init"),bw=Symbol("struct");var hd=["int8","uint8","int16","uint16","int32","uint32","int64","uint64","float32","float64"],pd=[...hd,...hd.map(e=>Yo(e)),"char"];function yd(e,t){return function(i,n){let r=typeof n=="object"?n.name:n;if(typeof r=="symbol"&&(console.warn("Symbol used for struct member name will be coerced to string: "+r.toString()),r=r.toString()),!r)throw new ReferenceError("Invalid name for struct member");if(typeof i!="object")throw new TypeError("Invalid member for struct field");if(!("constructor"in i))throw new TypeError("Invalid member for struct field");let o=i.constructor;o[Xo]||=[],o[Xo].push({name:r,type:e,length:t})}}s(yd,"member");function Sw(e){function t(i,n){return typeof i=="number"?yd(e,i):yd(e)(i,n)}return s(t,"_"),t}s(Sw,"_member");var Bx=Object.fromEntries(pd.map(e=>[e,Sw(e)]));function Jo(e){class t extends e{static{s(this,"ReadonlyFS")}metadata(){return{...super.metadata(),readonly:!0}}async rename(n,r){throw new u(30)}renameSync(n,r){throw new u(30)}async createFile(n,r,o){throw new u(30)}createFileSync(n,r,o){throw new u(30)}async unlink(n){throw new u(30)}unlinkSync(n){throw new u(30)}async rmdir(n){throw new u(30)}rmdirSync(n){throw new u(30)}async mkdir(n,r){throw new u(30)}mkdirSync(n,r){throw new u(30)}async link(n,r){throw new u(30)}linkSync(n,r){throw new u(30)}async sync(n,r,o){throw new u(30)}syncSync(n,r,o){throw new u(30)}}return t}s(Jo,"Readonly");var Qo=1,Cr=class e extends Map{static{s(this,"Index")}files(){let t=new Map;for(let[i,n]of this)n.isFile()&&t.set(i,n);return t}toJSON(){return{version:Qo,entries:Object.fromEntries(this)}}toString(){return JSON.stringify(this.toJSON())}dirEntries(t){let i=[];for(let n of this.keys())_(n)==t&&i.push(D(n));return i}fromJSON(t){if(t.version!=Qo)throw new u(22,"Index version mismatch");this.clear();for(let[i,n]of Object.entries(t.entries)){let r=new X(n);r.isDirectory()&&(r.fileData=Re(JSON.stringify(this.dirEntries(i)))),this.set(i,r)}}static parse(t){if(!dd(t))throw new u(22,"Invalid JSON");let i=JSON.parse(t),n=new e;return n.fromJSON(i),n}},kn=class extends Jo(ye){constructor(i){super();this.indexData=i;this.index=new Cr;this._isInitialized=!1}static{s(this,"IndexFS")}async ready(){await super.ready(),!this._isInitialized&&(this.index.fromJSON(await this.indexData),this._isInitialized=!0)}async reloadFiles(){for(let[i,n]of this.index.files())delete n.fileData,n.fileData=await this.getData(i,n)}reloadFilesSync(){for(let[i,n]of this.index.files())delete n.fileData,n.fileData=this.getDataSync(i,n)}stat(i){return Promise.resolve(this.statSync(i))}statSync(i){if(!this.index.has(i))throw u.With("ENOENT",i,"stat");return this.index.get(i)}async openFile(i,n){if(be(n))throw new u(1,i);let r=this.index.get(i);if(!r)throw u.With("ENOENT",i,"openFile");return new ci(this,i,n,r,r.isDirectory()?r.fileData:await this.getData(i,r))}openFileSync(i,n){if(be(n))throw new u(1,i);let r=this.index.get(i);if(!r)throw u.With("ENOENT",i,"openFile");return new ci(this,i,n,r,r.isDirectory()?r.fileData:this.getDataSync(i,r))}readdir(i){return Promise.resolve(this.readdirSync(i))}readdirSync(i){let n=this.index.get(i);if(!n)throw u.With("ENOENT",i,"readdir");if(!n.isDirectory())throw u.With("ENOTDIR",i,"readdir");let r=JSON.parse(ti(n.fileData));if(!Array.isArray(r))throw u.With("ENODATA",i,"readdir");if(!r.every(o=>typeof o=="string"))throw u.With("ENODATA",i,"readdir");return r}};async function md(e,t){let i=await fetch(e).catch(n=>{throw new u(5,n.message)});if(!i.ok)throw new u(5,"fetch failed: response returned code "+i.status);switch(t){case"buffer":{let n=await i.arrayBuffer().catch(r=>{throw new u(5,r.message)});return new Uint8Array(n)}case"json":return i.json().catch(n=>{throw new u(5,n.message)});default:throw new u(22,"Invalid download type: "+t)}}s(md,"fetchFile");var Br=class e extends kn{static{s(this,"FetchFS")}async ready(){if(!this._isInitialized&&(await super.ready(),!this._disableSync))for(let[t,i]of this.index.files())await this.getData(t,i)}constructor({index:t="index.json",baseUrl:i=""}){super(typeof t!="string"?t:md(t,"json")),i.at(-1)!="/"&&(i+="/"),this.baseUrl=i}metadata(){return{...super.metadata(),name:e.name,readonly:!0}}preload(t,i){let n=this.index.get(t);if(!n)throw u.With("ENOENT",t,"preload");if(!n.isFile())throw u.With("EISDIR",t,"preload");n.size=i.length,n.fileData=i}async getData(t,i){if(i.fileData)return i.fileData;let n=await md(this.baseUrl+(t.startsWith("/")?t.slice(1):t),"buffer");return i.fileData=n,n}getDataSync(t,i){if(i.fileData)return i.fileData;throw new u(61,"",t,"getData")}},Ew={name:"Fetch",options:{index:{type:["string","object"],required:!1,description:"URL to a file index as a JSON file or the file index object itself, generated with the make-index script. Defaults to `index.json`."},baseUrl:{type:"string",required:!1,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}},isAvailable:s(function(){return typeof globalThis.fetch=="function"},"isAvailable"),create:s(function(e){return new Br(e)},"create")},_w=Ew;var Dr=class{constructor(t,i){this.path=t;this.previous=i;this.current=Promise.withResolvers();this._isLocked=!0}static{s(this,"MutexLock")}get isLocked(){return this._isLocked}async done(){await this.previous?.done(),await this.current.promise}unlock(){this.current.resolve(),this._isLocked=!1}[Symbol.dispose](){this.unlock()}};function Zo(e){class t extends e{constructor(){super(...arguments);this.locks=new Map}static{s(this,"MutexedFS")}addLock(r){let o=this.locks.get(r),a=new Dr(r,o?.isLocked?o:void 0);return this.locks.set(r,a),a}async lock(r,o){let a=this.locks.get(r),c=this.addLock(r),l=new Error().stack;return setTimeout(()=>{if(c.isLocked){let f=u.With("EDEADLK",r,o);throw f.stack+=l?.slice(5),f}},5e3),await a?.done(),c}lockSync(r){if(this.locks.has(r))throw u.With("EBUSY",r,"lock");return this.addLock(r)}isLocked(r){return!!this.locks.get(r)?.isLocked}async rename(r,o){var c=[];try{let a=w(c,await this.lock(r,"rename"));await super.rename(r,o)}catch(l){var f=l,d=!0}finally{E(c,f,d)}}renameSync(r,o){var c=[];try{let a=w(c,this.lockSync(r));return super.renameSync(r,o)}catch(l){var f=l,d=!0}finally{E(c,f,d)}}async stat(r){var a=[];try{let o=w(a,await this.lock(r,"stat"));return await super.stat(r)}catch(c){var l=c,f=!0}finally{E(a,l,f)}}statSync(r){var a=[];try{let o=w(a,this.lockSync(r));return super.statSync(r)}catch(c){var l=c,f=!0}finally{E(a,l,f)}}async openFile(r,o){var c=[];try{let a=w(c,await this.lock(r,"openFile"));return await super.openFile(r,o)}catch(l){var f=l,d=!0}finally{E(c,f,d)}}openFileSync(r,o){var c=[];try{let a=w(c,this.lockSync(r));return super.openFileSync(r,o)}catch(l){var f=l,d=!0}finally{E(c,f,d)}}async createFile(r,o,a){var l=[];try{let c=w(l,await this.lock(r,"createFile"));return await super.createFile(r,o,a)}catch(f){var d=f,h=!0}finally{E(l,d,h)}}createFileSync(r,o,a){var l=[];try{let c=w(l,this.lockSync(r));return super.createFileSync(r,o,a)}catch(f){var d=f,h=!0}finally{E(l,d,h)}}async unlink(r){var a=[];try{let o=w(a,await this.lock(r,"unlink"));await super.unlink(r)}catch(c){var l=c,f=!0}finally{E(a,l,f)}}unlinkSync(r){var a=[];try{let o=w(a,this.lockSync(r));return super.unlinkSync(r)}catch(c){var l=c,f=!0}finally{E(a,l,f)}}async rmdir(r){var a=[];try{let o=w(a,await this.lock(r,"rmdir"));await super.rmdir(r)}catch(c){var l=c,f=!0}finally{E(a,l,f)}}rmdirSync(r){var a=[];try{let o=w(a,this.lockSync(r));return super.rmdirSync(r)}catch(c){var l=c,f=!0}finally{E(a,l,f)}}async mkdir(r,o){var c=[];try{let a=w(c,await this.lock(r,"mkdir"));await super.mkdir(r,o)}catch(l){var f=l,d=!0}finally{E(c,f,d)}}mkdirSync(r,o){var c=[];try{let a=w(c,this.lockSync(r));return super.mkdirSync(r,o)}catch(l){var f=l,d=!0}finally{E(c,f,d)}}async readdir(r){var a=[];try{let o=w(a,await this.lock(r,"readdir"));return await super.readdir(r)}catch(c){var l=c,f=!0}finally{E(a,l,f)}}readdirSync(r){var a=[];try{let o=w(a,this.lockSync(r));return super.readdirSync(r)}catch(c){var l=c,f=!0}finally{E(a,l,f)}}async exists(r){var a=[];try{let o=w(a,await this.lock(r,"exists"));return await super.exists(r)}catch(c){var l=c,f=!0}finally{E(a,l,f)}}existsSync(r){var a=[];try{let o=w(a,this.lockSync(r));return super.existsSync(r)}catch(c){var l=c,f=!0}finally{E(a,l,f)}}async link(r,o){var c=[];try{let a=w(c,await this.lock(r,"link"));await super.link(r,o)}catch(l){var f=l,d=!0}finally{E(c,f,d)}}linkSync(r,o){var c=[];try{let a=w(c,this.lockSync(r));return super.linkSync(r,o)}catch(l){var f=l,d=!0}finally{E(c,f,d)}}async sync(r,o,a){var l=[];try{let c=w(l,await this.lock(r,"sync"));await super.sync(r,o,a)}catch(f){var d=f,h=!0}finally{E(l,d,h)}}syncSync(r,o,a){var l=[];try{let c=w(l,this.lockSync(r));return super.syncSync(r,o,a)}catch(f){var d=f,h=!0}finally{E(l,d,h)}}}return t}s(Zo,"Mutexed");var ea="/.deleted",Mr=class extends ye{constructor({writable:i,readable:n}){super();this._isInitialized=!1;this._deletedFiles=new Set;this._deleteLog="";this._deleteLogUpdatePending=!1;this._deleteLogUpdateNeeded=!1;if(this.writable=i,this.readable=n,this.writable.metadata().readonly)throw new u(22,"Writable file system must be writable.");this._ready=this._initialize()}static{s(this,"UnmutexedOverlayFS")}async ready(){await this.readable.ready(),await this.writable.ready(),await this._ready}metadata(){return{...super.metadata(),name:vn.name}}async sync(i,n,r){await this.createParentDirectories(i),await this.writable.exists(i)||await this.writable.createFile(i,"w",420),await this.writable.sync(i,n,r)}syncSync(i,n,r){this.createParentDirectoriesSync(i),this.writable.syncSync(i,n,r)}async _initialize(){if(!this._isInitialized){try{let i=await this.writable.openFile(ea,M("r")),{size:n}=await i.stat(),{buffer:r}=await i.read(new Uint8Array(n));this._deleteLog=ti(r)}catch(i){if(i.errno!==2)throw i}this._isInitialized=!0,this._reparseDeletionLog()}}getDeletionLog(){return this._deleteLog}async restoreDeletionLog(i){this._deleteLog=i,this._reparseDeletionLog(),await this.updateLog("")}async rename(i,n){this.checkInitialized(),this.checkPath(i),this.checkPath(n);try{await this.writable.rename(i,n)}catch{if(this._deletedFiles.has(i))throw u.With("ENOENT",i,"rename")}}renameSync(i,n){this.checkInitialized(),this.checkPath(i),this.checkPath(n);try{this.writable.renameSync(i,n)}catch{if(this._deletedFiles.has(i))throw u.With("ENOENT",i,"rename")}}async stat(i){this.checkInitialized();try{return await this.writable.stat(i)}catch{if(this._deletedFiles.has(i))throw u.With("ENOENT",i,"stat");let r=new X(await this.readable.stat(i));return r.mode|=146,r}}statSync(i){this.checkInitialized();try{return this.writable.statSync(i)}catch{if(this._deletedFiles.has(i))throw u.With("ENOENT",i,"stat");let r=new X(this.readable.statSync(i));return r.mode|=146,r}}async openFile(i,n){if(await this.writable.exists(i))return this.writable.openFile(i,n);let r=await this.readable.openFile(i,M("r")),o=new X(await r.stat()),{buffer:a}=await r.read(new Uint8Array(o.size));return new ge(this,i,n,o,a)}openFileSync(i,n){if(this.writable.existsSync(i))return this.writable.openFileSync(i,n);let r=this.readable.openFileSync(i,M("r")),o=new X(r.statSync()),a=new Uint8Array(o.size);return r.readSync(a),new ge(this,i,n,o,a)}async createFile(i,n,r){return this.checkInitialized(),await this.writable.createFile(i,n,r),this.openFile(i,n)}createFileSync(i,n,r){return this.checkInitialized(),this.writable.createFileSync(i,n,r),this.openFileSync(i,n)}async link(i,n){this.checkInitialized(),await this.writable.link(i,n)}linkSync(i,n){this.checkInitialized(),this.writable.linkSync(i,n)}async unlink(i){if(this.checkInitialized(),this.checkPath(i),!await this.exists(i))throw u.With("ENOENT",i,"unlink");await this.writable.exists(i)&&await this.writable.unlink(i),await this.exists(i)&&await this.deletePath(i)}unlinkSync(i){if(this.checkInitialized(),this.checkPath(i),!this.existsSync(i))throw u.With("ENOENT",i,"unlink");this.writable.existsSync(i)&&this.writable.unlinkSync(i),this.existsSync(i)&&this.deletePath(i)}async rmdir(i){if(this.checkInitialized(),!await this.exists(i))throw u.With("ENOENT",i,"rmdir");if(await this.writable.exists(i)&&await this.writable.rmdir(i),await this.exists(i)){if((await this.readdir(i)).length>0)throw u.With("ENOTEMPTY",i,"rmdir");await this.deletePath(i)}}rmdirSync(i){if(this.checkInitialized(),!this.existsSync(i))throw u.With("ENOENT",i,"rmdir");if(this.writable.existsSync(i)&&this.writable.rmdirSync(i),this.existsSync(i)){if(this.readdirSync(i).length>0)throw u.With("ENOTEMPTY",i,"rmdir");this.deletePath(i)}}async mkdir(i,n){if(this.checkInitialized(),await this.exists(i))throw u.With("EEXIST",i,"mkdir");await this.createParentDirectories(i),await this.writable.mkdir(i,n)}mkdirSync(i,n){if(this.checkInitialized(),this.existsSync(i))throw u.With("EEXIST",i,"mkdir");this.createParentDirectoriesSync(i),this.writable.mkdirSync(i,n)}async readdir(i){if(this.checkInitialized(),!(await this.stat(i)).isDirectory())throw u.With("ENOTDIR",i,"readdir");let r=[];try{r.push(...await this.writable.readdir(i))}catch{}try{r.push(...(await this.readable.readdir(i)).filter(a=>!this._deletedFiles.has(`${i}/${a}`)))}catch{}let o={};return r.filter(a=>{let c=!o[a];return o[a]=!0,c})}readdirSync(i){if(this.checkInitialized(),!this.statSync(i).isDirectory())throw u.With("ENOTDIR",i,"readdir");let r=[];try{r=r.concat(this.writable.readdirSync(i))}catch{}try{r=r.concat(this.readable.readdirSync(i).filter(a=>!this._deletedFiles.has(`${i}/${a}`)))}catch{}let o={};return r.filter(a=>{let c=!o[a];return o[a]=!0,c})}async deletePath(i){this._deletedFiles.add(i),await this.updateLog(`d${i}
`)}async updateLog(i){if(this._deleteLog+=i,this._deleteLogUpdatePending){this._deleteLogUpdateNeeded=!0;return}this._deleteLogUpdatePending=!0;let n=await this.writable.openFile(ea,M("w"));try{await n.write(Re(this._deleteLog)),this._deleteLogUpdateNeeded&&(this._deleteLogUpdateNeeded=!1,await this.updateLog(""))}catch(r){this._deleteLogError=r}finally{this._deleteLogUpdatePending=!1}}_reparseDeletionLog(){this._deletedFiles.clear();for(let i of this._deleteLog.split(`
`))i.startsWith("d")&&this._deletedFiles.add(i.slice(1))}checkInitialized(){if(!this._isInitialized)throw new u(1,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.");if(!this._deleteLogError)return;let i=this._deleteLogError;throw delete this._deleteLogError,i}checkPath(i){if(i==ea)throw u.With("EPERM",i,"checkPath")}createParentDirectoriesSync(i){let n=_(i),r=[];for(;!this.writable.existsSync(n);)r.push(n),n=_(n);r=r.reverse();for(let o of r)this.writable.mkdirSync(o,this.statSync(o).mode)}async createParentDirectories(i){let n=_(i),r=[];for(;!await this.writable.exists(n);)r.push(n),n=_(n);r=r.reverse();for(let o of r){let a=await this.stat(o);await this.writable.mkdir(o,a.mode)}}operateOnWritable(i){if(!this.existsSync(i))throw u.With("ENOENT",i,"operateOnWriteable");this.writable.existsSync(i)||this.copyToWritableSync(i)}async operateOnWritableAsync(i){if(!await this.exists(i))throw u.With("ENOENT",i,"operateOnWritable");if(!await this.writable.exists(i))return this.copyToWritable(i)}copyToWritableSync(i){let n=this.statSync(i);if(n.isDirectory()){this.writable.mkdirSync(i,n.mode);return}let r=new Uint8Array(n.size),o=this.readable.openFileSync(i,M("r"));o.readSync(r),o.closeSync();let a=this.writable.openFileSync(i,M("w"));a.writeSync(r),a.closeSync()}async copyToWritable(i){let n=await this.stat(i);if(n.isDirectory()){await this.writable.mkdir(i,n.mode);return}let r=new Uint8Array(n.size),o=await this.readable.openFile(i,M("r"));await o.read(r),await o.close();let a=await this.writable.openFile(i,M("w"));await a.write(r),await a.close()}},vn=class extends Zo(Mr){static{s(this,"OverlayFS")}},xw={name:"Overlay",options:{writable:{type:"object",required:!0,description:"The file system to write modified files to."},readable:{type:"object",required:!0,description:"The file system that initially populates this file system."}},isAvailable:s(function(){return!0},"isAvailable"),create:s(function(e){return new vn(e)},"create")},kw=xw;function vw(e){class t extends e{static{s(this,"SyncFS")}async exists(n){return this.existsSync(n)}async rename(n,r){return this.renameSync(n,r)}async stat(n){return this.statSync(n)}async createFile(n,r,o){return this.createFileSync(n,r,o)}async openFile(n,r){return this.openFileSync(n,r)}async unlink(n){return this.unlinkSync(n)}async rmdir(n){return this.rmdirSync(n)}async mkdir(n,r){return this.mkdirSync(n,r)}async readdir(n){return this.readdirSync(n)}async link(n,r){return this.linkSync(n,r)}async sync(n,r,o){return this.syncSync(n,r,o)}}return t}s(vw,"Sync");var Fw=En;return xd(Iw);})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=browser.min.js.map
